/*! For license information please see main.3a0deffa.js.LICENSE.txt */
(()=>{var e={32:(e,t,n)=>{"use strict";n.d(t,{gS:()=>Wu,rJ:()=>Dd,kd:()=>$u,H9:()=>Fd,x7:()=>Mu,GG:()=>Lu,aU:()=>Od,GV:()=>Ku,aQ:()=>Vu,My:()=>ju,P:()=>bu,O5:()=>Gu,BN:()=>Bu,mZ:()=>Uu,_M:()=>Su});var r,i=n(150),o=n(812),s=n(443),a=n(700),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},c={},d=d||{},u=l||self;function h(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),f=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function w(){this.s=this.s,this.o=this.o}w.prototype.s=!1,w.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++f))},w.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function k(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(h(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",()=>{},t),u.removeEventListener("test",()=>{},t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=u.navigator;return e&&(e=e.userAgent)?e:""}function I(e){return-1!=T().indexOf(e)}function R(e){return R[" "](e),e}R[" "]=function(){};var A,P,D=I("Opera"),F=I("Trident")||I("MSIE"),N=I("Edge"),z=N||F,M=I("Gecko")&&!(-1!=T().toLowerCase().indexOf("webkit")&&!I("Edge"))&&!(I("Trident")||I("MSIE"))&&!I("Edge"),O=-1!=T().toLowerCase().indexOf("webkit")&&!I("Edge");function L(){var e=u.document;return e?e.documentMode:void 0}e:{var B="",U=function(){var e=T();return M?/rv:([^\);]+)(\)|;)/.exec(e):N?/Edge\/([\d\.]+)/.exec(e):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):O?/WebKit\/(\S+)/.exec(e):D?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(U&&(B=U?U[1]:""),F){var $=L();if(null!=$&&$>parseFloat(B)){A=String($);break e}}A=B}if(u.document&&F){var W=L();P=W||(parseInt(A,10)||void 0)}else P=void 0;var V=P;function H(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(M){e:{try{R(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.$.h.call(this)}}b(H,j);var q={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),K=0;function Y(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++K,this.fa=this.ia=!1}function Q(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function J(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function X(e){const t={};for(const n in e)t[n]=e[n];return t}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Z.length;t++)n=Z[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=S(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function re(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}te.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=re(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Y(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),oe={};function se(e,t,n,r,i){if(r&&r.once)return le(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);return null}return n=fe(n),e&&e[G]?e.O(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!1,r,i)}function ae(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pe(e);if(a||(e[ie]=a=new te(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=he;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ue(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function le(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,r,i);return null}return n=fe(n),e&&e[G]?e.P(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!0,r,i)}function ce(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=fe(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=re(o=e.g[t],n,r,i))&&(Q(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=re(t,n,r,i)),(n=-1<e?t[e]:null)&&de(n))}function de(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[G])ne(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ue(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pe(t))?(ne(n,e),0==n.h&&(n.src=null,t[ie]=null)):Q(e)}}}function ue(e){return e in oe?oe[e]:oe[e]="on"+e}function he(e,t){if(e.fa)e=!0;else{t=new H(t,this);var n=e.listener,r=e.la||e.src;e.ia&&de(e),e=n.call(r,t)}return e}function pe(e){return(e=e[ie])instanceof te?e:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[ge]||(e[ge]=function(t){return e.handleEvent(t)}),e[ge])}function me(){w.call(this),this.i=new te(this),this.S=this,this.J=null}function ye(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;ee(t=new j(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ve(s,r,!0,t)&&i}if(i=ve(s=t.g=e,r,!0,t)&&i,i=ve(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ve(s=t.g=n[o],r,!1,t)&&i}function ve(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ne(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}b(me,w),me.prototype[G]=!0,me.prototype.removeEventListener=function(e,t,n,r){ce(this,e,t,n,r)},me.prototype.N=function(){if(me.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q(n[r]);delete t.g[e],t.h--}}this.J=null},me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},me.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xe=u.JSON.stringify;function be(){var e=_e;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var we=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Se,e=>e.reset());class Se{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ke(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ce(e){u.setTimeout(()=>{throw e},0)}let je,Ee=!1,_e=new class{constructor(){this.h=this.g=null}add(e,t){const n=we.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Te=()=>{const e=u.Promise.resolve(void 0);je=()=>{e.then(Ie)}};var Ie=()=>{for(var e;e=be();){try{e.h.call(e.g)}catch(n){Ce(n)}var t=we;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ee=!1};function Re(e,t){me.call(this),this.h=e||1,this.g=t||u,this.j=v(this.qb,this),this.l=Date.now()}function Ae(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Pe(e,t,n){if("function"===typeof e)n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function De(e){e.g=Pe(()=>{e.g=null,e.i&&(e.i=!1,De(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}b(Re,me),(r=Re.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ye(this,"tick"),this.ga&&(Ae(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Re.$.N.call(this),Ae(this),delete this.g};class Fe extends w{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(e){w.call(this),this.h=e,this.g={}}b(Ne,w);var ze=[];function Me(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=se(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Oe(e){J(e.g,function(e,t){this.g.hasOwnProperty(t)&&de(e)},e),e.g={}}function Le(){this.g=!0}function Be(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return xe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ne.prototype.N=function(){Ne.$.N.call(this),Oe(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Le.prototype.Ea=function(){this.g=!1},Le.prototype.info=function(){};var Ue={},$e=null;function We(){return $e=$e||new me}function Ve(e){j.call(this,Ue.Ta,e)}function He(e){const t=We();ye(t,new Ve(t))}function qe(e,t){j.call(this,Ue.STAT_EVENT,e),this.stat=t}function Ge(e){const t=We();ye(t,new qe(t,e))}function Ke(e,t){j.call(this,Ue.Ua,e),this.size=t}function Ye(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},t)}Ue.Ta="serverreachability",b(Ve,j),Ue.STAT_EVENT="statevent",b(qe,j),Ue.Ua="timingevent",b(Ke,j);var Qe={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Je={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xe(){}function Ze(e){return e.h||(e.h=e.i())}function et(){}Xe.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){j.call(this,"d")}function it(){j.call(this,"c")}function ot(){}function st(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ne(this),this.P=lt,e=z?125:void 0,this.V=new Re(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}b(rt,j),b(it,j),b(ot,Xe),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},tt=new ot;var lt=45e3,ct={},dt={};function ut(e,t,n){e.L=1,e.v=Rt(jt(t)),e.s=n,e.S=!0,ht(e,null)}function ht(e,t){e.G=Date.now(),mt(e),e.A=jt(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Wt(n.i,"t",r),e.C=0,n=e.l.J,e.h=new at,e.g=Hn(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fe(v(e.Pa,e,e.g),e.O)),Me(e.U,e.g,"readystatechange",e.nb),t=e.I?X(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),He(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+c+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.W,e.s)}function pt(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function gt(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ft(e,n),r==dt){4==t&&(e.o=4,Ge(14),i=!1),Be(e.j,e.m,null,"[Incomplete Response]");break}if(r==ct){e.o=4,Ge(15),Be(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Be(e.j,e.m,r,null),wt(e,r)}pt(e)&&r!=dt&&r!=ct&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ge(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(t),t.M=!0,Ge(11))):(Be(e.j,e.m,n,"[Invalid Chunked Response]"),bt(e),xt(e))}function ft(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dt:(n=Number(t.substring(n,r)),isNaN(n)?ct:(r+=1)+n>t.length?dt:(t=t.slice(r,r+n),e.C=r+n,t))}function mt(e){e.Y=Date.now()+e.P,yt(e,e.P)}function yt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ye(v(e.lb,e),t)}function vt(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function xt(e){0==e.l.H||e.J||Bn(e.l,e)}function bt(e){vt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ae(e.V),Oe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function wt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Qt(n.i,e)))if(!e.K&&Qt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ln(n),In(n)}zn(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ye(v(n.ib,n),6e3));if(1>=Yt(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else $n(n,11)}else if((e.K||n.g==e)&&Ln(n),!_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const d=c[5];null!=d&&"number"===typeof d&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Jt(o,o.h),o.h=null))}if(r.F){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,It(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Vn(r,r.J?r.pa:null,r.Y),s.K){Xt(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(vt(a),mt(a)),r.g=s}else Nn(r);0<n.j.length&&An(n)}else"stop"!=c[0]&&"close"!=c[0]||$n(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?$n(n,7):Tn(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}He()}catch(c){}}function St(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=st.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==Sn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const d=Sn(this.g);var t=this.g.Ia();this.g.da();if(!(3>d)&&(3!=d||z||this.g&&(this.h.h||this.g.ja()||kn(this.g)))){this.J||4!=d||7==t||He(),vt(this);var n=this.g.da();this.ca=n;t:if(pt(this)){var r=kn(this.g);e="";var i=r.length,o=4==Sn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bt(this),xt(this);var s="";break t}this.h.i=new u.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ge(12),bt(this),xt(this);break e}Be(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wt(this,n)}this.S?(gt(this,d,s),z&&this.i&&3==d&&(Me(this.U,this.V,"tick",this.mb),this.V.start())):(Be(this.j,this.m,s,null),wt(this,s)),4==d&&bt(this),this.i&&!this.J&&(4==d?Bn(this.l,this):(this.i=!1,mt(this)))}else(function(e){const t={};e=(e.g&&2<=Sn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=ke(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ge(12)):(this.o=0,Ge(13)),bt(this),xt(this)}}}catch(d){}},r.mb=function(){if(this.g){var e=Sn(this.g),t=this.g.ja();this.C<t.length&&(vt(this),gt(this,e,t),this.i&&4!=e&&mt(this))}},r.cancel=function(){this.J=!0,bt(this)},r.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(He(),Ge(17)),bt(this),this.o=2,xt(this)):yt(this,this.Y-e)};var kt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ct(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ct){this.h=e.h,Et(this,e.j),this.s=e.s,this.g=e.g,_t(this,e.m),this.l=e.l;var t=e.i,n=new Lt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tt(this,n),this.o=e.o}else e&&(t=String(e).match(kt))?(this.h=!1,Et(this,t[1]||"",!0),this.s=At(t[2]||""),this.g=At(t[3]||"",!0),_t(this,t[4]),this.l=At(t[5]||"",!0),Tt(this,t[6]||"",!0),this.o=At(t[7]||"")):(this.h=!1,this.i=new Lt(null,this.h))}function jt(e){return new Ct(e)}function Et(e,t,n){e.j=n?At(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _t(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tt(e,t,n){t instanceof Lt?(e.i=t,function(e,t){t&&!e.j&&(Bt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ut(this,t),Wt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Pt(t,Mt)),e.i=new Lt(t,e.h))}function It(e,t,n){e.i.set(t,n)}function Rt(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function At(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Dt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ct.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pt(t,Ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pt(t,Ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pt(n,"/"==n.charAt(0)?zt:Nt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pt(n,Ot)),e.join("")};var Ft=/[#\/\?@]/g,Nt=/[#\?:]/g,zt=/[#\?]/g,Mt=/[#\?@]/g,Ot=/#/g;function Lt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ut(e,t){Bt(e),t=Vt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $t(e,t){return Bt(e),t=Vt(e,t),e.g.has(t)}function Wt(e,t,n){Ut(e,t),0<n.length&&(e.i=null,e.g.set(Vt(e,t),k(n)),e.h+=n.length)}function Vt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Lt.prototype).add=function(e,t){Bt(this),this.i=null,e=Vt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},r.ta=function(){Bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){Bt(this);let t=[];if("string"===typeof e)$t(this,e)&&(t=t.concat(this.g.get(Vt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Bt(this),this.i=null,$t(this,e=Vt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Ht=class{constructor(e,t){this.g=e,this.map=t}};function qt(e){this.l=e||Gt,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ka&&u.g.Ka()&&u.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gt=10;function Kt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yt(e){return e.h?1:e.g?e.g.size:0}function Qt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jt(e,t){e.g?e.g.add(t):e.h=t}function Xt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zt(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return k(e.i)}qt.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var en,tn=class{stringify(e){return u.JSON.stringify(e,void 0)}parse(e){return u.JSON.parse(e,void 0)}};function nn(){this.g=new tn}function rn(e,t,n){const r=n||"";try{St(e,function(e,n){let i=e;p(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function on(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function sn(e){this.l=e.fc||null,this.j=e.ob||!1}function an(e,t){me.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ln,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b(sn,Xe),sn.prototype.g=function(){return new an(this.l,this.j)},sn.prototype.i=(en={},function(){return en}),b(an,me);var ln=0;function cn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function dn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,un(e)}function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=an.prototype).open=function(e,t){if(this.readyState!=ln)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||u).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dn(this)),this.readyState=ln},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dn(this):un(this),3==this.readyState&&cn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,dn(this))},r.Ya=function(e){this.g&&(this.response=e,dn(this))},r.ka=function(){this.g&&dn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(an.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hn=u.JSON.parse;function pn(e){me.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gn,this.L=this.M=!1}b(pn,me);var gn="",fn=/^https?$/i,mn=["POST","PUT"];function yn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vn(e),bn(e)}function vn(e){e.F||(e.F=!0,ye(e,"complete"),ye(e,"error"))}function xn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Sn(e)||2!=e.da()))if(e.v&&4==Sn(e))Pe(e.La,0,e);else if(ye(e,"readystatechange"),4==Sn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(kt)[1]||null;!i&&u.self&&u.self.location&&(i=u.self.location.protocol.slice(0,-1)),r=!fn.test(i?i.toLowerCase():"")}n=r}if(n)ye(e,"complete"),ye(e,"success");else{e.m=6;try{var o=2<Sn(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",vn(e)}}finally{bn(e)}}}function bn(e,t){if(e.g){wn(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ye(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function wn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Sn(e){return e.g?e.g.readyState:0}function kn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tr){return null}}function Cn(e){let t="";return J(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):It(e,t,n))}function En(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _n(e){this.Ga=0,this.j=[],this.l=new Le,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=En("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=En("baseRetryDelayMs",5e3,e),this.hb=En("retryDelaySeedMs",1e4,e),this.eb=En("forwardChannelMaxRetries",2,e),this.xa=En("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qt(e&&e.concurrentRequestLimit),this.Ja=new nn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Tn(e){if(Rn(e),3==e.H){var t=e.W++,n=jt(e.I);if(It(n,"SID",e.K),It(n,"RID",t),It(n,"TYPE","terminate"),Dn(e,n),(t=new st(e,e.l,t)).L=2,t.v=Rt(jt(n)),n=!1,u.navigator&&u.navigator.sendBeacon)try{n=u.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hn(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mt(t)}Wn(e)}function In(e){e.g&&(Mn(e),e.g.cancel(),e.g=null)}function Rn(e){In(e),e.u&&(u.clearTimeout(e.u),e.u=null),Ln(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function An(e){if(!Kt(e.i)&&!e.m){e.m=!0;var t=e.Na;je||Te(),Ee||(je(),Ee=!0),_e.add(t,e),e.C=0}}function Pn(e,t){var n;n=t?t.m:e.W++;const r=jt(e.I);It(r,"SID",e.K),It(r,"RID",n),It(r,"AID",e.V),Dn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new st(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Fn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Jt(e.i,n),ut(n,r,t)}function Dn(e,t){e.na&&J(e.na,function(e,n){It(t,n,e)}),e.h&&St({},function(e,n){It(t,n,e)})}function Fn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?v(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{rn(a,e,"req"+n+"_")}catch(Lr){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Nn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;je||Te(),Ee||(je(),Ee=!0),_e.add(t,e),e.A=0}}function zn(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ye(v(e.Ma,e),Un(e,e.A)),e.A++,!0)}function Mn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function On(e){e.g=new st(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=jt(e.wa);It(t,"RID","rpc"),It(t,"SID",e.K),It(t,"AID",e.V),It(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&It(t,"TO",e.qa),It(t,"TYPE","xmlhttp"),Dn(e,t),e.o&&e.s&&jn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Rt(jt(t)),n.s=null,n.S=!0,ht(n,e)}function Ln(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Bn(e,t){var n=null;if(e.g==t){Ln(e),Mn(e),e.g=null;var r=2}else{if(!Qt(e.i,t))return;n=t.F,Xt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ye(r=We(),new Ke(r,n)),An(e)}else Nn(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Yt(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ye(v(e.Na,e,t),Un(e,e.C)),e.C++,!0))}(e,t)||2==r&&zn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$n(e,5);break;case 4:$n(e,10);break;case 3:$n(e,6);break;default:$n(e,2)}}function Un(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function $n(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=v(e.pb,e);n||(n=new Ct("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Et(n,"https"),Rt(n)),function(e,t){const n=new Le;if(u.Image){const r=new Image;r.onload=x(on,n,r,"TestLoadImage: loaded",!0,t),r.onerror=x(on,n,r,"TestLoadImage: error",!1,t),r.onabort=x(on,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=x(on,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ge(2);e.H=0,e.h&&e.h.za(t),Wn(e),Rn(e)}function Wn(e){if(e.H=0,e.ma=[],e.h){const t=Zt(e.i);0==t.length&&0==e.j.length||(C(e.ma,t),C(e.ma,e.j),e.i.i.length=0,k(e.j),e.j.length=0),e.h.ya()}}function Vn(e,t,n){var r=n instanceof Ct?jt(n):new Ct(n);if(""!=r.g)t&&(r.g=t+"."+r.g),_t(r,r.m);else{var i=u.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ct(null);r&&Et(o,r),t&&(o.g=t),i&&_t(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&It(r,n,t),It(r,"VER",e.ra),Dn(e,r),r}function Hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new pn(new sn({ob:!0})):new pn(e.va)).Oa(e.J),t}function qn(){}function Gn(){if(F&&!(10<=Number(V)))throw Error("Environmental error: no available transport.")}function Kn(e,t){me.call(this),this.g=new _n(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jn(this)}function Yn(e){rt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qn(){it.call(this),this.status=1}function Jn(e){this.g=e}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Zn(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function er(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=pn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?Ze(this.u):Ze(tt),this.g.onreadystatechange=v(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void yn(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=u.FormData&&e instanceof u.FormData,!(0<=S(mn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wn(this),0<this.B&&((this.L=function(e){return F&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.ua,this)):this.A=Pe(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){yn(this,o)}},r.ua=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ye(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ye(this,"complete"),ye(this,"abort"),bn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bn(this,!0)),pn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?xn(this):this.kb())},r.kb=function(){xn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch(en){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=_n.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new st(this,this.l,e);let o=this.s;if(this.U&&(o?(o=X(o),ee(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Fn(this,i,t),It(n=jt(this.I),"RID",e),It(n,"CVER",22),this.F&&It(n,"X-HTTP-Session-Id",this.F),Dn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Cn(o)))+"&"+t:this.o&&jn(n,this.o,o)),Jt(this.i,i),this.bb&&It(n,"TYPE","init"),this.P?(It(n,"$req",t),It(n,"SID","null"),i.aa=!0,ut(i,n,null)):ut(i,n,t),this.H=2}}else 3==this.H&&(e?Pn(this,e):0==this.j.length||Kt(this.i)||Pn(this))},r.Ma=function(){if(this.u=null,On(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ye(v(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),In(this),On(this))},r.ib=function(){null!=this.v&&(this.v=null,In(this),zn(this),Ge(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=qn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Gn.prototype.g=function(e,t){return new Kn(e,t)},b(Kn,me),Kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ge(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Vn(e,null,e.Y),An(e)},Kn.prototype.close=function(){Tn(this.g)},Kn.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=xe(e),e=n);t.j.push(new Ht(t.fb++,e)),3==t.H&&An(t)},Kn.prototype.N=function(){this.g.h=null,delete this.j,Tn(this.g),delete this.g,Kn.$.N.call(this)},b(Yn,rt),b(Qn,it),b(Jn,qn),Jn.prototype.Ba=function(){ye(this.g,"a")},Jn.prototype.Aa=function(e){ye(this.g,new Yn(e))},Jn.prototype.za=function(e){ye(this.g,new Qn)},Jn.prototype.ya=function(){ye(this.g,"b")},b(Xn,function(){this.blockSize=-1}),Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Zn(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Zn(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Zn(this,r),i=0;break}}this.h=i,this.i+=t},Xn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var tr={};function nr(e){return-128<=e&&128>e?function(e,t){var n=tr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new er([0|e],0>e?-1:0)}):new er([0|e],0>e?-1:0)}function rr(e){if(isNaN(e)||!isFinite(e))return or;if(0>e)return dr(rr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ir;return new er(t,0)}var ir=4294967296,or=nr(0),sr=nr(1),ar=nr(16777216);function lr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function cr(e){return-1==e.h}function dr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new er(n,~e.h).add(sr)}function ur(e,t){return e.add(dr(t))}function hr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function pr(e,t){this.g=e,this.h=t}function gr(e,t){if(lr(t))throw Error("division by zero");if(lr(e))return new pr(or,or);if(cr(e))return t=gr(dr(e),t),new pr(dr(t.g),dr(t.h));if(cr(t))return t=gr(e,dr(t)),new pr(dr(t.g),t.h);if(30<e.g.length){if(cr(e)||cr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=sr,r=t;0>=r.X(e);)n=fr(n),r=fr(r);var i=mr(n,1),o=mr(r,1);for(r=mr(r,2),n=mr(n,2);!lr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=mr(r,1),n=mr(n,1)}return t=ur(e,i.R(t)),new pr(i,t)}for(i=or;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=rr(n)).R(t);cr(s)||0<s.X(e);)s=(o=rr(n-=r)).R(t);lr(o)&&(o=sr),i=i.add(o),e=ur(e,s)}return new pr(i,e)}function fr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new er(n,e.h)}function mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new er(i,e.h)}(r=er.prototype).ea=function(){if(cr(this))return-dr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ir+r)*t,t*=ir}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(lr(this))return"0";if(cr(this))return"-"+dr(this).toString(e);for(var t=rr(Math.pow(e,6)),n=this,r="";;){var i=gr(n,t).g,o=((0<(n=ur(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(lr(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return cr(e=ur(this,e))?-1:lr(e)?0:1},r.abs=function(){return cr(this)?dr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new er(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(lr(this)||lr(e))return or;if(cr(this))return cr(e)?dr(this).R(dr(e)):dr(dr(this).R(e));if(cr(e))return dr(this.R(dr(e)));if(0>this.X(ar)&&0>e.X(ar))return rr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,hr(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new er(n,0)},r.gb=function(e){return gr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new er(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new er(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new er(n,this.h^e.h)},Gn.prototype.createWebChannel=Gn.prototype.g,Kn.prototype.send=Kn.prototype.u,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Je.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",me.prototype.listen=me.prototype.O,pn.prototype.listenOnce=pn.prototype.P,pn.prototype.getLastError=pn.prototype.Sa,pn.prototype.getLastErrorCode=pn.prototype.Ia,pn.prototype.getStatus=pn.prototype.da,pn.prototype.getResponseJson=pn.prototype.Wa,pn.prototype.getResponseText=pn.prototype.ja,pn.prototype.send=pn.prototype.ha,pn.prototype.setWithCredentials=pn.prototype.Oa,Xn.prototype.digest=Xn.prototype.l,Xn.prototype.reset=Xn.prototype.reset,Xn.prototype.update=Xn.prototype.j,er.prototype.add=er.prototype.add,er.prototype.multiply=er.prototype.R,er.prototype.modulo=er.prototype.gb,er.prototype.compare=er.prototype.X,er.prototype.toNumber=er.prototype.ea,er.prototype.toString=er.prototype.toString,er.prototype.getBits=er.prototype.D,er.fromNumber=rr,er.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return dr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=rr(Math.pow(n,8)),i=or,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=rr(Math.pow(n,s)),i=i.R(s).add(rr(a))):i=(i=i.R(r)).add(rr(a))}return i};var yr=c.createWebChannelTransport=function(){return new Gn},vr=c.getStatEventTarget=function(){return We()},xr=c.ErrorCode=Qe,br=c.EventType=Je,wr=c.Event=Ue,Sr=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kr=c.FetchXmlHttpFactory=sn,Cr=c.WebChannel=et,jr=c.XhrIo=pn,Er=c.Md5=Xn,_r=c.Integer=er;const Tr="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Rr="9.23.0";const Ar=new s.Vy("@firebase/firestore");function Pr(){return Ar.logLevel}function Dr(e){if(Ar.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zr);Ar.debug(`Firestore (${Rr}): ${e}`,...i)}}function Fr(e){if(Ar.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zr);Ar.error(`Firestore (${Rr}): ${e}`,...i)}}function Nr(e){if(Ar.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zr);Ar.warn(`Firestore (${Rr}): ${e}`,...i)}}function zr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mr(){const e=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Fr(e),new Error(e)}function Or(e,t){e||Mr()}function Lr(e,t){return e}const Br={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ur extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class Hr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qr{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $r,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Dr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Dr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $r)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Dr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Or("string"==typeof t.accessToken),new Wr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Or(null===e||"string"==typeof e),new Ir(e)}}class Gr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Kr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Gr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qr{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Dr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,Dr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Dr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Dr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Or("string"==typeof e.token),this.T=e.token,new Yr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Xr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Jr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Zr(e,t){return e<t?-1:e>t?1:0}function ei(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ur(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ur(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ur(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ur(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ti(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zr(this.nanoseconds,e.nanoseconds):Zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ni{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ni(e)}static min(){return new ni(new ti(0,0))}static max(){return new ni(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ri{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mr(),void 0===n?n=e.length-t:n>e.length-t&&Mr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ri.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ii extends ri{construct(e,t,n){return new ii(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ur(Br.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ii(e)}static emptyPath(){return new ii([])}}const oi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends ri{construct(e,t,n){return new si(e,t,n)}static isValidIdentifier(e){return oi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ur(Br.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ur(Br.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ur(Br.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ur(Br.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(t)}static emptyPath(){return new si([])}}class ai{constructor(e){this.path=e}static fromPath(e){return new ai(ii.fromString(e))}static fromName(e){return new ai(ii.fromString(e).popFirst(5))}static empty(){return new ai(ii.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ii.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ii.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ai(new ii(e.slice()))}}class li{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}li.UNKNOWN_ID=-1;function ci(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ni.fromTimestamp(1e9===r?new ti(n+1,0):new ti(n,r));return new ui(i,ai.empty(),t)}function di(e){return new ui(e.readTime,e.key,-1)}class ui{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ui(ni.min(),ai.empty(),-1)}static max(){return new ui(ni.max(),ai.empty(),-1)}}function hi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ai.comparator(e.documentKey,t.documentKey),0!==n?n:Zr(e.largestBatchId,t.largestBatchId))}const pi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function fi(e){if(e.code!==Br.FAILED_PRECONDITION||e.message!==pi)throw e;Dr("LocalStore","Unexpectedly lost primary lease")}class mi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mi((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mi?t:mi.resolve(t)}catch(e){return mi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mi.reject(t)}static resolve(e){return new mi((t,n)=>{t(e)})}static reject(e){return new mi((t,n)=>{n(e)})}static waitFor(e){return new mi((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=mi.resolve(!1);for(const n of e)t=t.next(e=>e?mi.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new mi((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new mi((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function yi(e){return"IndexedDbTransactionError"===e.name}class vi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function xi(e){return null==e}function bi(e){return 0===e&&1/e==-1/0}function wi(e){return"number"==typeof e&&Number.isInteger(e)&&!bi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}vi.ct=-1;const Si=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ki=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ci=ki;function ji(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ei(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _i(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ti{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ii(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ii(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ii(this.root,e,this.comparator,!0)}}class Ii{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ri.RED,this.left=null!=r?r:Ri.EMPTY,this.right=null!=i?i:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ri.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();const e=this.left.check();if(e!==this.right.check())throw Mr();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Mr()}get value(){throw Mr()}get color(){throw Mr()}get left(){throw Mr()}get right(){throw Mr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ri(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pi(this.data.getIterator())}getIteratorFrom(e){return new Pi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ai))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ai(this.comparator);return t.data=e,t}}class Pi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Di{constructor(e){this.fields=e,e.sort(si.comparator)}static empty(){return new Di([])}unionWith(e){let t=new Ai(si.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fi("Invalid base64 string: "+e):e}}(e);return new Ni(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(e){if(Or(!!e),"string"==typeof e){let t=0;const n=zi.exec(e);if(Or(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oi(e.seconds),nanos:Oi(e.nanos)}}function Oi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Li(e){return"string"==typeof e?Ni.fromBase64String(e):Ni.fromUint8Array(e)}function Bi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ui(e){const t=e.mapValue.fields.__previous_value__;return Bi(t)?Ui(t):t}function $i(e){const t=Mi(e.mapValue.fields.__local_write_time__.timestampValue);return new ti(t.seconds,t.nanos)}class Wi{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Vi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}const Hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bi(e)?4:so(e)?9007199254740991:10:Mr()}function Gi(e,t){if(e===t)return!0;const n=qi(e);if(n!==qi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $i(e).isEqual($i(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Mi(e.timestampValue),r=Mi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Li(e.bytesValue).isEqual(Li(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oi(e.geoPointValue.latitude)===Oi(t.geoPointValue.latitude)&&Oi(e.geoPointValue.longitude)===Oi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oi(e.integerValue)===Oi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Oi(e.doubleValue),r=Oi(t.doubleValue);return n===r?bi(n)===bi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ei(e.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ji(n)!==ji(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gi(n[i],r[i])))return!1;return!0}(e,t);default:return Mr()}}function Ki(e,t){return void 0!==(e.values||[]).find(e=>Gi(e,t))}function Yi(e,t){if(e===t)return 0;const n=qi(e),r=qi(t);if(n!==r)return Zr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Oi(e.integerValue||e.doubleValue),r=Oi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qi(e.timestampValue,t.timestampValue);case 4:return Qi($i(e),$i(t));case 5:return Zr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Li(e),r=Li(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Zr(n[i],r[i]);if(0!==e)return e}return Zr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zr(Oi(e.latitude),Oi(t.latitude));return 0!==n?n:Zr(Oi(e.longitude),Oi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Yi(n[i],r[i]);if(e)return e}return Zr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hi.mapValue&&t===Hi.mapValue)return 0;if(e===Hi.mapValue)return 1;if(t===Hi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Zr(r[s],o[s]);if(0!==e)return e;const t=Yi(n[r[s]],i[o[s]]);if(0!==t)return t}return Zr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mr()}}function Qi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zr(e,t);const n=Mi(e),r=Mi(t),i=Zr(n.seconds,r.seconds);return 0!==i?i:Zr(n.nanos,r.nanos)}function Ji(e){return Xi(e)}function Xi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Mi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Li(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ai.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Xi(e.fields[i])}`;return n+"}"}(e.mapValue):Mr();var t,n}function Zi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eo(e){return!!e&&"integerValue"in e}function to(e){return!!e&&"arrayValue"in e}function no(e){return!!e&&"nullValue"in e}function ro(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function io(e){return!!e&&"mapValue"in e}function oo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ei(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oo(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function so(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!io(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(t)}setAll(e){let t=si.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oo(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());io(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];io(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ei(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ao(oo(this.value))}}function lo(e){const t=[];return Ei(e.fields,(e,n)=>{const r=new si([e]);if(io(n)){const e=lo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Di(t)}class co{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new co(e,0,ni.min(),ni.min(),ni.min(),ao.empty(),0)}static newFoundDocument(e,t,n,r){return new co(e,1,t,ni.min(),n,r,0)}static newNoDocument(e,t){return new co(e,2,t,ni.min(),ni.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new co(e,3,t,ni.min(),ni.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ni.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ni.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof co&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new co(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uo{constructor(e,t){this.position=e,this.inclusive=t}}function ho(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ai.comparator(ai.fromName(s.referenceValue),n.key):Yi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function po(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gi(e.position[n],t.position[n]))return!1;return!0}class go{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mo{}class yo extends mo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new jo(e,t,n):"array-contains"===t?new Io(e,n):"in"===t?new Ro(e,n):"not-in"===t?new Ao(e,n):"array-contains-any"===t?new Po(e,n):new yo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Eo(e,n):new _o(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yi(t,this.value)):null!==t&&qi(this.value)===qi(t)&&this.matchesComparison(Yi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vo extends mo{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vo(e,t)}matches(e){return xo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xo(e){return"and"===e.op}function bo(e){return wo(e)&&xo(e)}function wo(e){for(const t of e.filters)if(t instanceof vo)return!1;return!0}function So(e){if(e instanceof yo)return e.field.canonicalString()+e.op.toString()+Ji(e.value);if(bo(e))return e.filters.map(e=>So(e)).join(",");{const t=e.filters.map(e=>So(e)).join(",");return`${e.op}(${t})`}}function ko(e,t){return e instanceof yo?function(e,t){return t instanceof yo&&e.op===t.op&&e.field.isEqual(t.field)&&Gi(e.value,t.value)}(e,t):e instanceof vo?function(e,t){return t instanceof vo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ko(n,t.filters[r]),!0)}(e,t):void Mr()}function Co(e){return e instanceof yo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ji(e.value)}`}(e):e instanceof vo?function(e){return e.op.toString()+" {"+e.getFilters().map(Co).join(" ,")+"}"}(e):"Filter"}class jo extends yo{constructor(e,t,n){super(e,t,n),this.key=ai.fromName(n.referenceValue)}matches(e){const t=ai.comparator(e.key,this.key);return this.matchesComparison(t)}}class Eo extends yo{constructor(e,t){super(e,"in",t),this.keys=To("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _o extends yo{constructor(e,t){super(e,"not-in",t),this.keys=To("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function To(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ai.fromName(e.referenceValue))}class Io extends yo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return to(t)&&Ki(t.arrayValue,this.value)}}class Ro extends yo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ki(this.value.arrayValue,t)}}class Ao extends yo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ki(this.value.arrayValue,t)}}class Po extends yo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!to(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ki(this.value.arrayValue,e))}}class Do{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Fo(e){return new Do(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function No(e){const t=Lr(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>So(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),xi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ji(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ji(e)).join(",")),t.dt=e}return t.dt}function zo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ko(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!po(e.startAt,t.startAt)&&po(e.endAt,t.endAt)}function Mo(e){return ai.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Lo(e,t,n,r,i,o,s,a){return new Oo(e,t,n,r,i,o,s,a)}function Bo(e){return new Oo(e)}function Uo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $o(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wo(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Vo(e){return null!==e.collectionGroup}function Ho(e){const t=Lr(e);if(null===t.wt){t.wt=[];const e=Wo(t),n=$o(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new go(e)),t.wt.push(new go(si.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new go(si.keyField(),e))}}}return t.wt}function qo(e){const t=Lr(e);if(!t._t)if("F"===t.limitType)t._t=Fo(t.path,t.collectionGroup,Ho(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ho(t)){const t="desc"===i.dir?"asc":"desc";e.push(new go(i.field,t))}const n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;t._t=Fo(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Go(e,t){t.getFirstInequalityField(),Wo(e);const n=e.filters.concat([t]);return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ko(e,t,n){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yo(e,t){return zo(qo(e),qo(t))&&e.limitType===t.limitType}function Qo(e){return`${No(qo(e))}|lt:${e.limitType}`}function Jo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Co(e)).join(", ")}]`),xi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ji(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ji(e)).join(",")),`Target(${t})`}(qo(e))}; limitType=${e.limitType})`}function Xo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ai.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ho(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ho(e),t))&&!(e.endAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ho(e),t))}(e,t)}function Zo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function es(e){return(t,n)=>{let r=!1;for(const i of Ho(e)){const e=ts(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ts(e,t,n){const r=e.field.isKeyField()?ai.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yi(r,i):Mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mr()}}class ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return _i(this.inner)}size(){return this.innerSize}}const rs=new Ti(ai.comparator);function is(){return rs}const os=new Ti(ai.comparator);function ss(){let e=os;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function as(e){let t=os;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ls(){return ds()}function cs(){return ds()}function ds(){return new ns(e=>e.toString(),(e,t)=>e.isEqual(t))}const us=new Ti(ai.comparator),hs=new Ai(ai.comparator);function ps(){let e=hs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const gs=new Ai(Zr);function fs(){return gs}function ms(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bi(t)?"-0":t}}function ys(e){return{integerValue:""+e}}function vs(e,t){return wi(t)?ys(t):ms(e,t)}class xs{constructor(){this._=void 0}}function bs(e,t,n){return e instanceof ks?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bi(t)&&(t=Ui(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cs?js(e,t):e instanceof Es?_s(e,t):function(e,t){const n=Ss(e,t),r=Is(n)+Is(e.gt);return eo(n)&&eo(e.gt)?ys(r):ms(e.serializer,r)}(e,t)}function ws(e,t,n){return e instanceof Cs?js(e,t):e instanceof Es?_s(e,t):n}function Ss(e,t){return e instanceof Ts?eo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ks extends xs{}class Cs extends xs{constructor(e){super(),this.elements=e}}function js(e,t){const n=Rs(t);for(const r of e.elements)n.some(e=>Gi(e,r))||n.push(r);return{arrayValue:{values:n}}}class Es extends xs{constructor(e){super(),this.elements=e}}function _s(e,t){let n=Rs(t);for(const r of e.elements)n=n.filter(e=>!Gi(e,r));return{arrayValue:{values:n}}}class Ts extends xs{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Is(e){return Oi(e.integerValue||e.doubleValue)}function Rs(e){return to(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class As{constructor(e,t){this.field=e,this.transform=t}}class Ps{constructor(e,t){this.version=e,this.transformResults=t}}class Ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ns{}function zs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qs(e.key,Ds.none()):new Us(e.key,e.data,Ds.none());{const n=e.data,r=ao.empty();let i=new Ai(si.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $s(e.key,r,new Di(i.toArray()),Ds.none())}}function Ms(e,t,n){e instanceof Us?function(e,t,n){const r=e.value.clone(),i=Vs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $s?function(e,t,n){if(!Fs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ws(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Os(e,t,n,r){return e instanceof Us?function(e,t,n,r){if(!Fs(e.precondition,t))return n;const i=e.value.clone(),o=Hs(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $s?function(e,t,n,r){if(!Fs(e.precondition,t))return n;const i=Hs(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ws(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Fs(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ls(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ss(r.transform,e||null);null!=i&&(null===n&&(n=ao.empty()),n.set(r.field,i))}return n||null}function Bs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ei(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cs&&t instanceof Cs||e instanceof Es&&t instanceof Es?ei(e.elements,t.elements,Gi):e instanceof Ts&&t instanceof Ts?Gi(e.gt,t.gt):e instanceof ks&&t instanceof ks}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Us extends Ns{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $s extends Ns{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ws(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vs(e,t,n){const r=new Map;Or(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ws(s,a,n[i]))}return r}function Hs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,bs(e,o,t))}return r}class qs extends Ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gs extends Ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ks{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ms(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Os(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Os(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cs();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=zs(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ni.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ps())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,(e,t)=>Bs(e,t))&&ei(this.baseMutations,e.baseMutations,(e,t)=>Bs(e,t))}}class Ys{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Or(e.mutations.length===n.length);let r=us;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ys(e,t,n,r)}}class Qs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Js{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xs,Zs;function ea(e){switch(e){default:return Mr();case Br.CANCELLED:case Br.UNKNOWN:case Br.DEADLINE_EXCEEDED:case Br.RESOURCE_EXHAUSTED:case Br.INTERNAL:case Br.UNAVAILABLE:case Br.UNAUTHENTICATED:return!1;case Br.INVALID_ARGUMENT:case Br.NOT_FOUND:case Br.ALREADY_EXISTS:case Br.PERMISSION_DENIED:case Br.FAILED_PRECONDITION:case Br.ABORTED:case Br.OUT_OF_RANGE:case Br.UNIMPLEMENTED:case Br.DATA_LOSS:return!0}}function ta(e){if(void 0===e)return Fr("GRPC error has no .code"),Br.UNKNOWN;switch(e){case Xs.OK:return Br.OK;case Xs.CANCELLED:return Br.CANCELLED;case Xs.UNKNOWN:return Br.UNKNOWN;case Xs.DEADLINE_EXCEEDED:return Br.DEADLINE_EXCEEDED;case Xs.RESOURCE_EXHAUSTED:return Br.RESOURCE_EXHAUSTED;case Xs.INTERNAL:return Br.INTERNAL;case Xs.UNAVAILABLE:return Br.UNAVAILABLE;case Xs.UNAUTHENTICATED:return Br.UNAUTHENTICATED;case Xs.INVALID_ARGUMENT:return Br.INVALID_ARGUMENT;case Xs.NOT_FOUND:return Br.NOT_FOUND;case Xs.ALREADY_EXISTS:return Br.ALREADY_EXISTS;case Xs.PERMISSION_DENIED:return Br.PERMISSION_DENIED;case Xs.FAILED_PRECONDITION:return Br.FAILED_PRECONDITION;case Xs.ABORTED:return Br.ABORTED;case Xs.OUT_OF_RANGE:return Br.OUT_OF_RANGE;case Xs.UNIMPLEMENTED:return Br.UNIMPLEMENTED;case Xs.DATA_LOSS:return Br.DATA_LOSS;default:return Mr()}}(Zs=Xs||(Xs={}))[Zs.OK=0]="OK",Zs[Zs.CANCELLED=1]="CANCELLED",Zs[Zs.UNKNOWN=2]="UNKNOWN",Zs[Zs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zs[Zs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zs[Zs.NOT_FOUND=5]="NOT_FOUND",Zs[Zs.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zs[Zs.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zs[Zs.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zs[Zs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zs[Zs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zs[Zs.ABORTED=10]="ABORTED",Zs[Zs.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zs[Zs.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zs[Zs.INTERNAL=13]="INTERNAL",Zs[Zs.UNAVAILABLE=14]="UNAVAILABLE",Zs[Zs.DATA_LOSS=15]="DATA_LOSS";class na{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ra}static getOrCreateInstance(){return null===ra&&(ra=new na),ra}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ra=null;function ia(){return new TextEncoder}const oa=new _r([4294967295,4294967295],0);function sa(e){const t=ia().encode(e),n=new Er;return n.update(t),new Uint8Array(n.digest())}function aa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _r([n,r],0),new _r([i,o],0)]}class la{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ca(`Invalid padding: ${t}`);if(n<0)throw new ca(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ca(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ca(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_r.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(_r.fromNumber(n)));return 1===r.compare(oa)&&(r=new _r([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sa(e),[n,r]=aa(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new la(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.It)return;const t=sa(e),[n,r]=aa(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class da{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new da(ni.min(),r,new Ti(Zr),is(),ps())}}class ua{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ua(n,t,ps(),ps(),ps())}}class ha{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class pa{constructor(e,t){this.targetId=e,this.Vt=t}}class ga{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fa{constructor(){this.St=0,this.Dt=va(),this.Ct=Ni.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ps(),t=ps(),n=ps();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mr()}}),new ua(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=va()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ma{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=is(),this.zt=ya(),this.Wt=new Ti(Zr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Mr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Mo(o))if(0===r){const e=new ai(o.path);this.Yt(n,e,co.newNoDocument(e,ni.min()))}else Or(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=na.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},d=n.unchangedNames;return d&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==d?void 0:d.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==d?void 0:d.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=Li(i).toUint8Array()}catch(e){if(e instanceof Fi)return Nr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new la(a,o,s)}catch(e){return Nr(e instanceof ca?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Mo(i.target)){const t=new ai(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,co.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=ps();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new da(e,t,this.Wt,this.jt,n);return this.jt=is(),this.zt=ya(),this.Wt=new Ti(Zr),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new fa,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ai(Zr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Dr("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new fa),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ya(){return new Ti(ai.comparator)}function va(){return new Ti(ai.comparator)}const xa={asc:"ASCENDING",desc:"DESCENDING"},ba={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wa={and:"AND",or:"OR"};class Sa{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ka(e,t){return e.useProto3Json||xi(t)?t:{value:t}}function Ca(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ja(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ea(e,t){return Ca(e,t.toTimestamp())}function _a(e){return Or(!!e),ni.fromTimestamp(function(e){const t=Mi(e);return new ti(t.seconds,t.nanos)}(e))}function Ta(e,t){return function(e){return new ii(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ia(e){const t=ii.fromString(e);return Or(Ya(t)),t}function Ra(e,t){return Ta(e.databaseId,t.path)}function Aa(e,t){const n=Ia(t);if(n.get(1)!==e.databaseId.projectId)throw new Ur(Br.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ur(Br.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ai(Na(n))}function Pa(e,t){return Ta(e.databaseId,t)}function Da(e){const t=Ia(e);return 4===t.length?ii.emptyPath():Na(t)}function Fa(e){return new ii(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Na(e){return Or(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function za(e,t,n){return{name:Ra(e,t),fields:n.value.mapValue.fields}}function Ma(e,t){let n;if(t instanceof Us)n={update:za(e,t.key,t.value)};else if(t instanceof qs)n={delete:Ra(e,t.key)};else if(t instanceof $s)n={update:za(e,t.key,t.data),updateMask:Ka(t.fieldMask)};else{if(!(t instanceof Gs))return Mr();n={verify:Ra(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ks)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Es)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ts)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Mr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ea(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mr()}(e,t.precondition)),n}function Oa(e,t){return{documents:[Pa(e,t.path)]}}function La(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ga(vo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ha(e.field),direction:$a(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=ka(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ba(e){let t=Da(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Or(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ua(e);return t instanceof vo&&bo(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new go(qa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uo(n,t)}(n.endAt)),Lo(t,i,s,o,a,"F",l,c)}function Ua(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qa(e.unaryFilter.field);return yo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qa(e.unaryFilter.field);return yo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qa(e.unaryFilter.field);return yo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qa(e.unaryFilter.field);return yo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mr()}}(e):void 0!==e.fieldFilter?function(e){return yo.create(qa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vo.create(e.compositeFilter.filters.map(e=>Ua(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mr()}}(e.compositeFilter.op))}(e):Mr()}function $a(e){return xa[e]}function Wa(e){return ba[e]}function Va(e){return wa[e]}function Ha(e){return{fieldPath:e.canonicalString()}}function qa(e){return si.fromServerFormat(e.fieldPath)}function Ga(e){return e instanceof yo?function(e){if("=="===e.op){if(ro(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NAN"}};if(no(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ro(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NAN"}};if(no(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(e.field),op:Wa(e.op),value:e.value}}}(e):e instanceof vo?function(e){const t=e.getFilters().map(e=>Ga(e));return 1===t.length?t[0]:{compositeFilter:{op:Va(e.op),filters:t}}}(e):Mr()}function Ka(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ya(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ni.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ni.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ni.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ja{constructor(e){this.fe=e}}function Xa(e){const t=Ba({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ko(t,t.limit,"L"):t}class Za{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Oi(e.integerValue));else if("doubleValue"in e){const n=Oi(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),bi(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Li(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?so(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Mr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),ai.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Za.Ve=new Za;class el{constructor(){this.rn=new tl}addToCollectionParentIndex(e,t){return this.rn.add(t),mi.resolve()}getCollectionParents(e,t){return mi.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return mi.resolve()}deleteFieldIndex(e,t){return mi.resolve()}getDocumentsMatchingTarget(e,t){return mi.resolve(null)}getIndexType(e,t){return mi.resolve(0)}getFieldIndexes(e,t){return mi.resolve([])}getNextCollectionGroupToUpdate(e){return mi.resolve(null)}getMinOffset(e,t){return mi.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,t){return mi.resolve(ui.min())}updateCollectionGroup(e,t,n){return mi.resolve()}updateIndexEntries(e,t){return mi.resolve()}}class tl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ai(ii.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ai(ii.comparator)).toArray()}}new Uint8Array(0);class nl{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new nl(e,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nl.DEFAULT_COLLECTION_PERCENTILE=10,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nl.DEFAULT=new nl(41943040,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nl.DISABLED=new nl(-1,0,0);class rl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new rl(0)}static Mn(){return new rl(-1)}}class il{constructor(){this.changes=new ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,co.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ol{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Os(n.mutation,e,Di.empty(),ti.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ps()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ps();const r=ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ss();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ls();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ps()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=is();const o=ds(),s=ds();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof $s)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Os(s.mutation,t,s.mutation.getFieldMask(),ti.now())):o.set(t.key,Di.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ol(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ds();let r=new Ti((e,t)=>e-t),i=ps();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Di.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ps()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=cs();l.forEach(e=>{if(!i.has(e)){const r=zs(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return mi.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return ai.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):mi.resolve(ls());let s=-1,a=i;return o.next(t=>mi.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?mi.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,ps())).next(e=>({batchId:s,changes:as(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ai(t)).next(e=>{let t=ss();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ss();return this.indexManager.getCollectionParents(e,r).next(o=>mi.forEach(o,o=>{const s=function(e,t){return new Oo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,co.newInvalidDocument(r)))});let n=ss();return e.forEach((e,i)=>{const o=r.get(e);void 0!==o&&Os(o.mutation,i,Di.empty(),ti.now()),Xo(t,i)&&(n=n.insert(e,i))}),n})}}class al{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return mi.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:_a(n.createTime)}),mi.resolve()}getNamedQuery(e,t){return mi.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Xa(e.bundledQuery),readTime:_a(e.readTime)}}(t)),mi.resolve()}}class ll{constructor(){this.overlays=new Ti(ai.comparator),this.ls=new Map}getOverlay(e,t){return mi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ls();return mi.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),mi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),mi.resolve()}getOverlaysForCollection(e,t,n){const r=ls(),i=t.length+1,o=new ai(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return mi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ti((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ls(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ls(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return mi.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Qs(t,n));let i=this.ls.get(t);void 0===i&&(i=ps(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class cl{constructor(){this.fs=new Ai(dl.ds),this.ws=new Ai(dl._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new dl(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new dl(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new ai(new ii([])),n=new dl(t,e),r=new dl(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ai(new ii([])),n=new dl(t,e),r=new dl(t,e+1);let i=ps();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new dl(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dl{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ai.comparator(e.key,t.key)||Zr(e.As,t.As)}static _s(e,t){return Zr(e.As,t.As)||ai.comparator(e.key,t.key)}}class ul{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ai(dl.ds)}checkEmpty(e){return mi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ks(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new dl(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return mi.resolve(o)}lookupMutationBatch(e,t){return mi.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return mi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return mi.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return mi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dl(t,0),r=new dl(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),mi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ai(Zr);return t.forEach(e=>{const t=new dl(e,0),r=new dl(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),mi.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ai.isDocumentKey(i)||(i=i.child(""));const o=new dl(new ai(i),0);let s=new Ai(Zr);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)},o),mi.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Or(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return mi.forEach(t.mutations,r=>{const i=new dl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new dl(t,0),r=this.Rs.firstAfterOrEqual(n);return mi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,mi.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hl{constructor(e){this.Ds=e,this.docs=new Ti(ai.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mi.resolve(n?n.document.mutableCopy():co.newInvalidDocument(t))}getEntries(e,t){let n=is();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():co.newInvalidDocument(e))}),mi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=is();const o=t.path,s=new ai(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||hi(di(s),n)<=0||(r.has(s.key)||Xo(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return mi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mr()}Cs(e,t){return mi.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new pl(this)}getSize(e){return mi.resolve(this.size)}}class pl extends il{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),mi.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class gl{constructor(e){this.persistence=e,this.xs=new ns(e=>No(e),zo),this.lastRemoteSnapshotVersion=ni.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cl,this.targetCount=0,this.Ms=rl.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),mi.resolve()}getLastRemoteSnapshotVersion(e){return mi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mi.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),mi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),mi.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new rl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,mi.resolve()}updateTargetData(e,t){return this.Fn(t),mi.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,mi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),mi.waitFor(i).next(()=>r)}getTargetCount(e){return mi.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return mi.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),mi.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),mi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),mi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return mi.resolve(n)}containsKey(e,t){return mi.resolve(this.ks.containsKey(t))}}class fl{constructor(e,t){this.$s={},this.overlays={},this.Os=new vi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new gl(this),this.indexManager=new el,this.remoteDocumentCache=function(e){return new hl(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Ja(t),this.qs=new al(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ll,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new ul(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Dr("MemoryPersistence","Starting transaction:",e);const r=new ml(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return mi.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class ml extends gi{constructor(e){super(),this.currentSequenceNumber=e}}class yl{constructor(e){this.persistence=e,this.Qs=new cl,this.js=null}static zs(e){return new yl(e)}get Ws(){if(this.js)return this.js;throw Mr()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),mi.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),mi.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),mi.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mi.forEach(this.Ws,n=>{const r=ai.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,ni.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return mi.or([()=>mi.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class vl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=ps(),r=ps();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vl(e,t.fromCache,n,r)}}class xl{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Uo(t))return mi.resolve(null);let n=qo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ko(t,null,"F"),n=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ps(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Ko(t,null,"F")):this.Wi(e,o,t,n)}))})))}Gi(e,t,n,r){return Uo(t)||r.isEqual(ni.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Pr()<=s.$b.DEBUG&&Dr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jo(t)),this.Wi(e,o,t,ci(r,-1)))})}ji(e,t){let n=new Ai(es(e));return t.forEach((t,r)=>{Xo(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Pr()<=s.$b.DEBUG&&Dr("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.Ui.getDocumentsMatchingQuery(e,t,ui.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class bl{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Ti(Zr),this.Yi=new ns(e=>No(e),zo),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wl(e,t,n,r){return new bl(e,t,n,r)}async function Sl(e,t){const n=Lr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=ps();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({er:e,removedBatchIds:i,addedBatchIds:o}))})})}function kl(e){const t=Lr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Cl(e,t,n){let r=ps(),i=ps();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=is();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ni.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Dr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{nr:r,sr:i}})}function jl(e,t){const n=Lr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function El(e,t){const n=Lr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,mi.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Qa(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function _l(e,t,n){const r=Lr(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!yi(e))throw e;Dr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Tl(e,t,n){const r=Lr(e);let i=ni.min(),o=ps();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Lr(e),i=r.Yi.get(n);return void 0!==i?mi.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,qo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:ni.min(),n?o:ps())).next(e=>(Il(r,Zo(t),e),{documents:e,ir:o})))}function Il(e,t,n){let r=e.Xi.get(t)||ni.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Rl{constructor(){this.activeTargetIds=fs()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Al{constructor(){this.Hr=new Rl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Rl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pl{Yr(e){}shutdown(){}}class Dl{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fl=null;function Nl(){return null===Fl?Fl=268435456+Math.round(2147483648*Math.random()):Fl++,"0x"+Fl.toString(16)}const zl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ml{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ol="WebChannelConnection";class Ll extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Nl(),s=this.To(e,t);Dr("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then(t=>(Dr("RestConnection",`Received RPC '${e}' ${o}: `,t),t),t=>{throw Nr("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t})}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=zl[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Nl();return new Promise((o,s)=>{const a=new jr;a.setWithCredentials(!0),a.listenOnce(br.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case xr.NO_ERROR:const t=a.getResponseJson();Dr(Ol,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case xr.TIMEOUT:Dr(Ol,`RPC '${e}' ${i} timed out`),s(new Ur(Br.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:const n=a.getStatus();if(Dr(Ol,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Br).indexOf(t)>=0?t:Br.UNKNOWN}(t.status);s(new Ur(e,t.message))}else s(new Ur(Br.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ur(Br.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{Dr(Ol,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);Dr(Ol,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Nl(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yr(),s=vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new kr({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Dr(Ol,`Creating RPC '${e}' stream ${r}: ${c}`,a);const d=o.createWebChannel(c,a);let u=!1,h=!1;const p=new Ml({ro:t=>{h?Dr(Ol,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(u||(Dr(Ol,`Opening RPC '${e}' stream ${r} transport.`),d.open(),u=!0),Dr(Ol,`RPC '${e}' stream ${r} sending:`,t),d.send(t))},oo:()=>d.close()}),g=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return g(d,Cr.EventType.OPEN,()=>{h||Dr(Ol,`RPC '${e}' stream ${r} transport opened.`)}),g(d,Cr.EventType.CLOSE,()=>{h||(h=!0,Dr(Ol,`RPC '${e}' stream ${r} transport closed`),p.wo())}),g(d,Cr.EventType.ERROR,t=>{h||(h=!0,Nr(Ol,`RPC '${e}' stream ${r} transport errored:`,t),p.wo(new Ur(Br.UNAVAILABLE,"The operation could not be completed")))}),g(d,Cr.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Or(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Dr(Ol,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Xs[e];if(void 0!==t)return ta(t)}(t),i=s.message;void 0===n&&(n=Br.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.wo(new Ur(n,i)),d.close()}else Dr(Ol,`RPC '${e}' stream ${r} received:`,i),p._o(i)}}),g(s,wr.STAT_EVENT,t=>{t.stat===Sr.PROXY?Dr(Ol,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Sr.NOPROXY&&Dr(Ol,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Bl(){return"undefined"!=typeof document?document:null}function Ul(e){return new Sa(e,!0)}class $l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Dr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wl{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $l(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Br.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Br.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Ur(Br.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Dr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vl extends Wl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Or(void 0===t||"string"==typeof t),Ni.fromBase64String(t||"")):(Or(void 0===t||t instanceof Uint8Array),Ni.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Br.UNKNOWN:ta(e.code);return new Ur(t,e.message||"")}(s);n=new ga(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Aa(e,r.document.name),o=_a(r.document.updateTime),s=r.document.createTime?_a(r.document.createTime):ni.min(),a=new ao({mapValue:{fields:r.document.fields}}),l=co.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ha(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Aa(e,r.document),o=r.readTime?_a(r.readTime):ni.min(),s=co.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ha([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Aa(e,r.document),o=r.removedTargetIds||[];n=new ha([],o,i,null)}else{if(!("filter"in t))return Mr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Js(r,i),s=e.targetId;n=new pa(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ni.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ni.min():t.readTime?_a(t.readTime):ni.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Fa(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mo(r)?{documents:Oa(e,r)}:{query:La(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ja(e,t.resumeToken);const r=ka(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ni.min())>0){n.readTime=Ca(e,t.snapshotVersion.toTimestamp());const r=ka(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Fa(this.serializer),t.removeTarget=e,this.Wo(t)}}class Hl extends Wl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Or(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Or(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?_a(e.updateTime):_a(t);return n.isEqual(ni.min())&&(n=_a(t)),new Ps(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_a(e.commitTime);return this.listener.cu(n,t)}return Or(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fa(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ma(this.serializer,e))};this.Wo(t)}}class ql extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ur(Br.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Br.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Br.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Br.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Br.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Gl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fr(t),this.mu=!1):Dr("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Kl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{rc(this)&&(Dr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lr(e);t.vu.add(4),await Ql(t),t.bu.set("Unknown"),t.vu.delete(4),await Yl(t)}(this))})}),this.bu=new Gl(n,r)}}async function Yl(e){if(rc(e))for(const t of e.Ru)await t(!0)}async function Ql(e){for(const t of e.Ru)await t(!1)}function Jl(e,t){const n=Lr(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),nc(n)?tc(n):wc(n).Ko()&&Zl(n,t))}function Xl(e,t){const n=Lr(e),r=wc(n);n.Au.delete(t),r.Ko()&&ec(n,t),0===n.Au.size&&(r.Ko()?r.jo():rc(n)&&n.bu.set("Unknown"))}function Zl(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ni.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wc(e).su(t)}function ec(e,t){e.Vu.qt(t),wc(e).iu(t)}function tc(e){e.Vu=new ma({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),wc(e).start(),e.bu.gu()}function nc(e){return rc(e)&&!wc(e).Uo()&&e.Au.size>0}function rc(e){return 0===Lr(e).vu.size}function ic(e){e.Vu=void 0}async function oc(e){e.Au.forEach((t,n)=>{Zl(e,t)})}async function sc(e,t){ic(e),nc(e)?(e.bu.Iu(t),tc(e)):e.bu.set("Unknown")}async function ac(e,t,n){if(e.bu.set("Online"),t instanceof ga&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Dr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lc(e,n)}else if(t instanceof ha?e.Vu.Ht(t):t instanceof pa?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(ni.min()))try{const t=await kl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Ni.EMPTY_BYTE_STRING,r.snapshotVersion)),ec(e,t);const i=new Qa(r.target,t,n,r.sequenceNumber);Zl(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Dr("RemoteStore","Failed to raise snapshot:",t),await lc(e,t)}}async function lc(e,t,n){if(!yi(t))throw t;e.vu.add(1),await Ql(e),e.bu.set("Offline"),n||(n=()=>kl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Dr("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Yl(e)})}function cc(e,t){return t().catch(n=>lc(e,n,t))}async function dc(e){const t=Lr(e),n=Sc(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;uc(t);)try{const e=await jl(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,hc(t,e)}catch(e){await lc(t,e)}pc(t)&&gc(t)}function uc(e){return rc(e)&&e.Eu.length<10}function hc(e,t){e.Eu.push(t);const n=Sc(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function pc(e){return rc(e)&&!Sc(e).Uo()&&e.Eu.length>0}function gc(e){Sc(e).start()}async function fc(e){Sc(e).hu()}async function mc(e){const t=Sc(e);for(const n of e.Eu)t.uu(n.mutations)}async function yc(e,t,n){const r=e.Eu.shift(),i=Ys.from(r,t,n);await cc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await dc(e)}async function vc(e,t){t&&Sc(e).ou&&await async function(e,t){if(ea(n=t.code)&&n!==Br.ABORTED){const n=e.Eu.shift();Sc(e).Qo(),await cc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await dc(e)}var n}(e,t),pc(e)&&gc(e)}async function xc(e,t){const n=Lr(e);n.asyncQueue.verifyOperationInProgress(),Dr("RemoteStore","RemoteStore received new credentials");const r=rc(n);n.vu.add(3),await Ql(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Yl(n)}async function bc(e,t){const n=Lr(e);t?(n.vu.delete(2),await Yl(n)):t||(n.vu.add(2),await Ql(n),n.bu.set("Unknown"))}function wc(e){return e.Su||(e.Su=function(e,t,n){const r=Lr(e);return r.fu(),new Vl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:oc.bind(null,e),ao:sc.bind(null,e),nu:ac.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),nc(e)?tc(e):e.bu.set("Unknown")):(await e.Su.stop(),ic(e))})),e.Su}function Sc(e){return e.Du||(e.Du=function(e,t,n){const r=Lr(e);return r.fu(),new Hl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:fc.bind(null,e),ao:vc.bind(null,e),au:mc.bind(null,e),cu:yc.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await dc(e)):(await e.Du.stop(),e.Eu.length>0&&(Dr("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}class kc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new kc(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ur(Br.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(e,t){if(Fr("AsyncQueue",`${t}: ${e}`),yi(e))return new Ur(Br.UNAVAILABLE,`${t}: ${e}`);throw e}class jc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ai.comparator(t.key,n.key):(e,t)=>ai.comparator(e.key,t.key),this.keyedMap=ss(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new jc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ec{constructor(){this.Cu=new Ti(ai.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Mr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class _c{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new _c(e,t,jc.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Tc{constructor(){this.Nu=void 0,this.listeners=[]}}class Ic{constructor(){this.queries=new ns(e=>Qo(e),Yo),this.onlineState="Unknown",this.ku=new Set}}async function Rc(e,t){const n=Lr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Tc),i)try{o.Nu=await n.onListen(r)}catch(e){const n=Cc(e,`Initialization of query '${Jo(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Fc(n)}async function Ac(e,t){const n=Lr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pc(e,t){const n=Lr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Fc(n)}function Dc(e,t,n){const r=Lr(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Fc(e){e.ku.forEach(e=>{e.next()})}class Nc{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _c(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zc{constructor(e){this.key=e}}class Mc{constructor(e){this.key=e}}class Oc{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ps(),this.mutatedKeys=ps(),this.tc=es(e),this.ec=new jc(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Ec,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),d=Xo(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;c&&d?c.data.isEqual(d.data)?u!==h&&(n.track({type:3,doc:d}),p=!0):this.rc(c,d)||(n.track({type:2,doc:d}),p=!0,(a&&this.tc(d,a)>0||l&&this.tc(d,l)<0)&&(s=!0)):!c&&d?(n.track({type:0,doc:d}),p=!0):c&&!d&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(d?(o=o.add(d),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new _c(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ec,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ps(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Mc(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new zc(n))}),t}hc(e){this.Yu=e.ir,this.Zu=ps();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return _c.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Lc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bc{constructor(e){this.key=e,this.fc=!1}}class Uc{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ns(e=>Qo(e),Yo),this._c=new Map,this.mc=new Set,this.gc=new Ti(ai.comparator),this.yc=new Map,this.Ic=new cl,this.Tc={},this.Ec=new Map,this.Ac=rl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function $c(e,t){const n=sd(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await El(n.localStore,qo(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Wc(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Jl(n.remoteStore,e)}return i}async function Wc(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Tl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return ed(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await Tl(e.localStore,t,!0),s=new Oc(t,o.ir),a=s.sc(o.documents),l=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);ed(e,n,c.cc);const d=new Lc(t,n,s);return e.wc.set(t,d),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Vc(e,t){const n=Lr(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Yo(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _l(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xl(n.remoteStore,r.targetId),Xc(n,r.targetId)}).catch(fi)):(Xc(n,r.targetId),await _l(n.localStore,r.targetId,!0))}async function Hc(e,t){const n=Lr(e);try{const e=await function(e,t){const n=Lr(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Ni.EMPTY_BYTE_STRING,ni.min()).withLastLimboFreeSnapshotVersion(ni.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))});let a=is(),l=ps();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Cl(e,o,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual(ni.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return mi.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Or(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Or(r.fc):e.removedDocuments.size>0&&(Or(r.fc),r.fc=!1))}),await rd(n,e,t)}catch(e){await fi(e)}}function qc(e,t,n){const r=Lr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Lr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Fc(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gc(e,t,n){const r=Lr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new Ti(ai.comparator);e=e.insert(o,co.newNoDocument(o,ni.min()));const n=ps().add(o),i=new da(ni.min(),new Map,new Ti(Zr),e,n);await Hc(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),nd(r)}else await _l(r.localStore,t,!1).then(()=>Xc(r,t,n)).catch(fi)}async function Kc(e,t){const n=Lr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=mi.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Or(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ps();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Jc(n,r,null),Qc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rd(n,e)}catch(e){await fi(e)}}async function Yc(e,t,n){const r=Lr(e);try{const e=await function(e,t){const n=Lr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Or(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Jc(r,t,n),Qc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rd(r,e)}catch(n){await fi(n)}}function Qc(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Jc(e,t,n){const r=Lr(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Xc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Zc(e,t)})}function Zc(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Xl(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),nd(e))}function ed(e,t,n){for(const r of n)r instanceof zc?(e.Ic.addReference(r.key,t),td(e,r)):r instanceof Mc?(Dr("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Zc(e,r.key)):Mr()}function td(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Dr("SyncEngine","New document in limbo: "+n),e.mc.add(r),nd(e))}function nd(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new ai(ii.fromString(t)),r=e.Ac.next();e.yc.set(r,new Bc(n)),e.gc=e.gc.insert(n,r),Jl(e.remoteStore,new Qa(qo(Bo(n.path)),r,"TargetPurposeLimboResolution",vi.ct))}}async function rd(e,t,n){const r=Lr(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{s.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=vl.Li(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=Lr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>mi.forEach(t,t=>mi.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>mi.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!yi(e))throw e;Dr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function id(e,t){const n=Lr(e);if(!n.currentUser.isEqual(t)){Dr("SyncEngine","User change. New user:",t.toKey());const e=await Sl(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Ur(Br.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rd(n,e.er)}}function od(e,t){const n=Lr(e),r=n.yc.get(t);if(r&&r.fc)return ps().add(r.key);{let e=ps();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function sd(e){const t=Lr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=od.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gc.bind(null,t),t.dc.nu=Pc.bind(null,t.eventManager),t.dc.Pc=Dc.bind(null,t.eventManager),t}function ad(e){const t=Lr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yc.bind(null,t),t}class ld{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wl(this.persistence,new xl,e.initialUser,this.serializer)}createPersistence(e){return new fl(yl.zs,this.serializer)}createSharedClientState(e){return new Al}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>qc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=id.bind(null,this.syncEngine),await bc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ic}createDatastore(e){const t=Ul(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Ll(r));var r;return function(e,t,n,r){return new ql(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>qc(this.syncEngine,e,0),o=Dl.D()?new Dl:new Pl,new Kl(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Uc(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Lr(e);Dr("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Ql(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class dd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ud{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ir.UNAUTHENTICATED,this.clientId=Xr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Dr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Dr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ur(Br.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function hd(e,t){e.asyncQueue.verifyOperationInProgress(),Dr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Sl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function pd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fd(e);Dr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>xc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>xc(t.remoteStore,n)),e._onlineComponents=t}function gd(e){return"FirebaseError"===e.name?e.code===Br.FAILED_PRECONDITION||e.code===Br.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function fd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dr("FirestoreClient","Using user provided OfflineComponentProvider");try{await hd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!gd(n))throw n;Nr("Error using user provided cache. Falling back to memory cache: "+n),await hd(e,new ld)}}else Dr("FirestoreClient","Using default OfflineComponentProvider"),await hd(e,new ld);return e._offlineComponents}async function md(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dr("FirestoreClient","Using user provided OnlineComponentProvider"),await pd(e,e._uninitializedComponentsProvider._online)):(Dr("FirestoreClient","Using default OnlineComponentProvider"),await pd(e,new cd))),e._onlineComponents}function yd(e){return md(e).then(e=>e.syncEngine)}async function vd(e){const t=await md(e),n=t.eventManager;return n.onListen=$c.bind(null,t.syncEngine),n.onUnlisten=Vc.bind(null,t.syncEngine),n}function xd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $r;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new dd({next:o=>{t.enqueueAndForget(()=>Ac(e,s));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ur(Br.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ur(Br.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Nc(Bo(n.path),o,{includeMetadataChanges:!0,Ku:!0});return Rc(e,s)}(await vd(e),e.asyncQueue,t,n,r)),r.promise}function bd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $r;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new dd({next:n=>{t.enqueueAndForget(()=>Ac(e,s)),n.fromCache&&"server"===r.source?i.reject(new Ur(Br.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Nc(n,o,{includeMetadataChanges:!0,Ku:!0});return Rc(e,s)}(await vd(e),e.asyncQueue,t,n,r)),r.promise}function wd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Sd=new Map;function kd(e,t,n){if(!n)throw new Ur(Br.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Cd(e){if(!ai.isDocumentKey(e))throw new Ur(Br.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jd(e){if(ai.isDocumentKey(e))throw new Ur(Br.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ed(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Mr()}function _d(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ur(Br.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(e);throw new Ur(Br.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Td{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ur(Br.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ur(Br.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ur(Br.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ur(Br.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ur(Br.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ur(Br.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Id{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Td({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ur(Br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ur(Br.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Td(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vr;switch(e.type){case"firstParty":return new Kr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ur(Br.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sd.get(e);t&&(Dr("ComponentProvider","Removing Datastore"),Sd.delete(e),t.terminate())}(this),Promise.resolve()}}class Rd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rd(this.firestore,e,this._key)}}class Ad{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ad(this.firestore,e,this._query)}}class Pd extends Ad{constructor(e,t,n){super(e,t,Bo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rd(this.firestore,null,new ai(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function Dd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.Ku)(e),kd("collection","path",t),e instanceof Id){const n=ii.fromString(t,...r);return jd(n),new Pd(e,null,n)}{if(!(e instanceof Rd||e instanceof Pd))throw new Ur(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ii.fromString(t,...r));return jd(n),new Pd(e.firestore,null,n)}}function Fd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,a.Ku)(e),1===arguments.length&&(t=Xr.A()),kd("doc","path",t),e instanceof Id){const n=ii.fromString(t,...r);return Cd(n),new Rd(e,null,new ai(n))}{if(!(e instanceof Rd||e instanceof Pd))throw new Ur(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ii.fromString(t,...r));return Cd(n),new Rd(e.firestore,e instanceof Pd?e.converter:null,new ai(n))}}class Nd{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $l(this,"async_queue_retry"),this.Xc=()=>{const e=Bl();e&&Dr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Bl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!yi(e))throw e;Dr("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fr("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=kc.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Mr()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function zd(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Md extends Id{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Nd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bd(this),this._firestoreClient.terminate()}}function Od(e,t){const n="object"==typeof e?e:(0,i.Sx)(),r="string"==typeof e?e:t||"(default)",o=(0,i.j6)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,a.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=_d(e,Id))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ir.MOCK_USER;else{t=(0,a.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ur(Br.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ir(o)}e._authCredentials=new Hr(new Wr(t,n))}}(o,...e)}return o}function Ld(e){return e._firestoreClient||Bd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bd(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Wi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wd(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ud(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ud(Ni.fromBase64String(e))}catch(e){throw new Ur(Br.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ud(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $d{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ur(Br.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._methodName=e}}class Vd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ur(Br.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ur(Br.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zr(this._lat,e._lat)||Zr(this._long,e._long)}}const Hd=/^__.*__$/;class qd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Us(e,this.data,t,this.fieldTransforms)}}class Gd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mr()}}class Yd{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kd(this.ca)&&Hd.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Qd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ul(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Yd({ca:e,methodName:t,ga:n,path:si.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(e){const t=e._freezeSettings(),n=Ul(e._databaseId);return new Qd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xd(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);lu("Data must be an object, but it was:",s,r);const a=su(r,s);let l,c;if(o.merge)l=new Di(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=cu(t,r,n);if(!s.contains(i))throw new Ur(Br.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);pu(e,i)||e.push(i)}l=new Di(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new qd(new ao(a),l,c)}class Zd extends Wd{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}class eu extends Wd{_toFieldTransform(e){return new As(e.path,new ks)}isEqual(e){return e instanceof eu}}class tu extends Wd{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ts(e.serializer,vs(e.serializer,this.Ia));return new As(e.path,t)}isEqual(e){return this===e}}function nu(e,t,n,r){const i=e.ya(1,t,n);lu("Data must be an object, but it was:",i,r);const o=[],s=ao.empty();Ei(r,(e,r)=>{const l=uu(t,e,n);r=(0,a.Ku)(r);const c=i.da(l);if(r instanceof Zd)o.push(l);else{const e=ou(r,c);null!=e&&(o.push(l),s.set(l,e))}});const l=new Di(o);return new Gd(s,l,i.fieldTransforms)}function ru(e,t,n,r,i,o){const s=e.ya(1,t,n),l=[cu(t,r,n)],c=[i];if(o.length%2!=0)throw new Ur(Br.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)l.push(cu(t,o[a])),c.push(o[a+1]);const d=[],u=ao.empty();for(let p=l.length-1;p>=0;--p)if(!pu(d,l[p])){const e=l[p];let t=c[p];t=(0,a.Ku)(t);const n=s.da(e);if(t instanceof Zd)d.push(e);else{const r=ou(t,n);null!=r&&(d.push(e),u.set(e,r))}}const h=new Di(d);return new Gd(u,h,s.fieldTransforms)}function iu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ou(n,e.ya(r?4:3,t))}function ou(e,t){if(au(e=(0,a.Ku)(e)))return lu("Unsupported field value:",t,e),su(e,t);if(e instanceof Wd)return function(e,t){if(!Kd(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ou(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ti.fromDate(e);return{timestampValue:Ca(t.serializer,n)}}if(e instanceof ti){const n=new ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ca(t.serializer,n)}}if(e instanceof Vd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ud)return{bytesValue:ja(t.serializer,e._byteString)};if(e instanceof Rd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ta(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${Ed(e)}`)}(e,t)}function su(e,t){const n={};return _i(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ei(e,(e,r)=>{const i=ou(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function au(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ti||e instanceof Vd||e instanceof Ud||e instanceof Rd||e instanceof Wd)}function lu(e,t,n){if(!au(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ed(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function cu(e,t,n){if((t=(0,a.Ku)(t))instanceof $d)return t._internalPath;if("string"==typeof t)return uu(e,t);throw hu("Field path arguments must be of type string or ",e,!1,void 0,n)}const du=new RegExp("[~\\*/\\[\\]]");function uu(e,t,n){if(t.search(du)>=0)throw hu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new $d(...t.split("."))._internalPath}catch(r){throw hu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ur(Br.INVALID_ARGUMENT,a+e+l)}function pu(e,t){return e.some(e=>e.isEqual(t))}class gu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fu extends gu{data(){return super.data()}}function mu(e,t){return"string"==typeof t?uu(e,t):t instanceof $d?t._internalPath:t._delegate._internalPath}function yu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ur(Br.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vu{}class xu extends vu{}function bu(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof vu&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ku).length,n=e.filter(e=>e instanceof wu).length;if(t>1||t>0&&n>0)throw new Ur(Br.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class wu extends xu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new wu(e,t,n)}_apply(e){const t=this._parse(e);return Tu(e._query,t),new Ad(e.firestore,e.converter,Go(e._query,t))}_parse(e){const t=Jd(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ur(Br.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){_u(s,o);const t=[];for(const n of s)t.push(Eu(r,e,n));a={arrayValue:{values:t}}}else a=Eu(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||_u(s,o),a=iu(n,"where",s,"in"===o||"not-in"===o);return yo.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Su(e,t,n){const r=t,i=mu("where",e);return wu._create(i,r,n)}class ku extends vu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ku(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Tu(n,i),n=Go(n,i)}(e._query,t),new Ad(e.firestore,e.converter,Go(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cu extends xu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cu(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ur(Br.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ur(Br.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new go(t,n);return function(e,t){if(null===$o(e)){const n=Wo(e);null!==n&&Iu(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Ad(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Oo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ju(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=mu("orderBy",e);return Cu._create(n,t)}function Eu(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new Ur(Br.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vo(t)&&-1!==n.indexOf("/"))throw new Ur(Br.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ii.fromString(n));if(!ai.isDocumentKey(r))throw new Ur(Br.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zi(e,new ai(r))}if(n instanceof Rd)return Zi(e,n._key);throw new Ur(Br.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function _u(e,t){if(!Array.isArray(e)||0===e.length)throw new Ur(Br.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tu(e,t){if(t.isInequality()){const n=Wo(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ur(Br.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=$o(e);null!==i&&Iu(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ur(Br.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ur(Br.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Iu(e,t,n){if(!n.isEqual(t))throw new Ur(Br.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ru{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ei(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Vd(Oi(e.latitude),Oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ui(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($i(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ii.fromString(e);Or(Ya(n));const r=new Vi(n.get(1),n.get(3)),i=new ai(n.popFirst(5));return r.isEqual(t)||Fr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Au(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Du extends gu{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Fu extends Du{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Nu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Fu(this._firestore,this._userDataWriter,n.key,n,new Pu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ur(Br.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Fu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pu(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Fu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:zu(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}function Mu(e){e=_d(e,Rd);const t=_d(e.firestore,Md);return xd(Ld(t),e._key).then(n=>qu(t,e,n))}class Ou extends Ru{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rd(this.firestore,null,t)}}function Lu(e){e=_d(e,Ad);const t=_d(e.firestore,Md),n=Ld(t),r=new Ou(t);return yu(e._query),bd(n,e._query).then(n=>new Nu(t,r,e,n))}function Bu(e,t,n){e=_d(e,Rd);const r=_d(e.firestore,Md),i=Au(e.converter,t,n);return Hu(r,[Xd(Jd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ds.none())])}function Uu(e,t,n){e=_d(e,Rd);const r=_d(e.firestore,Md),i=Jd(r);let o;for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return o="string"==typeof(t=(0,a.Ku)(t))||t instanceof $d?ru(i,"updateDoc",e._key,t,n,l):nu(i,"updateDoc",e._key,t),Hu(r,[o.toMutation(e._key,Ds.exists(!0))])}function $u(e){return Hu(_d(e.firestore,Md),[new qs(e._key,Ds.none())])}function Wu(e,t){const n=_d(e.firestore,Md),r=Fd(e),i=Au(e.converter,t);return Hu(n,[Xd(Jd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ds.exists(!1))]).then(()=>r)}function Vu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=(0,a.Ku)(e);let l={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||zd(n[c])||(l=n[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges};if(zd(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,p;if(e instanceof Rd)h=_d(e.firestore,Md),p=Bo(e._key.path),u={next:t=>{n[c]&&n[c](qu(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=_d(e,Ad);h=_d(t.firestore,Md),p=t._query;const r=new Ou(h);u={next:e=>{n[c]&&n[c](new Nu(h,r,t,e))},error:n[c+1],complete:n[c+2]},yu(e._query)}return function(e,t,n,r){const i=new dd(r),o=new Nc(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Rc(await vd(e),o)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>Ac(await vd(e),o))}}(Ld(h),p,d,u)}function Hu(e,t){return function(e,t){const n=new $r;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ad(e);try{const e=await function(e,t){const n=Lr(e),r=ti.now(),i=t.reduce((e,t)=>e.add(t.key),ps());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=is(),l=ps();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Ls(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new $s(e.key,t,lo(t.value.mapValue),Ds.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:as(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Ti(Zr)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await rd(r,e.changes),await dc(r.remoteStore)}catch(e){const t=Cc(e,"Failed to persist write");n.reject(t)}}(await yd(e),t,n)),n.promise}(Ld(e),t)}function qu(e,t,n){const r=n.docs.get(t._key),i=new Ou(e);return new Du(e,i,t._key,r,new Pu(n.hasPendingWrites,n.fromCache),t.converter)}function Gu(){return new eu("serverTimestamp")}function Ku(e){return new tu("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rr=e}(i.MF),(0,i.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Md(new qr(e.getProvider("auth-internal")),new Qr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ur(Br.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(Tr,"3.13.0",e),(0,i.KO)(Tr,"3.13.0","esm2017")}()},43:(e,t,n)=>{"use strict";e.exports=n(202)},150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>se,j6:()=>ne,om:()=>te,Sx:()=>le,Wp:()=>ae,KO:()=>ce});var r=n(812),i=n(443),o=n(700);let s,a;const l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),m(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(y(this),t,...r);return d.set(o,t.sort?t.sort():[t]),m(o)}}function f(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});c.set(e,t)}(e),t=e,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(m(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),h.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=f(e);return t!==e&&(u.set(e,t),h.set(t,e)),t}const y=e=>h.get(e);const v=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return b.set(t,o),o}p=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(p);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",C="0.9.13",j=new i.Vy("@firebase/app"),E="@firebase/app-compat",_="@firebase/analytics-compat",T="@firebase/analytics",I="@firebase/app-check-compat",R="@firebase/app-check",A="@firebase/auth",P="@firebase/auth-compat",D="@firebase/database",F="@firebase/database-compat",N="@firebase/functions",z="@firebase/functions-compat",M="@firebase/installations",O="@firebase/installations-compat",L="@firebase/messaging",B="@firebase/messaging-compat",U="@firebase/performance",$="@firebase/performance-compat",W="@firebase/remote-config",V="@firebase/remote-config-compat",H="@firebase/storage",q="@firebase/storage-compat",G="@firebase/firestore",K="@firebase/firestore-compat",Y="firebase",Q="[DEFAULT]",J={[k]:"fire-core",[E]:"fire-core-compat",[T]:"fire-analytics",[_]:"fire-analytics-compat",[R]:"fire-app-check",[I]:"fire-app-check-compat",[A]:"fire-auth",[P]:"fire-auth-compat",[D]:"fire-rtdb",[F]:"fire-rtdb-compat",[N]:"fire-fn",[z]:"fire-fn-compat",[M]:"fire-iid",[O]:"fire-iid-compat",[L]:"fire-fcm",[B]:"fire-fcm-compat",[U]:"fire-perf",[$]:"fire-perf-compat",[W]:"fire-rc",[V]:"fire-rc-compat",[H]:"fire-gcs",[q]:"fire-gcs-compat",[G]:"fire-fst",[K]:"fire-fst-compat","fire-js":"fire-js",[Y]:"fire-js-all"},X=new Map,Z=new Map;function ee(e,t){try{e.container.addComponent(t)}catch(n){j.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function te(e){const t=e.name;if(Z.has(t))return j.debug(`There were multiple attempts to register component ${t}.`),!1;Z.set(t,e);for(const n of X.values())ee(n,e);return!0}function ne(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const re={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ie=new o.FA("app","Firebase",re);class oe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ie.create("app-deleted",{appName:this._name})}}const se="9.23.0";function ae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Q,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!==typeof s||!s)throw ie.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.T9)()),!n)throw ie.create("no-options");const a=X.get(s);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(i,a.config))return a;throw ie.create("duplicate-app",{appName:s})}const l=new r.h1(s);for(const r of Z.values())l.addComponent(r);const c=new oe(n,i,l);return X.set(s,c),c}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const t=X.get(e);if(!t&&e===Q&&(0,o.T9)())return ae();if(!t)throw ie.create("no-app",{appName:e});return t}function ce(e,t,n){var i;let o=null!==(i=J[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void j.warn(e.join(" "))}te(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const de="firebase-heartbeat-store";let ue=null;function he(){return ue||(ue=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(de)}}).catch(e=>{throw ie.create("idb-open",{originalErrorMessage:e.message})})),ue}async function pe(e,t){try{const n=(await he()).transaction(de,"readwrite"),r=n.objectStore(de);await r.put(t,ge(e)),await n.done}catch(n){if(n instanceof o.g)j.warn(n.message);else{const e=ie.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});j.warn(e.message)}}}function ge(e){return`${e.name}!${e.options.appId}`}class fe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ye(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=me();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=me(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ve(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ve(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.Uj)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function me(){return(new Date).toISOString().substring(0,10)}class ye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await he();return await t.transaction(de).objectStore(de).get(ge(e))}catch(t){if(t instanceof o.g)j.warn(t.message);else{const e=ie.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});j.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return pe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return pe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ve(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var xe;xe="",te(new r.uA("platform-logger",e=>new S(e),"PRIVATE")),te(new r.uA("heartbeat",e=>new fe(e),"PRIVATE")),ce(k,C,xe),ce(k,C,"esm2017"),ce("fire-js","")},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},165:(e,t,n)=>{"use strict";n.d(t,{HF:()=>ze,xI:()=>pn,hg:()=>Ye,df:()=>Tt,CI:()=>Qe,Ww:()=>Ge,r7:()=>qe});var r=n(700),i=n(150),o=n(326),s=n(443),a=n(812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,d=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new s.Vy("@firebase/auth");function h(e){if(u.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.error(`Auth (${i.MF}): ${e}`,...n)}}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function f(e,t,n){const i=Object.assign(Object.assign({},c()),{[t]:n});return new r.FA("auth","Firebase",i).create(t,{appName:e.name})}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),f(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return d.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw y(t,...r)}}function x(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function b(e,t){e||x(t)}function w(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(S()||(0,r.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function j(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class E{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void x("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void x("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void x("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},T=new C(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,i){return A(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),E.fetch()(D(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function A(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},_),t);try{const t=new F(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw N(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const t=r.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw N(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw N(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw N(e,"user-disabled",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw f(e,a,s);p(e,a)}}catch(o){if(o instanceof r.g)throw o;p(e,"network-request-failed",{message:String(o)})}}async function P(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await R(e,t,n,r,i);return"mfaPendingCredential"in o&&p(e,"multi-factor-auth-required",{_serverResponse:o}),o}function D(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?j(e.config,i):`${e.config.apiScheme}://${i}`}class F{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"network-request-failed")),T.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function N(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function z(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function M(e){return 1e3*Number(e)}function O(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(o){return h("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}async function L(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof r.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class B{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class U{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=z(this.lastLoginAt),this.creationTime=z(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $(e){var t;const n=e.auth,r=await e.getIdToken(),i=await L(e,async function(e,t){return R(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,o.Tt)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const l=(c=e.providerData,d=a,[...c.filter(e=>!d.some(t=>t.providerId===e.providerId)),...d]);var c,d;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===l||void 0===l?void 0:l.length),p=!!u&&h,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new U(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(e,g)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=O(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await A(e,{},async()=>{const n=(0,r.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=D(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new W;return n&&(v("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return x("not implemented")}}function V(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class H{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await L(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,r.Ku)(e),i=await n.getIdToken(t),o=O(i);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:z(M(o.auth_time)),issuedAtTime:z(M(o.iat)),expirationTime:z(M(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.Ku)(e);await $(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new H(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await L(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,f=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:k}=t;v(x&&k,e,"internal-error");const C=W.fromJSON(this.name,k);v("string"===typeof x,e,"internal-error"),V(d,e.name),V(u,e.name),v("boolean"===typeof b,e,"internal-error"),v("boolean"===typeof w,e,"internal-error"),V(h,e.name),V(p,e.name),V(g,e.name),V(f,e.name),V(m,e.name),V(y,e.name);const j=new H({uid:x,auth:e,email:u,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:C,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&(j.providerData=S.map(e=>Object.assign({},e))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new W;r.updateFromServerResponse(t);const i=new H({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $(i),i}}const q=new Map;function G(e){b(e instanceof Function,"Expected a class definition");let t=q.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,q.set(e,t),t)}class K{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}K.type="NONE";const Y=K;function Q(e,t,n){return`firebase:${e}:${t}:${n}`}class J{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Q(this.userKey,r.apiKey,i),this.fullPersistenceKey=Q("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?H._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new J(G(Y),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||G(Y);const o=Q(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=H._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new J(i,e,n)):new J(i,e,n)}}function X(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ne(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Z(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ie(t))return"Blackberry";if(oe(t))return"Webos";if(ee(t))return"Safari";if((t.includes("chrome/")||te(t))&&!t.includes("edge/"))return"Chrome";if(re(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/firefox\//i.test(e)}function ee(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/crios\//i.test(e)}function ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iemobile/i.test(e)}function re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/android/i.test(e)}function ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/blackberry/i.test(e)}function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/webos/i.test(e)}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)();return se(e)||re(e)||oe(e)||ie(e)||/windows phone/i.test(e)||ne(e)}function le(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=X((0,r.ZQ)());break;case"Worker":t=`${X((0,r.ZQ)())}-${e}`;break;default:t=e}const o=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${i.MF}/${o}`}async function ce(e,t){return R(e,"GET","/v2/recaptchaConfig",I(e,t))}function de(e){return void 0!==e&&void 0!==e.enterprise}class ue{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function he(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function pe(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ge{constructor(e){this.type="recaptcha-enterprise",this.auth=ve(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;de(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ce(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ue(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&de(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));he("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ge(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class me{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=G(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await J.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(G(e))})}async initializeRecaptchaConfig(){const e=await ce(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new ue(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ge(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&G(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await J.create(this,[G(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return v(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(u.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.warn(`Auth (${i.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ve(e){return(0,r.Ku)(e)}class xe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.tD)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function be(e,t,n){const r=ve(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=we(t),{host:s,port:a}=function(e){const t=we(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Se(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Se(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function we(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Se(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ke{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return x("not implemented")}_getIdTokenResponse(e){return x("not implemented")}_linkToIdToken(e,t){return x("not implemented")}_getReauthenticationResolver(e){return x("not implemented")}}async function Ce(e,t){return R(e,"POST","/v1/accounts:update",t)}async function je(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}class Ee extends ke{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ee(e,t,"password")}static _fromEmailAndCode(e,t){return new Ee(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await fe(e,n,"signInWithPassword");return je(e,t)}return je(e,n).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await fe(e,n,"signInWithPassword");return je(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ce(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _e(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Te extends ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Te(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o.Tt)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Te(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return _e(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,_e(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_e(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.Am)(t)}return e}}const Ie={USER_NOT_FOUND:"user-not-found"};class Re extends ke{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Re({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Re({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw N(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ie)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Re({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ae{constructor(e){var t,n,i,o,s,a;const l=(0,r.I9)((0,r.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,d=null!==(n=l.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);v(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.I9)((0,r.hp)(e)).link,n=t?(0,r.I9)((0,r.hp)(t)).deep_link_id:null,i=(0,r.I9)((0,r.hp)(e)).deep_link_id;return(i?(0,r.I9)((0,r.hp)(i)).link:null)||i||n||t||e}(e);try{return new Ae(t)}catch(n){return null}}}class Pe{constructor(){this.providerId=Pe.PROVIDER_ID}static credential(e,t){return Ee._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ae.parseLink(t);return v(n,"argument-error"),Ee._fromEmailAndCode(e,n.code,n.tenantId)}}Pe.PROVIDER_ID="password",Pe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class De{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fe extends De{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ne extends Fe{constructor(){super("facebook.com")}static credential(e){return Te._fromParams({providerId:Ne.PROVIDER_ID,signInMethod:Ne.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ne.credentialFromTaggedObject(e)}static credentialFromError(e){return Ne.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ne.credential(t.oauthAccessToken)}catch(n){return null}}}Ne.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ne.PROVIDER_ID="facebook.com";class ze extends Fe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Te._fromParams({providerId:ze.PROVIDER_ID,signInMethod:ze.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ze.credentialFromTaggedObject(e)}static credentialFromError(e){return ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ze.credential(n,r)}catch(i){return null}}}ze.GOOGLE_SIGN_IN_METHOD="google.com",ze.PROVIDER_ID="google.com";class Me extends Fe{constructor(){super("github.com")}static credential(e){return Te._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Me.credential(t.oauthAccessToken)}catch(n){return null}}}Me.GITHUB_SIGN_IN_METHOD="github.com",Me.PROVIDER_ID="github.com";class Oe extends Fe{constructor(){super("twitter.com")}static credential(e,t){return Te._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oe.credentialFromTaggedObject(e)}static credentialFromError(e){return Oe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Oe.credential(n,r)}catch(i){return null}}}Oe.TWITTER_SIGN_IN_METHOD="twitter.com",Oe.PROVIDER_ID="twitter.com";class Le{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await H._fromIdTokenResponse(e,n,r),o=Be(n);return new Le({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Be(n);return new Le({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Be(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ue extends r.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ue.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ue(e,t,n,r)}}function $e(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ue._fromErrorAndOperation(e,n,t,r);throw n})}async function We(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await L(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Le._forOperation(e,"link",r)}async function Ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await L(e,$e(r,i,t,e),n);v(o.idToken,r,"internal-error");const s=O(o.idToken);v(s,r,"internal-error");const{sub:a}=s;return v(e.uid===a,r,"user-mismatch"),Le._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&p(r,"user-mismatch"),o}}async function He(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await $e(e,r,t),o=await Le._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function qe(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const o=(0,r.Ku)(e),s={idToken:await o.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},a=await L(o,async function(e,t){return R(e,"POST","/v1/accounts:update",t)}(o.auth,s));o.displayName=a.displayName||null,o.photoURL=a.photoUrl||null;const l=o.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),await o._updateTokensIfNecessary(a)}function Ge(e,t){return Ke((0,r.Ku)(e),t,null)}async function Ke(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await L(e,Ce(r,i));await e._updateTokensIfNecessary(o,!0)}function Ye(e,t,n,i){return(0,r.Ku)(e).onAuthStateChanged(t,n,i)}function Qe(e){return(0,r.Ku)(e).signOut()}new WeakMap;const Je="__sak";class Xe{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Je,"1"),this.storage.removeItem(Je),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ze extends Xe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.ZQ)();return ee(e)||se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ae(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,r.lT)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ze.type="LOCAL";const et=Ze;class tt extends Xe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tt.type="SESSION";const nt=tt;class rt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new rt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function it(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rt.receivers=[];class ot{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=it("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function st(){return window}function at(){return"undefined"!==typeof st().WorkerGlobalScope&&"function"===typeof st().importScripts}const lt="firebaseLocalStorageDb",ct="firebaseLocalStorage",dt="fbase_key";class ut{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ht(e,t){return e.transaction([ct],t?"readwrite":"readonly").objectStore(ct)}function pt(){const e=indexedDB.open(lt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ct,{keyPath:dt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ct)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(lt);return new ut(e).toPromise()}(),t(await pt()))})})}async function gt(e,t,n){const r=ht(e,!0).put({[dt]:t,value:n});return new ut(r).toPromise()}function ft(e,t){const n=ht(e,!0).delete(t);return new ut(n).toPromise()}class mt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await pt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return at()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rt._getInstance(at()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ot(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pt();return await gt(e,Je,"1"),await ft(e,Je),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ht(e,!1).get(t),r=await new ut(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ft(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ht(e,!1).getAll();return new ut(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mt.type="LOCAL";const yt=mt;pe("rcb"),new C(3e4,6e4);const vt="recaptcha";async function xt(e,t,n){var r;const i=await n.verify();try{let o;if(v("string"===typeof i,e,"argument-error"),v(n.type===vt,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){v("enroll"===t.type,e,"internal-error");const n=await function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;v(n,e,"missing-multi-factor-info");const s=await function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class bt{constructor(e){this.providerId=bt.PROVIDER_ID,this.auth=ve(e)}verifyPhoneNumber(e,t){return xt(this.auth,e,(0,r.Ku)(t))}static credential(e,t){return Re._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bt.credentialFromTaggedObject(t)}static credentialFromError(e){return bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Re._fromTokenResponse(n,r):null}}function wt(e,t){return t?G(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bt.PROVIDER_ID="phone",bt.PHONE_SIGN_IN_METHOD="phone";class St extends ke{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _e(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _e(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _e(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kt(e){return He(e.auth,new St(e),e.bypassAuthState)}function Ct(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Ve(n,new St(e),e.bypassAuthState)}async function jt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),We(n,new St(e),e.bypassAuthState)}class Et{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kt;case"linkViaPopup":case"linkViaRedirect":return jt;case"reauthViaPopup":case"reauthViaRedirect":return Ct;default:p(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _t=new C(2e3,1e4);async function Tt(e,t,n){const r=ve(e);m(e,t,De);const i=wt(r,n);return new It(r,"signInViaPopup",t,i).executeNotNull()}class It extends Et{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,It.currentPopupAction&&It.currentPopupAction.cancel(),It.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=it();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(g(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,It.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,_t.get())};e()}}It.currentPopupAction=null;const Rt=new Map;class At extends Et{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Rt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ft(t),r=Dt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Rt.set(this.auth._key(),e)}return this.bypassAuthState||Rt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Pt(e,t){Rt.set(e._key(),t)}function Dt(e){return G(e._redirectPersistence)}function Ft(e){return Q("pendingRedirect",e.config.apiKey,e.name)}async function Nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ve(e),i=wt(r,t),o=new At(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class zt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ot(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ot(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mt(e))}saveEventToCache(e){this.cachedEventUids.add(Mt(e)),this.lastProcessedEventTime=Date.now()}}function Mt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ot(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Lt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bt=/^https?/;async function Ut(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return R(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($t(r))return}catch(n){}p(e,"unauthorized-domain")}function $t(e){const t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Bt.test(n))return!1;if(Lt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wt=new C(3e4,6e4);function Vt(){const e=st().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ht=null;function qt(e){return Ht=Ht||function(e){return new Promise((t,n)=>{var r,i,o;function s(){Vt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vt(),n(g(e,"network-request-failed"))},timeout:Wt.get()})}if(null===(i=null===(r=st().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=st().gapi)||void 0===o?void 0:o.load)){const t=pe("iframefcb");return st()[t]=()=>{gapi.load?s():n(g(e,"network-request-failed"))},he(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}s()}}).catch(e=>{throw Ht=null,e})}(e),Ht}const Gt=new C(5e3,15e3),Kt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qt(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?j(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.MF},s=Yt.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.Am)(o).slice(1)}`}const Jt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xt{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Zt(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Jt),{width:i.toString(),height:o.toString(),top:s,left:a}),d=(0,r.ZQ)().toLowerCase();n&&(l=te(d)?"_blank":n),Z(d)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(d)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new Xt(null);const h=window.open(t||"",l,u);v(h,e,"popup-blocked");try{h.focus()}catch(p){}return new Xt(h)}const en="__/auth/handler",tn="emulator/auth/handler",nn=encodeURIComponent("fac");async function rn(e,t,n,o,s,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.MF,eventId:s};if(t instanceof De){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Fe){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const d=await e._getAppCheckToken(),u=d?`#${nn}=${encodeURIComponent(d)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${en}`;return j(t,tn)}(e)}?${(0,r.Am)(c).slice(1)}${u}`}const on="webStorageSupport";const sn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nt,this._completeRedirectFn=Nt,this._overrideRedirectResult=Pt}async _openPopup(e,t,n,r){var i;b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Zt(e,await rn(e,t,n,w(),r),it())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){st().location.href=e}(await rn(e,t,n,w(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await qt(e),n=st().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:Qt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kt,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),o=st().setTimeout(()=>{r(i)},Gt.get());function s(){st().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new zt(e);return t.register("authEvent",t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(on,{type:on},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[on];void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ut(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ae()||ee()||se()}};var an="@firebase/auth",ln="0.23.2";class cn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const dn=(0,r.XA)("authIdTokenMaxAge")||300;let un=null;const hn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dn)return;const i=null===n||void 0===n?void 0:n.token;un!==i&&(un=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Sx)();const t=(0,i.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,i.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.bD)(i,null!==t&&void 0!==t?t:{}))return e;p(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:sn,persistence:[yt,et,nt]}),o=(0,r.XA)("authTokenSyncURL");if(o){const e=hn(o);!function(e,t,n){(0,r.Ku)(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,i){(0,r.Ku)(e).onIdTokenChanged(t,n,i)}(n,t=>e(t))}const s=(0,r.Tj)("auth");return s&&be(n,`http://${s}`),n}var gn;gn="Browser",(0,i.om)(new a.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;v(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:gn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:le(gn)},c=new ye(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(G);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i.om)(new a.uA("auth-internal",e=>(e=>new cn(e))(ve(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KO)(an,ln,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gn)),(0,i.KO)(an,ln,"esm2017")},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,f(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),I(s,t,i,"",function(e){return e})):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var d=o+T(a=e[c],c);l+=I(a,t,i,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,d=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},F={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,d=e[c];if(0>o(l,n))c<i&&0>o(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,p=3,g=!1,f=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(m=!1,b(e),!f)if(null!==r(c))f=!0,D(S);else{var t=r(d);null!==t&&F(w,t.startTime-e)}}function S(e,n){f=!1,m&&(m=!1,v(E),E=-1),g=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&F(w,u.startTime-n),l=!1}return l}finally{h=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,j=null,E=-1,_=5,T=-1;function I(){return!(t.unstable_now()-T<_)}function R(){if(null!==j){var e=t.unstable_now();T=e;var n=!0;try{n=j(!0,e)}finally{n?k():(C=!1,j=null)}}else C=!1}if("function"===typeof x)k=function(){x(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,k=function(){P.postMessage(null)}}else k=function(){y(R,0)};function D(e){j=e,C||(C=!0,k())}function F(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(m?(v(E),E=-1):m=!0,F(w,o-s))):(e.sortIndex=a,n(c,e),f||g||(f=!0,D(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},326:(e,t,n)=>{"use strict";n.d(t,{Tt:()=>r,sH:()=>i});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},477:(e,t,n)=>{"use strict";n.d(t,{j2:()=>M,db:()=>L,Mn:()=>O});var r=n(150);(0,r.KO)("firebase","9.23.0","app");var i=n(165),o=n(32),s=n(700),a=n(812);const l="firebasestorage.googleapis.com",c="storageBucket";class d extends s.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(p(e),`Firebase Storage: ${t} (${p(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,d.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var u,h;function p(e){return"storage/"+e}function g(){return new d(u.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new d(u.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m(){return new d(u.CANCELED,"User canceled the upload/download.")}function y(e){return new d(u.INVALID_ARGUMENT,e)}function v(){return new d(u.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(u||(u={}));class x{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=x.makeFromUrl(e,t)}catch(i){return new x(e,"")}if(""===n.path)return n;throw r=e,new d(u.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===l?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new x(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new d(u.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class b{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function w(e,t,n,r){if(r<t)throw y(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw y(`Invalid value for '${e}'. Expected ${n} or less.`)}function S(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function k(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(h||(h={}));class C{constructor(e,t,n,r,i,o,s,a,l,c,d){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new j(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===h.NO_ERROR,i=n.getStatus();if(!t||k(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===h.ABORT;return void e(!1,new j(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new j(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(o){r(o)}else if(null!==i){const e=g();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?v():m())}else{r(f())}};this.canceled_?t(0,new j(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function d(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function u(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void d.call(null,e,...n);if(l()||s)return h(),void d.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),u(o)}let g=!1;function f(e){g||(g=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),u(0)):e||(a=1)))}return u(0),o=setTimeout(()=>{s=!0,f(!0)},n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class j{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function E(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class _{constructor(e,t){this._service=e,this._location=t instanceof x?t:x.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _(e,t)}get root(){const e=new x(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new x(this._location.bucket,e);return new _(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new d(u.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function T(e,t){const n=null===t||void 0===t?void 0:t[c];return null==n?null:x.makeFromBucketSpec(n,e)}class I{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=l,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?x.makeFromBucketSpec(r,this._host):T(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=x.makeFromBucketSpec(this._url,e):this._bucket=T(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new b(v());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=S(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new C(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const R="@firebase/storage",A="0.11.2",P="storage";function D(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new I(i,o,s,n,r.MF)}(0,r.om)(new a.uA(P,D,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(R,A,""),(0,r.KO)(R,A,"esm2017");const F={apiKey:"AIzaSyBYN65VIPbVQKadhWRelcrDYan1t_Drkcc",authDomain:"rypacad.firebaseapp.com",projectId:"rypacad",storageBucket:"rypacad.firebasestorage.app",messagingSenderId:"297400448648",appId:"1:297400448648:web:b1c96e2dab30108faf513d",measurementId:"G-8LQHBFFL7Q"},N=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"].filter(e=>!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51O09l2D16IMJzfAPSCR6ieJ6F2FoyjweG66C12gmvCGTVD5yu3NsPhCToU8tXJG7bkNJzyLddrAT9c07lWfSYMvQ00vqeY0mik",REACT_APP_FIREBASE_API_KEY:"AIzaSyBYN65VIPbVQKadhWRelcrDYan1t_Drkcc",REACT_APP_FIREBASE_AUTH_DOMAIN:"rypacad.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"rypacad",REACT_APP_FIREBASE_STORAGE_BUCKET:"rypacad.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"297400448648",REACT_APP_FIREBASE_APP_ID:"1:297400448648:web:b1c96e2dab30108faf513d",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8LQHBFFL7Q"}[e]);let z;N.length>0&&(console.error("Missing required Firebase environment variables:",N),console.error("Please check your .env file and ensure all Firebase configuration variables are set."));try{z=(0,r.Wp)(F)}catch(B){throw console.error("Error initializing Firebase:",B),new Error("Failed to initialize Firebase. Please check your configuration.")}const M=(0,i.xI)(z),O=new i.HF,L=(0,o.aU)(z);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,s.Ku)(e);const n=(0,r.j6)(e,P).getImmediate({identifier:t}),i=(0,s.yU)("storage");i&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,s.Fy)(i,e.app.options.projectId))}(e,t,n,r)}(n,...i)}(z)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t})}return!0}},700:(e,t,n)=>{"use strict";n.d(t,{Am:()=>R,FA:()=>j,Fy:()=>f,I9:()=>A,Im:()=>_,Ku:()=>z,T9:()=>h,Tj:()=>d,Uj:()=>s,XA:()=>p,ZQ:()=>m,bD:()=>T,cY:()=>g,eX:()=>k,g:()=>C,hp:()=>P,jZ:()=>y,lT:()=>b,lV:()=>x,nr:()=>w,sr:()=>v,tD:()=>D,u:()=>a,yU:()=>u,zW:()=>S});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,d=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51O09l2D16IMJzfAPSCR6ieJ6F2FoyjweG66C12gmvCGTVD5yu3NsPhCToU8tXJG7bkNJzyLddrAT9c07lWfSYMvQ00vqeY0mik",REACT_APP_FIREBASE_API_KEY:"AIzaSyBYN65VIPbVQKadhWRelcrDYan1t_Drkcc",REACT_APP_FIREBASE_AUTH_DOMAIN:"rypacad.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"rypacad",REACT_APP_FIREBASE_STORAGE_BUCKET:"rypacad.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"297400448648",REACT_APP_FIREBASE_APP_ID:"1:297400448648:web:b1c96e2dab30108faf513d",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8LQHBFFL7Q"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},d=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},u=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function b(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"===typeof indexedDB}catch(e){return!1}}function k(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(E,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new C(n,o,t)}}const E=/\{\$([^}]+)}/g;function _(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function T(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(I(n)&&I(o)){if(!T(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I(e){return null!==e&&"object"===typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function A(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new F(e,t);return n.subscribe.bind(n)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N(){}function z(e){return e&&e._delegate?e._delegate:e}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(g,e)||!u.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var z,M=Object.assign;function O(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var L=!1;function B(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function U(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case j:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ce=null;function je(e){if(e=xi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Ee(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==ke||null!==Ce)&&(Ie(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){De=!1}function Ne(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ze=!1,Me=null,Oe=!1,Le=null,Be={onError:function(e){ze=!0,Me=e}};function Ue(e,t,n,r,i,o,s,a,l){ze=!1,Me=null,Ne.apply(Be,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if($e(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=n&~i)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,Ct,jt,Et=!1,_t=[],Tt=null,It=null,Rt=null,At=new Map,Pt=new Map,Dt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function zt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void jt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Lt(e,t,n){Ot(e)&&n.delete(t)}function Bt(){Et=!1,null!==Tt&&Ot(Tt)&&(Tt=null),null!==It&&Ot(It)&&(It=null),null!==Rt&&Ot(Rt)&&(Rt=null),At.forEach(Lt),Pt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function $t(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==It&&Ut(It,e),null!==Rt&&Ut(Rt,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Wt=b.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var i=xt,o=Wt.transition;Wt.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=i,Wt.transition=o}}function qt(e,t,n,r){var i=xt,o=Wt.transition;Wt.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=i,Wt.transition=o}}function Gt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=zt(Tt,e,t,n,r,i),!0;case"dragenter":return It=zt(It,e,t,n,r,i),!0;case"mouseover":return Rt=zt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,zt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,zt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=xi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=M({},cn,{view:0,detail:0}),hn=on(un),pn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),gn=on(pn),fn=on(M({},pn,{dataTransfer:0})),mn=on(M({},un,{relatedTarget:0})),yn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(vn),bn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function jn(){return Cn}var En=M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(En),Tn=on(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Rn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),Dn=[9,13,27,32],Fn=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var zn=d&&"TextEvent"in window&&!Nn,Mn=d&&(!Fn||Nn&&8<Nn&&11>=Nn),On=String.fromCharCode(32),Ln=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Or(e,0)}function Yn(e){if(G(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=dr(n,o);var s=dr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Cr={};function jr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}d&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=jr("animationend"),_r=jr("animationiteration"),Tr=jr("animationstart"),Ir=jr("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Fr=Ar[Dr];Pr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ue.apply(this,arguments),ze){if(!ze)throw Error(o(198));var d=Me;ze=!1,Me=null,Oe||(Oe=!0,Le=d)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}}}if(Oe)throw e=Le,Oe=!1,Le=null,e}function Lr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=o,i=we(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Er:case _r:case Tr:l=yn;break;case Ir:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==a?a+"Capture":null:a;d=[];for(var p,g=r;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Pe(g,h))&&d.push(Hr(g,f,p)))),u)break;g=g.return}0<d.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[gi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(u=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=gn,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,f="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==l?a:bi(l),p=null==c?a:bi(c),(a=new d(f,g+"leave",l,n,i)).target=u,a.relatedTarget=p,f=null,vi(i)===r&&((d=new d(h,g+"enter",c,n,i)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,g=0,p=d=l;p;p=Gr(p))g++;for(p=0,f=h;f;f=Gr(f))p++;for(;0<g-p;)d=Gr(d),g--;for(;0<p-g;)h=Gr(h),p--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=Gr(d),h=Gr(h)}d=null}else d=null;null!==l&&Kr(s,a,l,d,!1),null!==c&&null!==u&&Kr(s,u,c,d,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qn;else if(Vn(a))if(Jn)m=sr;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(s,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(s,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Fn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $n?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&($n||"onCompositionStart"!==x?"onCompositionEnd"===x&&$n&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,$n=!0)),0<(y=qr(r,x)).length&&(x=new bn(x,e,null,n,i),s.push({event:x,listeners:y}),v?x.data=v:null!==(v=Un(n))&&(x.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Ln=!0,On);case"textInput":return(e=t.data)===On&&Ln?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Or(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,pi="__reactProps$"+ui,gi="__reactContainer$"+ui,fi="__reactEvents$"+ui,mi="__reactListeners$"+ui,yi="__reactHandles$"+ui;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Si=[],ki=-1;function Ci(e){return{current:e}}function ji(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ei(e,t){ki++,Si[ki]=e.current,e.current=t}var _i={},Ti=Ci(_i),Ii=Ci(!1),Ri=_i;function Ai(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ji(Ii),ji(Ti)}function Fi(e,t,n){if(Ti.current!==_i)throw Error(o(168));Ei(Ti,t),Ei(Ii,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return M({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ri=Ti.current,Ei(Ti,e),Ei(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ji(Ii),ji(Ti),Ei(Ti,e)):ji(Ii),Ei(Ii,n)}var Oi=null,Li=!1,Bi=!1;function Ui(e){null===Oi?Oi=[e]:Oi.push(e)}function $i(){if(!Bi&&null!==Oi){Bi=!0;var e=0,t=xt;try{var n=Oi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Li=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Ge(Ze,$i),i}finally{xt=t,Bi=!1}}return null}var Wi=[],Vi=0,Hi=null,qi=0,Gi=[],Ki=0,Yi=null,Qi=1,Ji="";function Xi(e,t){Wi[Vi++]=qi,Wi[Vi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Gi[Ki++]=Qi,Gi[Ki++]=Ji,Gi[Ki++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--Vi],Wi[Vi]=null,qi=Wi[--Vi],Wi[Vi]=null;for(;e===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null,Qi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function go(){ro=no=null,io=!1}function fo(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&xo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Oc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?d(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:u(e,t,n,r,null);vo(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return g(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return u(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function f(i,o,a,l){for(var c=null,d=null,u=o,f=o=0,m=null;null!==u&&f<a.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var y=p(i,u,a[f],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(i,u),o=s(y,o,f),null===d?c=y:d.sibling=y,d=y,u=m}if(f===a.length)return n(i,u),io&&Xi(i,f),c;if(null===u){for(;f<a.length;f++)null!==(u=h(i,a[f],l))&&(o=s(u,o,f),null===d?c=u:d.sibling=u,d=u);return io&&Xi(i,f),c}for(u=r(i,u);f<a.length;f++)null!==(m=g(u,i,f,a[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),o=s(m,o,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(i,e)}),io&&Xi(i,f),c}function m(i,a,l,c){var d=N(l);if("function"!==typeof d)throw Error(o(150));if(null==(l=d.call(l)))throw Error(o(151));for(var u=d=null,f=a,m=a=0,y=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var x=p(i,f,v.value,c);if(null===x){null===f&&(f=y);break}e&&f&&null===x.alternate&&t(i,f),a=s(x,a,m),null===u?d=x:u.sibling=x,u=x,f=y}if(v.done)return n(i,f),io&&Xi(i,m),d;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=s(v,a,m),null===u?d=v:u.sibling=v,u=v);return io&&Xi(i,m),d}for(f=r(i,f);!v.done;m++,v=l.next())null!==(v=g(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=s(v,a,m),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(i,e)}),io&&Xi(i,m),d}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=o;null!==d;){if(d.key===c){if((c=s.type)===k){if(7===d.tag){n(r,d.sibling),(o=i(d,s.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&xo(c)===d.type){n(r,d.sibling),(o=i(d,s.props)).ref=yo(r,d,s),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===k?((o=Nc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Fc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(d=s.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Oc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(d=s._init)(s._payload),l)}if(te(s))return f(r,o,s,l);if(N(s))return m(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Mc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=bo(!0),So=bo(!1),ko=Ci(null),Co=null,jo=null,Eo=null;function _o(){Eo=jo=Co=null}function To(e){var t=ko.current;ji(ko),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Co=e,Eo=jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xa=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===jo){if(null===Co)throw Error(o(308));jo=e,Co.dependencies={lanes:0,firstContext:e}}else jo=jo.next=e;return t}var Po=null;function Do(e){null===Po?Po=[e]:Po.push(e)}function Fo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Do(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var zo=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Do(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;zo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=i.baseState;for(s=0,d=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,f=a;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(p,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,u,h):g)||void 0===h)break e;u=M({},u,h);break e;case 2:zo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zl|=s,e.lanes=s,e.memoizedState=u}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},qo=Ci(Ho),Go=Ci(Ho),Ko=Ci(Ho);function Yo(e){if(e===Ho)throw Error(o(174));return e}function Qo(e,t){switch(Ei(Ko,t),Ei(Go,e),Ei(qo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ji(qo),Ei(qo,t)}function Jo(){ji(qo),ji(Go),ji(Ko)}function Xo(e){Yo(Ko.current);var t=Yo(qo.current),n=le(t,e.type);t!==n&&(Ei(Go,e),Ei(qo,n))}function Zo(e){Go.current===e&&(ji(qo),ji(Go))}var es=Ci(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,ds=!1,us=!1,hs=0,ps=0;function gs(){throw Error(o(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(us)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,ds=!1,t)throw Error(o(300));return e}function ys(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function xs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=u,zl|=u}d=d.next}while(null!==d&&d!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(xa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,zl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(xa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Cs(e,t){var n=as,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,xa=!0),r=r.queue,zs(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,As(9,Es.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||js(n,t,i)}return i}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&Is(e)}function _s(e,t,n){return n(function(){Ts(t)&&Is(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return xs().memoizedState}function Ds(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Fs(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&fs(r,s.deps))return void(i.memoizedState=As(t,n,o,r))}as.flags|=e,i.memoizedState=As(1|t,n,o,r)}function Ns(e,t){return Ds(8390656,8,e,t)}function zs(e,t){return Fs(2048,8,e,t)}function Ms(e,t){return Fs(4,2,e,t)}function Os(e,t){return Fs(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4,4,Ls.bind(null,t,e),n)}function Us(){}function $s(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,xa=!0),e.memoizedState=n):(ar(n,t)||(n=ft(),as.lanes|=n,zl|=n,e.baseState=!0),t)}function Hs(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{xt=n,os.transition=r}}function qs(){return xs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Fo(e,t,n,r))){nc(n,e,r,ec()),Js(n,t,r)}}function Ks(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Do(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Fo(e,t,i,r))&&(nc(n,e,r,i=ec()),Js(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Ao,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Zs={readContext:Ao,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Rs,useDebugValue:Us,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||js(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ns(_s.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Il.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ao,useCallback:$s,useContext:Ao,useEffect:zs,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Os,useMemo:Ws,useReducer:ws,useRef:Ps,useState:function(){return ws(bs)},useDebugValue:Us,useDeferredValue:function(e){return Vs(xs(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:qs,unstable_isNewReconciler:!1},ta={readContext:Ao,useCallback:$s,useContext:Ao,useEffect:zs,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Os,useMemo:Ws,useReducer:Ss,useRef:Ps,useState:function(){return Ss(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=xs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],xs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:qs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Pi(t)?Ri:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Pi(t)?Ri:Ti.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),ua(0,t)},n}function ga(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ua(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,xa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ms(e,t,n,r,o,i),n=ys(),null===e||xa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(xa=!0)}}return Ea(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Dl,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Dl,Pl),Pl|=r;return ba(e,t,i,n),t.child}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Pi(n)?Ri:Ti.current;return o=Ai(t,o),Ro(t,i),n=ms(e,t,n,r,o,i),r=ys(),null===e||xa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function _a(e,t,n,r,i){if(Pi(n)){var o=!0;zi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Pi(n)?Ri:Ti.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),zo=!1;var h=t.memoizedState;s.state=h,Wo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ii.current||zo?("function"===typeof d&&(ra(t,n,d,r),l=t.memoizedState),(a=zo||oa(t,n,a,r,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Pi(n)?Ri:Ti.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,s,r,l),zo=!1,h=t.memoizedState,s.state=h,Wo(t,r,s,i);var g=t.memoizedState;a!==u||h!==g||Ii.current||zo?("function"===typeof p&&(ra(t,n,p,r),g=t.memoizedState),(c=zo||oa(t,n,c,r,h,g,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){ja(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),Qo(e,t.containerInfo)}function Ra(e,t,n,r,i){return go(),fo(i),t.flags|=256,ba(e,t,n,r),t.child}var Aa,Pa,Da,Fa,Na={dehydrated:null,treeContext:null,retryLane:0};function za(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=zc(l,i,0,null),e=Nc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=za(n),t.memoizedState=Na,e):Oa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,La(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(s=Nc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=za(a),t.memoizedState=Na,s);if(0===(1&t.mode))return La(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,La(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),xa||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),nc(r,e,i,-1))}return fc(),La(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=Qi,Gi[Ki++]=Ji,Gi[Ki++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),t=Oa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Nc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?za(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Na,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Oa(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function La(e,t,n,r){return null!==r&&fo(r),wo(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Pi(t.type)&&Di(),qa(t),null;case 3:return r=t.stateNode,Jo(),ji(Ii),ji(Ti),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Pa(e,t),qa(t),null;case 5:Zo(t);var i=Yo(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qa(t),null}if(e=Yo(qo.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Lr(Nr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Q(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ie(r,s),Lr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Lr(Nr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?me(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Lr("scroll",e):null!=d&&x(e,s,d,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Fa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Ko.current),Yo(qo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qa(t),null;case 13:if(ji(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),go(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Fl&&(Fl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Jo(),Pa(e,t),null===e&&$r(t.stateNode.containerInfo),qa(t),null;case 10:return To(t.type._context),qa(t),null;case 19:if(ji(es),null===(s=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>$l&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return qa(t),null}else 2*Je()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Ei(es,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ka(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),ji(Ii),ji(Ti),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ji(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ji(es),null;case 4:return Jo(),null;case 10:return To(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(qo.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in ve(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Lr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Fa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[fi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=dl,i=ul;dl=null,hl(e,t,n),ul=i,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),$t(e)):li(dl,n.stateNode));break;case 4:r=dl,i=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Cc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Cc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:fl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(fl(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),xe(l,a);var d=xe(l,s);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];"style"===u?me(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):x(i,u,h,d)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ne(i,!!s.multiple,g,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(m){Cc(e,e.return,m)}}break;case 6:if(fl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Cc(e,e.return,m)}}break;case 3:if(fl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Je())),4&r&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(d=Qa)||u,fl(t,e),Qa=d):fl(t,e),yl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xa=e,u=e.child;null!==u;){for(h=Xa=u;null!==Xa;){switch(g=(p=Xa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==g?(g.return=p,Xa=g):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Xa=i;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Xa=l):Sl(i);for(;null!==o;)Xa=o,xl(o,t,n),o=o.sibling;Xa=i,Ya=a,Qa=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&$t(h)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&il(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function wl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{il(t)}catch(l){Cc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var kl,Cl=Math.ceil,jl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Tl=0,Il=null,Rl=null,Al=0,Pl=0,Dl=Ci(0),Fl=0,Nl=null,zl=0,Ml=0,Ol=0,Ll=null,Bl=null,Ul=0,$l=1/0,Wl=null,Vl=!1,Hl=null,ql=null,Gl=!1,Kl=null,Yl=0,Ql=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==mo.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(Ml|=n),4===Fl&&ac(e,Al)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&($l=Je()+500,Li&&$i()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Il?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Li=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),si(function(){0===(6&Tl)&&$i()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tl;Tl|=2;var s=gc();for(Il===e&&Al===t||(Wl=null,$l=Je()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}_o(),jl.current=s,Tl=i,null!==Rl?t=0:(Il=null,Al=0,t=Fl)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Nl,hc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(s=gt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Nl,hc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bl,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),t);break}wc(e,Bl,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,Wl),r);break}wc(e,Bl,Wl);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~Ol,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Nl,hc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Wl),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&($l=Je()+500,Li&&$i())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var n=_l.transition,r=xt;try{if(_l.transition=null,xt=1,e)return e()}finally{xt=r,_l.transition=n,0===(6&(Tl=t))&&$i()}}function uc(){Pl=Dl.current,ji(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Jo(),ji(Ii),ji(Ti),rs();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:ji(es);break;case 10:To(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Il=e,Rl=e=Dc(e.current,null),Al=Pl=t,Fl=0,Nl=null,Ol=Ml=zl=0,Bl=Ll=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_o(),is.current=Xs,ds){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(ss=0,cs=ls=as=null,us=!1,hs=0,El.current=null,null===n||null===n.return){Fl=1,Nl=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=ma(a);if(null!==g){g.flags&=-257,ya(g,a,l,0,t),1&g.mode&&fa(s,d,t),c=d;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){fa(s,d,t),fc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),fo(ca(c,l));break e}}s=c=ca(c,l),4!==Fl&&(Fl=2),null===Ll?Ll=[s]:Ll.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$o(s,pa(0,c,t));break e;case 1:l=c;var v=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,$o(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=jl.current;return jl.current=Xs,null===e?Xs:e}function fc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Il||0===(268435455&zl)&&0===(268435455&Ml)||ac(Il,Al)}function mc(e,t){var n=Tl;Tl|=2;var r=gc();for(Il===e&&Al===t||(Wl=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_o(),Tl=n,jl.current=r,null!==Rl)throw Error(o(261));return Il=null,Al=0,Fl}function yc(){for(;null!==Rl;)xc(Rl)}function vc(){for(;null!==Rl&&!Ye();)xc(Rl)}function xc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Fl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Fl&&(Fl=5)}function wc(e,t,n){var r=xt,i=_l.transition;try{_l.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Il&&(Rl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=_l.transition,_l.transition=null;var a=xt;xt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(ei=Vt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var g;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++d===i&&(l=a),p===s&&++u===r&&(c=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,y=f.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}f=tl,tl=!1}(e,n),ml(n,e),gr(ti),Vt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Tl=l,xt=a,_l.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=i),s=e.pendingLanes,0===s&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,$i()}(e,t,n,r)}finally{_l.transition=i,xt=r}return null}function Sc(){if(null!==Kl){var e=bt(Yl),t=_l.transition,n=xt;try{if(_l.transition=null,xt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xa=d;null!==Xa;){var u=Xa;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Xa=h;else for(;null!==Xa;){var p=(u=Xa).sibling,g=u.return;if(ol(u),u===d){Xa=null;break}if(null!==p){p.return=g,Xa=p;break}Xa=g}}}var f=s.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var x=e.current;for(Xa=x;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=x;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Cc(l,l.return,S)}if(l===a){Xa=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xa=w;break e}Xa=l.return}}if(Tl=i,$i(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{xt=n,_l.transition=t}}return!1}function kc(e,t,n){e=Bo(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bo(t,e=ga(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Al&n)===n&&(4===Fl||3===Fl&&(130023424&Al)===Al&&500>Je()-Ul?hc(e,0):Ol|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=No(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Ic(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Nc(n.children,i,s,t);case C:a=8,i|=8;break;case j:return(e=Ac(12,n,t,2|i)).elementType=j,e.lanes=s,e;case I:return(e=Ac(13,n,t,i)).elementType=I,e.lanes=s,e;case R:return(e=Ac(19,n,t,i)).elementType=R,e.lanes=s,e;case D:return zc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case _:a=9;break e;case T:a=11;break e;case A:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Nc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new Lc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function Uc(e){if(!e)return _i;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ni(e,n,t)}return t}function $c(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=Uc(null),n=e.current,(o=Lo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(nc(e,i,s,o),Uo(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)xa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xa=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),go();break;case 5:Xo(t);break;case 1:Pi(t.type)&&zi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ei(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);Ei(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $a(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Va(e,t,n)}(e,t,n);xa=0!==(131072&e.flags)}else xa=!1,io&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);Ro(t,n),i=ms(null,t,r,e,i,n);var s=ys();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,zi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oo(e,t),Wo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),r===i){t=Va(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),ja(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ma(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(ko,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Lo(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Ao(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,zi(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return $a(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=$c(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[gi]=s.current,$r(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[gi]=l.current,$r(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Vc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[gi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Tl)&&($l=Je()+500,$i()))}break;case 13:dc(function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Ct=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=dc;var ed={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ee,_e,cc]},td={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{it=rd.inject(nd),ot=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,$r(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,s,a),e[gi]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},737:(e,t,n)=>{"use strict";n.d(t,{E6:()=>c,mB:()=>a,userService:()=>o,zi:()=>l});var r=n(32),i=n(477);const o={async getAllUsers(){try{const e=(0,r.rJ)(i.db,"users");return(await(0,r.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching users:",e),[]}},async getUserById(e){try{const t=(0,r.H9)(i.db,"users",e),n=await(0,r.x7)(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("Error fetching user:",t),null}},async updateUserRole(e,t){try{const n=(0,r.H9)(i.db,"users",e);return await(0,r.mZ)(n,{role:t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating user role:",n),new Error("Failed to update user role. Please try again.")}},async updateUserStatus(e,t){try{const n=(0,r.H9)(i.db,"users",e);return await(0,r.mZ)(n,{status:t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating user status:",n),new Error("Failed to update user status. Please try again.")}},async getUsersByRole(e){try{const t=(0,r.rJ)(i.db,"users"),n=(0,r.P)(t,(0,r._M)("role","==",e));return(await(0,r.GG)(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching users by role:",t),[]}},async getUserByStudentId(e){try{const t=(0,r.rJ)(i.db,"users"),n=(0,r.P)(t,(0,r._M)("studentId","==",e)),o=await(0,r.GG)(n);if(o.docs.length>0){const e=o.docs[0];return{id:e.id,...e.data()}}return null}catch(t){return console.error("Error fetching user by studentId:",t),null}},async generateUniqueStudentId(){const e=()=>String(Math.floor(1e5+9e5*Math.random()));for(let t=0;t<10;t++){const t=e();if(!await o.getUserByStudentId(t))return t}return String(Date.now()).slice(-6)}},s={async getAllStudents(){try{const e=(0,r.rJ)(i.db,"students");return(await(0,r.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching students:",e),e}},async getStudentsByCoach(e){try{const t=(0,r.rJ)(i.db,"students"),n=(0,r.P)(t,(0,r._M)("coachId","==",e));return(await(0,r.GG)(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching students by coach:",t),t}},async addStudent(e){try{const t=(0,r.rJ)(i.db,"students");return(await(0,r.gS)(t,{...e,createdAt:(0,r.O5)(),updatedAt:(0,r.O5)()})).id}catch(t){throw console.error("Error adding student:",t),t}},async updateStudent(e,t){try{const n=(0,r.H9)(i.db,"students",e);return await(0,r.mZ)(n,{...t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating student:",n),n}},async updateStudentProgress(e,t){try{const n=(0,r.H9)(i.db,"students",e);return await(0,r.mZ)(n,{progress:t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating student progress:",n),n}}},a={async getAllSessions(){try{const e=(0,r.rJ)(i.db,"sessions"),t=(0,r.P)(e,(0,r.My)("date","desc"));return(await(0,r.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error fetching sessions:",e),e}},async getSessionsByCoach(e){try{const t=(0,r.rJ)(i.db,"sessions"),n=(0,r.P)(t,(0,r._M)("coachId","==",e),(0,r.My)("date","desc"));return(await(0,r.GG)(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching sessions by coach:",t),t}},async getSessionsByDateRange(e,t){try{const n=(0,r.rJ)(i.db,"sessions"),o=(0,r.P)(n,(0,r._M)("date",">=",e),(0,r._M)("date","<=",t),(0,r.My)("date","asc"));return(await(0,r.GG)(o)).docs.map(e=>({id:e.id,...e.data()}))}catch(n){throw console.error("Error fetching sessions by date range:",n),n}},async createSession(e){try{const t=(0,r.rJ)(i.db,"sessions");return(await(0,r.gS)(t,{...e,createdAt:(0,r.O5)(),updatedAt:(0,r.O5)()})).id}catch(t){throw console.error("Error creating session:",t),t}},async updateSession(e,t){try{const n=(0,r.H9)(i.db,"sessions",e);return await(0,r.mZ)(n,{...t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating session:",n),n}},async deleteSession(e){try{const t=(0,r.H9)(i.db,"sessions",e);return await(0,r.kd)(t),!0}catch(t){throw console.error("Error deleting session:",t),t}}},l={async getAllBookings(){try{const e=(0,r.rJ)(i.db,"bookings"),t=(0,r.P)(e,(0,r.My)("createdAt","desc"));return(await(0,r.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching bookings:",e),[]}},async getBookingsByUser(e){try{const t=(0,r.rJ)(i.db,"bookings"),n=(0,r.P)(t,(0,r._M)("userId","==",e)),o=await(0,r.GG)(n);return o.docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.toDate?t.createdAt.toDate()-e.createdAt.toDate():t.createdAt-e.createdAt:0)}catch(t){return console.error("Error fetching bookings by user:",t),[]}},async createBooking(e){try{const t=(0,r.rJ)(i.db,"bookings");return(await(0,r.gS)(t,{...e,status:"confirmed",createdAt:(0,r.O5)(),updatedAt:(0,r.O5)()})).id}catch(t){throw console.error("Error creating booking:",t),new Error("Failed to create booking. Please try again.")}},async updateBookingStatus(e,t){try{const n=(0,r.H9)(i.db,"bookings",e);return await(0,r.mZ)(n,{status:t,updatedAt:(0,r.O5)()}),!0}catch(n){throw console.error("Error updating booking status:",n),new Error("Failed to update booking status. Please try again.")}}},c={async getSystemAnalytics(){try{const e=await o.getAllUsers(),t=await l.getAllBookings(),n=await a.getAllSessions(),r=e.length,i=e.filter(e=>"active"===e.status).length,s=t.length,c=n.length;return{totalUsers:r,activeUsers:i,totalBookings:s,totalSessions:c,totalRevenue:t.reduce((e,t)=>e+(t.price||0),0),userGrowth:15.2,revenueGrowth:8.5}}catch(e){throw console.error("Error fetching system analytics:",e),e}},async getCoachAnalytics(e){try{const t=await s.getStudentsByCoach(e),n=await a.getSessionsByCoach(e),r=t.length,i=n.length,o=t.length>0?t.reduce((e,t)=>e+(t.progress||0),0)/t.length:0;return{activeStudents:r,totalSessions:i,averageProgress:Math.round(o),recentActivity:t.slice(0,5)}}catch(t){throw console.error("Error fetching coach analytics:",t),t}}}},766:function(e,t){var n,r,i;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},s=0,a={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=x(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(o=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,o)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(o=this._config.beforeFirstChunk(e))&&(e=o),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var o=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=o.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),o&&o.data&&(this._rowCount+=o.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:o,workerId:a.WORKER_ID,finished:r});else if(w(this._config.chunk)&&!t){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=o=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!r||!w(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=b(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=b(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,r,i,o=Math.pow(2,53),s=-o,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,h=0,p=!1,m=!1,y=[],v={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function S(){if(v&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter(function(e){return!b(e)})),k()){if(v)if(Array.isArray(v.data[0])){for(var t=0;k()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),y.push(t)}}function i(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var a=i,d=t[i];d=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),s<e&&e<o))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(a=e.header?i>=y.length?"__parsed_extra":y[i]:a,d=e.transform?e.transform(d,a):d),"__parsed_extra"===a?(r[a]=r[a]||[],r[a].push(d)):r[a]=d}return e.header&&(i>y.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+i,h+n):i<y.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+i,h+n)),r}var d;v&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(i),d=v.data.length):v.data=i(v.data,0),e.header&&v.meta&&(v.meta.fields=y),h+=d)}function k(){return e.header&&0===y.length}function C(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),v.errors.push(e)}w(e.step)&&(i=e.step,e.step=function(t){v=t,k()?S():(S(),0!==v.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],i(v,d))))}),this.parse=function(i,o,s){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter):((l=((t,n,r,i,o)=>{var s,l,c,d;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var u=0;u<o.length;u++){for(var h,p=o[u],g=0,m=0,y=0,v=(c=void 0,new f({comments:i,delimiter:p,newline:n,preview:10}).parse(t)),x=0;x<v.data.length;x++)r&&b(v.data[x])?y++:(m+=h=v.data[x].length,void 0===c?c=h:0<h&&(g+=Math.abs(h-c),c=h));0<v.data.length&&(m/=v.data.length-y),(void 0===l||g<=l)&&(void 0===d||d<m)&&1.99<m&&(l=g,s=p,d=m)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),v.meta.delimiter=e.delimiter),l=x(e),e.preview&&e.header&&l.preview++,t=i,n=new f(l),v=n.parse(t,o,s),S(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(p=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(g(t)+"([^]*?)"+g(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,o=e.preview,s=e.fastMode,l=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,p=!1;this.parse=function(a,f,m){if("string"!=typeof a)throw new Error("Input must be a string");var y=a.length,v=t.length,x=n.length,b=r.length,S=w(i),k=[],C=[],j=[],E=h=0;if(!a)return O();if(s||!1!==s&&-1===a.indexOf(d)){for(var _=a.split(n),T=0;T<_.length;T++){if(j=_[T],h+=j.length,T!==_.length-1)h+=n.length;else if(m)return O();if(!r||j.substring(0,b)!==r){if(S){if(k=[],F(j.split(t)),L(),p)return O()}else F(j.split(t));if(o&&o<=T)return k=k.slice(0,o),O(!0)}}return O()}for(var I=a.indexOf(t,h),R=a.indexOf(n,h),A=new RegExp(g(u)+g(d),"g"),P=a.indexOf(d,h);;)if(a[h]===d)for(P=h,h++;;){if(-1===(P=a.indexOf(d,P+1)))return m||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:h}),z();if(P===y-1)return z(a.substring(h,P).replace(A,d));if(d===u&&a[P+1]===u)P++;else if(d===u||0===P||a[P-1]!==u){-1!==I&&I<P+1&&(I=a.indexOf(t,P+1));var D=N(-1===(R=-1!==R&&R<P+1?a.indexOf(n,P+1):R)?I:Math.min(I,R));if(a.substr(P+1+D,v)===t){j.push(a.substring(h,P).replace(A,d)),a[h=P+1+D+v]!==d&&(P=a.indexOf(d,h)),I=a.indexOf(t,h),R=a.indexOf(n,h);break}if(D=N(R),a.substring(P+1+D,P+1+D+x)===n){if(j.push(a.substring(h,P).replace(A,d)),M(P+1+D+x),I=a.indexOf(t,h),P=a.indexOf(d,h),S&&(L(),p))return O();if(o&&k.length>=o)return O(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:h}),P++}}else if(r&&0===j.length&&a.substring(h,h+b)===r){if(-1===R)return O();h=R+x,R=a.indexOf(n,h),I=a.indexOf(t,h)}else if(-1!==I&&(I<R||-1===R))j.push(a.substring(h,I)),h=I+v,I=a.indexOf(t,h);else{if(-1===R)break;if(j.push(a.substring(h,R)),M(R+x),S&&(L(),p))return O();if(o&&k.length>=o)return O(!0)}return z();function F(e){k.push(e),E=h}function N(e){var t=0;return-1!==e&&(e=a.substring(P+1,e))&&""===e.trim()?e.length:t}function z(e){return m||(void 0===e&&(e=a.substring(h)),j.push(e),h=y,F(j),S&&L()),O()}function M(e){h=e,F(j),j=[],R=a.indexOf(n,h)}function O(r){if(e.header&&!f&&k.length&&!c){var i=k[0],o=Object.create(null),s=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(o[r=w(e.transformHeader)?e.transformHeader(r,n):r]){let e,a=o[r];for(;e=r+"_"+a,a++,s.has(e););s.add(e),i[n]=e,o[r]++,t=!0,(l=null===l?{}:l)[e]=r}else o[r]=1,i[n]=r;s.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:k,errors:C,meta:{delimiter:t,linebreak:n,aborted:p,truncated:!!r,cursor:E+(f||0),renamedHeaders:l}}}function L(){i(O()),k=[],C=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return h}}function m(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(w(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!r);s++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=o[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function v(){throw new Error("Not implemented.")}function x(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=x(e[t]);return n}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return a.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(w(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!w(r.transform)&&r.transform,!r.worker||!a.WORKERS_SUPPORTED)return i=null,a.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?c:u)(r)):!0===t.readable&&w(t.read)&&w(t.on)?i=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(i=new d(r)),i.stream(t);(i=(()=>{var t;return!!a.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return a.BLOB_URL||(a.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=m,t.id=s++,o[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},a.unparse=function(e,t){var n=!1,r=!0,i=",",o="\r\n",s='"',l=s+s,c=!1,d=null,u=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var s="",a=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(s+=i),s+=f(e[c],c);0<t.length&&(s+=o)}for(var d=0;d<t.length;d++){var u=(a?e:t[d]).length,h=!1,p=a?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!a&&(h="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&a){for(var g=[],m=0;m<u;m++){var y=l?e[m]:m;g.push(t[d][y])}h=""===g.join("").trim()}if(!h){for(var v=0;v<u;v++){0<v&&!p&&(s+=i);var x=a&&l?e[v]:v;s+=f(t[d][x],v)}d<t.length-1&&(!n||0<u&&!p)&&(s+=o)}}return s}function f(e,t){var r,o;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(o=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,o=!0),r=e.toString().replace(h,l),(o=o||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,a.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=f,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=d,a.StringStreamer=u,a.ReadableStreamStreamer=h,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)i.push({file:this.files[o],inputElem:this,instanceConfig:t.extend({},r)})}),o(),this;function o(){if(0===i.length)w(e.complete)&&e.complete();else{var n,r,o,l,c=i[0];if(w(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return n="AbortError",r=c.file,o=c.inputElem,l=d.reason,void(w(e.error)&&e.error({name:n},r,o,l));if("skip"===d.action)return void s();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void s()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(u)&&u(e,c.file,c.inputElem),s()},a.parse(c.file,c.instanceConfig)}}function s(){i.splice(0,1),o()}}),i&&(n.onmessage=function(e){e=e.data,void 0===a.WORKER_ID&&e&&(a.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&n.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,a},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>i});var r=n(700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),o=n(950),s=n.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,d=o.history,g=e.Pop,f=null,m=y();function y(){return(d.state||{idx:null}).idx}function v(){g=e.Pop;let t=y(),n=null==t?null:t-m;m=t,f&&f({action:g,location:b.location,delta:n})}function x(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,d.replaceState(a({},d.state,{idx:m}),""));let b={get action(){return g},get location(){return t(o,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),f=e,()=>{o.removeEventListener(l,v),f=null}},createHref:e=>n(o,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){g=e.Push;let i=h(b.location,t,n);r&&r(i,t),m=y()+1;let a=u(i,m),l=b.createHref(i);try{d.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&f&&f({action:g,location:b.location,delta:1})},replace:function(t,n){g=e.Replace;let i=h(b.location,t,n);r&&r(i,t),m=y();let o=u(i,m),a=b.createHref(i);d.replaceState(o,"",a),s&&f&&f({action:g,location:b.location,delta:0})},go:e=>d.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=A(i);s=I(o[a],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,S=3,k=2,C=1,j=10,E=-2,_=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=E),t&&(r+=k),n.filter(e=>!_(e)).reduce((e,t)=>e+(w.test(t)?S:""===t?C:j),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:M([o,d.pathname]),pathnameBase:O(M([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=M([o,d.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function N(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:B(i)}}(i,o),u=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const M=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],W=(new Set($),["get",...$]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const H=t.createContext(null);const q=t.createContext(null);const G=t.createContext(null);const K=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=t.createContext(null);function J(){return null!=t.useContext(K)}function X(){return J()||c(!1),t.useContext(K).location}function Z(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=de(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);return Z(()=>{r.current=!0}),t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))},[e,n])}():function(){J()||c(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(G),{matches:o}=t.useContext(Y),{pathname:s}=X(),a=JSON.stringify(N(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=z(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)},[n,i,a,s,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(G),{matches:o}=t.useContext(Y),{pathname:s}=X(),a=JSON.stringify(N(o,i.v7_relativeSplatPath));return t.useMemo(()=>z(e,JSON.parse(a),s,"path"===r),[e,a,s,r])}function ne(n,r,i,o){J()||c(!1);let{navigator:s}=t.useContext(G),{matches:a}=t.useContext(Y),l=a[a.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=X();if(r){var f;let e="string"===typeof r?g(r):r;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),h=e}else h=p;let m=h.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(n,{pathname:v});let b=ae(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,i,o);return r&&b?t.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},b):b}function re(){let e=function(){var e;let n=t.useContext(Q),r=ue(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const ie=t.createElement(re,null);class oe extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(H);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},i)}function ae(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let d=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){d=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,i,o)=>{let s,c=!1,h=null,p=null;var g;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,d&&(u<0&&0===o?(g="route-fallback",!1||pe[g]||(pe[g]=!0),c=!0,p=null):u===o&&(c=!0,p=i.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,o+1)),m=()=>{let n;return n=s?h:c?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(se,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let n=t.useContext(H);return n||c(!1),n}function ue(e){let n=t.useContext(q);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function fe(e){let{to:n,replace:r,state:i,relative:o}=e;J()||c(!1);let{future:s,static:a}=t.useContext(G),{matches:l}=t.useContext(Y),{pathname:d}=X(),u=ee(),h=z(n,N(l,s.v7_relativeSplatPath),d,"path"===o),p=JSON.stringify(h);return t.useEffect(()=>u(JSON.parse(p),{replace:r,state:i,relative:o}),[u,p,o,r,i]),null}function me(e){c(!1)}function ye(n){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:a,static:l=!1,future:d}=n;J()&&c(!1);let u=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:u,navigator:a,static:l,future:V({v7_relativeSplatPath:!1},d)}),[u,d,a,l]);"string"===typeof o&&(o=g(o));let{pathname:p="/",search:f="",hash:m="",state:y=null,key:v="default"}=o,x=t.useMemo(()=>{let e=P(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:y,key:v},navigationType:s}},[u,p,f,m,y,v,s]);return null==x?null:t.createElement(G.Provider,{value:h},t.createElement(K.Provider,{children:i,value:x}))}function ve(e){let{children:t,location:n}=e;return ne(xe(t),n)}new Promise(()=>{});t.Component;function xe(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,xe(e.props.children,o));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xe(e.props.children,o)),r.push(s)}),r}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Nn){}new Map;const ke=r.startTransition;s.flushSync,r.useId;function Ce(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),f(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,a)));let l=s.current,[c,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:u}=i||{},g=t.useCallback(e=>{u&&ke?ke(()=>d(e)):d(e)},[d,u]);return t.useLayoutEffect(()=>l.listen(g),[l,g]),t.useEffect(()=>ge(i),[i]),t.createElement(ye,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=t.forwardRef(function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:d,to:u,preventScrollReset:h,viewTransition:g}=e,f=we(e,Se),{basename:m}=t.useContext(G),y=!1;if("string"===typeof u&&Ee.test(u)&&(r=u,je))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(Nn){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;J()||c(!1);let{basename:i,navigator:o}=t.useContext(G),{hash:s,pathname:a,search:l}=te(e,{relative:r}),d=a;return"/"!==i&&(d="/"===a?i:M([i,a])),o.createHref({pathname:d,search:l,hash:s})}(u,{relative:o}),x=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===n?{}:n,c=ee(),d=X(),u=te(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:p(d)===p(u);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,u,i,o,r,e,s,a,l])}(u,{replace:a,state:l,target:d,preventScrollReset:h,relative:o,viewTransition:g});return t.createElement("a",be({},f,{href:r||v,onClick:y||s?i:function(e){i&&i(e),e.defaultPrevented||x(e)},ref:n,target:d}))});var Te,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var Re=n(477),Ae=n(165),Pe=n(32);const De={async hasCompletedSetup(e){try{const t=await(0,Pe.x7)((0,Pe.H9)(Re.db,"users",e));if(t.exists()){return t.data().accountSetupComplete||!1}return!1}catch(t){return console.error("Error checking setup completion:",t),!1}},async markSetupComplete(e,t){try{const n=(0,Pe.H9)(Re.db,"users",e);return await(0,Pe.mZ)(n,{accountSetupComplete:!0,setupCompletedAt:new Date,setupData:t,lastUpdated:new Date}),!0}catch(n){throw console.error("Error marking setup complete:",n),new Error("Failed to save setup completion")}},async getSetupData(e){try{const t=await(0,Pe.x7)((0,Pe.H9)(Re.db,"users",e));if(t.exists()){const e=t.data();return{accountSetupComplete:e.accountSetupComplete||!1,setupCompletedAt:e.setupCompletedAt,setupData:e.setupData||null}}return{accountSetupComplete:!1,setupCompletedAt:null,setupData:null}}catch(t){return console.error("Error getting setup data:",t),{accountSetupComplete:!1,setupCompletedAt:null,setupData:null}}}};var Fe=n(579);const Ne=(0,t.createContext)(),ze=()=>{const e=(0,t.useContext)(Ne);if(!e)throw new Error("useUser must be used within a UserProvider");return e},Me=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),f=async e=>{if(e)try{d(null);const t=await(0,Pe.x7)((0,Pe.H9)(Re.db,"users",e.uid));let o="student";if(t.exists()){o=t.data().role||"student"}else try{await(0,Pe.BN)((0,Pe.H9)(Re.db,"users",e.uid),{uid:e.uid,email:e.email||"",displayName:e.displayName||"User",role:"student",createdAt:new Date,lastUpdated:new Date})}catch(n){console.error("Error creating user document:",n)}const a={...e,role:o};i(a),s(o);try{const t=await De.getSetupData(e.uid);h(t.accountSetupComplete),g(t.setupData)}catch(r){console.error("Error loading setup data:",r),h(!1),g(null)}}catch(c){console.error("Error getting user role:",c),d("Failed to load user data. Please refresh the page.");try{var t;const n=(null===(t=(await e.getIdTokenResult()).claims)||void 0===t?void 0:t.role)||"student",r={...e,role:n};i(r),s(n),d(null)}catch(o){console.error("Error getting user role from claims:",o);const t={...e,role:"student"};i(t),s("student"),d("Using default role due to data loading issues.")}}else i(null),s(null),d(null);l(!1)};(0,t.useEffect)(()=>{try{const e=(0,Ae.hg)(Re.j2,f);return()=>e()}catch(c){console.error("Error setting up auth listener:",c),d("Authentication system error. Please refresh the page."),l(!1)}},[]);const m={user:r,userRole:o,loading:a,error:c,isStudent:"student"===o,isCoach:"coach"===o,isAdmin:"admin"===o,isParent:"parent"===o,isAuthenticated:!!r,refreshUser:async()=>{if(Re.j2.currentUser)try{await f(Re.j2.currentUser)}catch(c){console.error("Error refreshing user:",c),d("Failed to refresh user data.")}},clearError:()=>d(null),setupComplete:u,setupData:p,markSetupComplete:async e=>{if(r)try{return await De.markSetupComplete(r.uid,e),h(!0),g(e),!0}catch(c){return console.error("Error marking setup complete:",c),d("Failed to save setup completion"),!1}return!1}};return(0,Fe.jsx)(Ne.Provider,{value:m,children:n})},Oe={colors:{primary:"#00af51",secondary:"#f4ee19",background:{primary:"#000000",secondary:"#1a1a1a",green:"#00af51"},text:{primary:"#ffffff",secondary:"#cccccc",dark:"#000000"},border:"#333333",success:"#00af51",warning:"#f4ee19",error:"#ff4444"},typography:{fontFamily:{headline:"Raleway, sans-serif",body:"Work Sans, sans-serif"},fontWeights:{regular:400,medium:500,semibold:600,bold:700},fontSizes:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px","4xl":"36px","5xl":"48px"},lineHeights:{tight:1.2,normal:1.5,relaxed:1.75}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px","3xl":"64px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px"},shadows:{sm:"0 1px 3px rgba(0,0,0,0.12)",md:"0 4px 6px rgba(0,0,0,0.1)",lg:"0 10px 15px rgba(0,0,0,0.1)",green:"0 4px 12px rgba(0, 175, 81, 0.3)"}},Le=e=>{let{message:t="Loading...",size:n="medium",fullScreen:r=!1}=e;const i={small:"20px",medium:"40px",large:"60px"},o=i[n]||i.medium,s=r?{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:Oe.typography.fontFamily.body}:{display:"flex",justifyContent:"center",alignItems:"center",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body},a={textAlign:"center",color:Oe.colors.text.secondary},l={width:o,height:o,border:`4px solid ${Oe.colors.border}`,borderTop:`4px solid ${Oe.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},c={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,margin:0};return(0,Fe.jsxs)("div",{style:s,children:[(0,Fe.jsxs)("div",{style:a,children:[(0,Fe.jsx)("div",{style:l}),(0,Fe.jsx)("p",{style:c,children:t})]}),(0,Fe.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},Be=e=>{let{children:t,requiredRole:n=null,allowedRoles:r=[],redirectTo:i="/login"}=e;const{user:o,userRole:s,loading:a,isAuthenticated:l}=ze();return a?(0,Fe.jsx)(Le,{message:"Loading...",fullScreen:!0}):l?n&&s!==n||r.length>0&&!r.includes(s)?(0,Fe.jsx)(fe,{to:"/unauthorized",replace:!0}):t:(0,Fe.jsx)(fe,{to:i,replace:!0})};class Ue extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,color:Oe.colors.text.primary},children:(0,Fe.jsxs)("div",{style:{maxWidth:"600px",textAlign:"center",padding:Oe.spacing.xl,backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},children:[(0,Fe.jsx)("h1",{style:{fontSize:Oe.typography.fontSizes["2xl"],color:Oe.colors.error,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Something went wrong"}),(0,Fe.jsx)("p",{style:{fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg,lineHeight:Oe.typography.lineHeights.normal},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),(0,Fe.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#009a47",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.primary,e.target.style.transform="translateY(0)"},children:"Refresh Page"}),!1]})}):this.props.children}}const $e=Ue,We={async getUserTokens(e){try{const t=(0,Pe.H9)(Re.db,"userTokens",e),n=await(0,Pe.x7)(t);if(n.exists())return n.data();{const n={userId:e,groupSessions:0,individualSessions:0,tournaments:0,fitnessSessions:0,mentalSessions:0,tournamentPrep:0,lastUpdated:(0,Pe.O5)(),history:[]};return await(0,Pe.BN)(t,n),n}}catch(t){throw console.error("Error fetching user tokens:",t),t}},async addTokens(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"purchase";try{const i=(0,Pe.H9)(Re.db,"userTokens",e);return await(0,Pe.mZ)(i,{[t]:(0,Pe.GV)(n),lastUpdated:(0,Pe.O5)()}),await this.addTokenHistory(e,{type:"add",tokenType:t,quantity:n,source:r,timestamp:(0,Pe.O5)()}),!0}catch(i){throw console.error("Error adding tokens:",i),i}},async useTokens(e,t,n,r){try{const i=(0,Pe.H9)(Re.db,"userTokens",e),o=await(0,Pe.x7)(i);if(!o.exists())throw new Error("User token account not found");const s=o.data();if(s[t]<n)throw new Error(`Insufficient ${t} tokens. Available: ${s[t]}, Required: ${n}`);const a=s[t]-n;return await(0,Pe.mZ)(i,{[t]:a,lastUpdated:(0,Pe.O5)()}),await this.addTokenHistory(e,{type:"use",tokenType:t,quantity:n,sessionId:r,timestamp:(0,Pe.O5)()}),!0}catch(i){throw console.error("Error using tokens:",i),i}},async addTokenHistory(e,t){try{const n=(0,Pe.H9)(Re.db,"userTokens",e),r=await(0,Pe.x7)(n);if(r.exists()){const e=r.data().history||[];e.unshift(t);const i=e.slice(0,50);await(0,Pe.mZ)(n,{history:i})}}catch(n){throw console.error("Error adding token history:",n),n}},async getTokenHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const n=(0,Pe.H9)(Re.db,"userTokens",e),r=await(0,Pe.x7)(n);if(r.exists()){return(r.data().history||[]).slice(0,t)}return[]}catch(n){throw console.error("Error fetching token history:",n),n}},async hasSufficientTokens(e,t,n){try{return(await this.getUserTokens(e))[t]>=n}catch(r){return console.error("Error checking token balance:",r),!1}},getTokenRequirements:()=>({groupTraining:{groupSessions:1},videoAnalysis:{groupSessions:1},performanceAnalytics:{groupSessions:1},individualFitness:{fitnessSessions:1},individualMental:{mentalSessions:1},tournamentPrep:{tournamentPrep:1},tournament:{tournaments:1}}),calculatePackageTokens:e=>({"youth-starter":{groupSessions:4,tournaments:2},"youth-developer":{groupSessions:8,tournaments:3},"youth-elite":{groupSessions:12,tournaments:4},"youth-champion":{groupSessions:16,tournaments:4},"adult-starter":{groupSessions:4,tournaments:2},"adult-developer":{groupSessions:8,tournaments:3},"adult-elite":{groupSessions:12,tournaments:4},"adult-champion":{groupSessions:16,tournaments:4}}[e]||{}),calculateAddOnTokens:e=>({"ryp-academy-starter":{fitnessSessions:4},"ryp-academy-developer":{fitnessSessions:8},"mental-starter":{mentalSessions:2},"mental-developer":{mentalSessions:4},"tournament-prep":{tournamentPrep:1}}[e]||{})},Ve={async linkParentToChild(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parent";try{const r=(0,Pe.H9)(Re.db,"families",`${e}_${t}`);return await(0,Pe.BN)(r,{parentId:e,childId:t,relationship:n,status:"active",createdAt:(0,Pe.O5)(),lastUpdated:(0,Pe.O5)()}),await this.updateUserFamilyStatus(e,"parent",t),await this.updateUserFamilyStatus(t,"child",e),!0}catch(r){throw console.error("Error linking parent to child:",r),r}},async getChildrenForParent(e){try{const t=(0,Pe.rJ)(Re.db,"families"),n=(0,Pe.P)(t,(0,Pe._M)("parentId","==",e),(0,Pe._M)("status","==","active")),r=await(0,Pe.GG)(n),i=[];for(const e of r.docs){const t=e.data(),n=await this.getUserProfile(t.childId);n&&i.push({...n,relationship:t.relationship,linkedAt:t.createdAt})}return i}catch(t){throw console.error("Error fetching children:",t),t}},async getParentForChild(e){try{const t=(0,Pe.rJ)(Re.db,"families"),n=(0,Pe.P)(t,(0,Pe._M)("childId","==",e),(0,Pe._M)("status","==","active")),r=await(0,Pe.GG)(n);if(r.docs.length>0){const e=r.docs[0].data(),t=await this.getUserProfile(e.parentId);return t?{...t,relationship:e.relationship,linkedAt:e.createdAt}:null}return null}catch(t){throw console.error("Error fetching parent:",t),t}},async fundChildAccount(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"stripe";try{if(!await this.verifyParentChildRelationship(e,t))throw new Error("Unauthorized: You can only fund accounts of your linked children");const i=await this.processParentPayment(e,n,r);if(i.success)return await this.addFundsToChildAccount(t,n,e),await this.createFundingRecord(e,t,n,i.transactionId),{success:!0,message:`Successfully funded $${n} to child's account`,transactionId:i.transactionId};throw new Error("Payment failed")}catch(i){throw console.error("Error funding child account:",i),i}},async purchasePackageForChild(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];try{if(!await this.verifyParentChildRelationship(e,t))throw new Error("Unauthorized: You can only purchase packages for your linked children");const i=this.calculatePackageCost(n,r),o=await this.processParentPayment(e,i,"stripe");if(o.success){const s=We.calculatePackageTokens(n);for(const[e,n]of Object.entries(s))await We.addTokens(t,e,n,"parent_purchase");let a={};for(const e of r){const n=We.calculateAddOnTokens(e.id);for(const[e,r]of Object.entries(n))await We.addTokens(t,e,r,"parent_purchase");a={...a,...n}}return await this.createPurchaseRecord(e,t,n,r,i,o.transactionId),{success:!0,message:"Package purchased successfully for child",tokensAdded:{...s,...a},transactionId:o.transactionId}}throw new Error("Payment failed")}catch(i){throw console.error("Error purchasing package for child:",i),i}},async scheduleSessionForChild(e,t,n){try{if(!await this.verifyParentChildRelationship(e,t))throw new Error("Unauthorized: You can only schedule sessions for your linked children");const r=We.getTokenRequirements()[n.type];if(r)for(const[e,n]of Object.entries(r)){if(!await We.hasSufficientTokens(t,e,n))throw new Error(`Insufficient ${e} tokens for this session`)}if(r)for(const[e,i]of Object.entries(r))await We.useTokens(t,e,i,n.sessionId);return{success:!0,message:"Session scheduled successfully",bookingId:await this.createChildBooking(t,n,e)}}catch(r){throw console.error("Error scheduling session for child:",r),r}},async getChildAccountSummary(e,t){try{if(!await this.verifyParentChildRelationship(e,t))throw new Error("Unauthorized: You can only view accounts of your linked children");const n=await We.getUserTokens(t),r=await this.getChildRecentActivity(t),i=await this.getChildUpcomingSessions(t),o=await this.getChildSpendingHistory(t);return{childProfile:await this.getUserProfile(t),tokenBalance:n,recentActivity:r,upcomingSessions:i,spendingHistory:o}}catch(n){throw console.error("Error fetching child account summary:",n),n}},async verifyParentChildRelationship(e,t){try{const n=(0,Pe.rJ)(Re.db,"families"),r=(0,Pe.P)(n,(0,Pe._M)("parentId","==",e),(0,Pe._M)("childId","==",t),(0,Pe._M)("status","==","active"));return(await(0,Pe.GG)(r)).docs.length>0}catch(n){return console.error("Error verifying parent-child relationship:",n),!1}},async updateUserFamilyStatus(e,t,n){try{const r=(0,Pe.H9)(Re.db,"users",e);await(0,Pe.mZ)(r,{familyRole:t,linkedUserId:n,lastUpdated:(0,Pe.O5)()})}catch(r){throw console.error("Error updating user family status:",r),r}},async getUserProfile(e){try{const t=(0,Pe.H9)(Re.db,"users",e),n=await(0,Pe.x7)(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("Error fetching user profile:",t),null}},processParentPayment:async(e,t,n)=>({success:!0,transactionId:`txn_${Date.now()}_${e}`}),async addFundsToChildAccount(e,t,n){try{const n=(0,Pe.H9)(Re.db,"childAccounts",e);(await(0,Pe.x7)(n)).exists()?await(0,Pe.mZ)(n,{balance:(0,Pe.GV)(t),lastUpdated:(0,Pe.O5)()}):await(0,Pe.BN)(n,{childId:e,balance:t,createdAt:(0,Pe.O5)(),lastUpdated:(0,Pe.O5)()})}catch(r){throw console.error("Error adding funds to child account:",r),r}},async createFundingRecord(e,t,n,r){try{const i=(0,Pe.H9)(Re.db,"fundingRecords",`${r}`);await(0,Pe.BN)(i,{parentId:e,childId:t,amount:n,transactionId:r,type:"funding",status:"completed",createdAt:(0,Pe.O5)()})}catch(i){throw console.error("Error creating funding record:",i),i}},async createPurchaseRecord(e,t,n,r,i,o){try{const s=(0,Pe.H9)(Re.db,"purchaseRecords",`${o}`);await(0,Pe.BN)(s,{parentId:e,childId:t,packageId:n,addOns:r,totalCost:i,transactionId:o,type:"package_purchase",status:"completed",createdAt:(0,Pe.O5)()})}catch(s){throw console.error("Error creating purchase record:",s),s}},async createChildBooking(e,t,n){try{const r=(0,Pe.H9)(Re.db,"bookings",`${e}_${t.sessionId}`);return await(0,Pe.BN)(r,{userId:e,sessionId:t.sessionId,sessionType:t.type,scheduledBy:n,status:"confirmed",createdAt:(0,Pe.O5)()}),r.id}catch(r){throw console.error("Error creating child booking:",r),r}},calculatePackageCost(e,t){const n={"ryp-academy-starter":120,"mental-starter":100,"tournament-prep":400};let r={"youth-starter":200,"youth-developer":380,"youth-elite":540,"youth-champion":680}[e]||0;return t.forEach(e=>{r+=n[e.id]||0}),r},getChildRecentActivity:async e=>[],getChildUpcomingSessions:async e=>[],getChildSpendingHistory:async e=>[]};const He=function(){const{user:e,loading:n}=ze(),r=ee(),[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null),[g,f]=(0,t.useState)(""),m=(e,t)=>{if(s)return e.preventDefault(),i?(p(t),void u(!0)):(alert("No child linked. Go to Parent Dashboard to add your child."),void r("/parent"));r(t)};(0,t.useEffect)(()=>{e&&y()},[e]);const y=async()=>{try{const t=await Ve.getChildrenForParent(e.uid);c(t),o(t.length>0),a(!0)}catch(t){console.error("Error checking parent status:",t),c([]),o(!1),a(!1)}};return n?(0,Fe.jsx)("nav",{style:{backgroundColor:Oe.colors.primary,padding:Oe.spacing.md,color:"white"},children:"Loading..."}):(0,Fe.jsxs)("nav",{style:{backgroundColor:Oe.colors.primary,padding:Oe.spacing.md,color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Oe.spacing.md},children:[(0,Fe.jsx)(_e,{to:"/",style:{color:"white",textDecoration:"none",fontWeight:"bold"},children:"RYP Golf Academy"}),e&&(0,Fe.jsx)(Fe.Fragment,{children:"coach"===e.role?(0,Fe.jsx)(Fe.Fragment,{children:(0,Fe.jsx)(_e,{to:"/coach",style:{color:"white",textDecoration:"none"},children:"Coach Dashboard"})}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(_e,{to:"/programs",style:{color:"white",textDecoration:"none"},children:"Programs"}),(0,Fe.jsx)(_e,{to:"/videos",style:{color:"white",textDecoration:"none"},children:"Training Videos"}),(0,Fe.jsx)("a",{href:"/booking",onClick:e=>m(e,"/booking"),style:{color:"white",textDecoration:"none"},children:"Book Sessions"}),(0,Fe.jsx)("a",{href:"/my-bookings",onClick:e=>m(e,"/my-bookings"),style:{color:"white",textDecoration:"none"},children:"My Bookings"}),"admin"===e.role&&(0,Fe.jsx)(_e,{to:"/admin",style:{color:"white",textDecoration:"none"},children:"Admin"}),s&&i&&(0,Fe.jsx)(_e,{to:"/parent",style:{color:"white",textDecoration:"none"},children:"Parent Dashboard"})]})})]}),(0,Fe.jsx)("div",{style:{display:"flex",alignItems:"center",gap:Oe.spacing.md},children:e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(_e,{to:"/profile",style:{color:"white",textDecoration:"none"},children:"Profile"}),(0,Fe.jsxs)("span",{style:{fontSize:"0.9rem"},children:["Welcome, ",e.displayName||e.email]}),(0,Fe.jsx)("button",{onClick:async()=>{try{await(0,Ae.CI)(Re.j2),r("/login")}catch(e){console.error("Error signing out:",e),r("/login")}},style:{backgroundColor:"transparent",color:"white",border:"1px solid white",padding:Oe.spacing.sm,borderRadius:Oe.borderRadius.sm,cursor:"pointer"},children:"Sign Out"})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(_e,{to:"/login",style:{color:"white",textDecoration:"none"},children:"Login"}),(0,Fe.jsx)(_e,{to:"/signup",style:{color:"white",textDecoration:"none"},children:"Sign Up"})]})}),d&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,color:Oe.colors.text.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,width:"90%",maxWidth:420,border:`1px solid ${Oe.colors.border}`},children:[(0,Fe.jsx)("h3",{style:{marginTop:0,marginBottom:Oe.spacing.md},children:"Select a Child"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginTop:0},children:"Choose which child you are booking for."}),(0,Fe.jsxs)("select",{value:g,onChange:e=>f(e.target.value),style:{width:"100%",padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("option",{value:"",children:"-- Select --"}),l.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.displayName||e.email||e.id},e.id))]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm,justifyContent:"flex-end"},children:[(0,Fe.jsx)("button",{onClick:()=>u(!1),style:{background:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,padding:Oe.spacing.sm,borderRadius:Oe.borderRadius.sm,cursor:"pointer"},children:"Cancel"}),(0,Fe.jsx)("button",{onClick:()=>{g?(u(!1),sessionStorage.setItem("selectedChildId",g),h&&r(h)):alert("Please select a child to continue.")},style:{background:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",padding:Oe.spacing.sm,borderRadius:Oe.borderRadius.sm,cursor:"pointer"},children:"Continue"})]})]})})]})};const qe=function(){const e=ee(),[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(""),{refreshUser:s}=ze(),a={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,cursor:n?"not-allowed":"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,letterSpacing:"0.05em",fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",boxShadow:Oe.shadows.sm,opacity:n?.7:1,":hover":{backgroundColor:n?Oe.colors.primary:"#009a47",transform:n?"none":"translateY(-1px)",boxShadow:n?Oe.shadows.sm:Oe.shadows.green}},l={color:Oe.colors.error,fontSize:Oe.typography.fontSizes.sm,marginTop:Oe.spacing.sm,textAlign:"center",fontFamily:Oe.typography.fontFamily.body};return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("button",{onClick:async()=>{r(!0),o("");try{console.log("Attempting Google sign-in...");const t=await(0,Ae.df)(Re.j2,Re.Mn);console.log("User signed in successfully:",t.user);try{await s()}catch(Nn){}e("/dashboard",{replace:!0})}catch(i){console.error("Sign-in error:",i),"auth/popup-closed-by-user"===i.code?o("Sign-in was cancelled. Please try again."):"auth/popup-blocked"===i.code?o("Pop-up was blocked. Please allow pop-ups for this site."):"auth/unauthorized-domain"===i.code?o("This domain is not authorized for sign-in. Please contact support."):o(`Sign-in failed: ${i.message}`)}finally{r(!1)}},disabled:n,style:a,children:n?"Signing in...":"Sign in with Google"}),i&&(0,Fe.jsx)("p",{style:l,children:i})]})};const Ge=function(){const{isAuthenticated:e,loading:n}=ze(),r=ee();(0,t.useEffect)(()=>{!n&&e&&r("/dashboard",{replace:!0})},[e,n,r]);const i={maxWidth:"500px",margin:"0 auto",padding:Oe.spacing.xl,textAlign:"center",fontFamily:Oe.typography.fontFamily.body,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},o={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing["2xl"],borderRadius:Oe.borderRadius.lg,boxShadow:Oe.shadows.lg,border:`1px solid ${Oe.colors.border}`,width:"100%"},s={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},a={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xl,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},l={marginTop:Oe.spacing.xl},c={marginTop:Oe.spacing.lg,padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,backgroundColor:Oe.colors.background.primary},d={color:Oe.colors.text.secondary,fontSize:Oe.typography.fontSizes.sm,marginBottom:Oe.spacing.sm},u={color:Oe.colors.primary,textDecoration:"none",fontWeight:Oe.typography.fontWeights.semibold,fontSize:Oe.typography.fontSizes.base};return(0,Fe.jsx)("div",{style:i,children:(0,Fe.jsxs)("div",{style:o,children:[(0,Fe.jsx)("h1",{style:s,children:"Welcome to RYP Golf"}),(0,Fe.jsx)("p",{style:a,children:"Sign in to access your performance dashboard and continue your golf development journey with data-driven training."}),(0,Fe.jsx)("div",{style:l,children:(0,Fe.jsx)(qe,{})}),(0,Fe.jsxs)("div",{style:c,children:[(0,Fe.jsx)("p",{style:d,children:"New to RYP Golf Academy?"}),(0,Fe.jsx)("a",{href:"/register",style:u,children:"Create your account"})]})]})})};const Ke=function(){const[e,n]=(0,t.useState)("speed"),r={speed:{title:"Clubhead Speed",current:95,target:105,unit:"mph",progress:75,history:[88,90,92,93,94,95],improvement:"+7 mph"},distance:{title:"Driving Distance",current:245,target:265,unit:"yards",progress:60,history:[230,235,238,240,242,245],improvement:"+15 yards"},accuracy:{title:"Fairway Accuracy",current:68,target:75,unit:"%",progress:85,history:[62,64,65,66,67,68],improvement:"+6%"},handicap:{title:"Handicap Index",current:8.5,target:5,unit:"",progress:30,history:[12.2,11.8,11.2,10.5,9.2,8.5],improvement:"-3.7"}},i={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl},o={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},s={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.headline},a={display:"flex",gap:Oe.spacing.sm,marginBottom:Oe.spacing.lg},l={padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:Oe.colors.background.primary,color:Oe.colors.primary}},c={...l,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},d={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:Oe.spacing.lg},u={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,textAlign:"center",transition:"all 0.3s ease",cursor:"pointer",":hover":{transform:"translateY(-2px)",boxShadow:Oe.shadows.md,borderColor:Oe.colors.primary}},h={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,transition:"color 0.2s ease"},p={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body},g={width:"100%",height:"8px",backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.sm,overflow:"hidden",marginBottom:Oe.spacing.sm},f={height:"100%",backgroundColor:Oe.colors.primary,borderRadius:Oe.borderRadius.sm,transition:"width 0.3s ease"},m={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},y={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.primary,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body},v={marginTop:Oe.spacing.lg,padding:Oe.spacing.lg,backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`},x={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},b={width:"100%",height:"200px",display:"flex",alignItems:"end",gap:"2px",padding:Oe.spacing.md},w={flex:1,backgroundColor:Oe.colors.primary,borderRadius:"2px 2px 0 0",transition:"height 0.3s ease"},S={fontSize:Oe.typography.fontSizes.xs,color:Oe.colors.text.secondary,textAlign:"center",marginTop:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.body},k=r[e];return(0,Fe.jsxs)("div",{style:i,children:[(0,Fe.jsx)("div",{style:o,children:(0,Fe.jsx)("h3",{style:s,children:"Training Progress"})}),(0,Fe.jsx)("div",{style:a,children:Object.keys(r).map(t=>(0,Fe.jsx)("button",{style:e===t?c:l,onClick:()=>n(t),onMouseEnter:n=>{e!==t&&(n.target.style.backgroundColor=Oe.colors.background.primary,n.target.style.color=Oe.colors.primary)},onMouseLeave:n=>{e!==t&&(n.target.style.backgroundColor="transparent",n.target.style.color=Oe.colors.text.secondary)},children:r[t].title},t))}),(0,Fe.jsxs)("div",{style:d,children:[(0,Fe.jsxs)("div",{style:u,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.md,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsxs)("div",{style:h,children:[k.current,k.unit]}),(0,Fe.jsx)("div",{style:p,children:k.title}),(0,Fe.jsx)("div",{style:g,children:(0,Fe.jsx)("div",{style:{...f,width:`${k.progress}%`}})}),(0,Fe.jsxs)("div",{style:m,children:[k.progress,"% to target (",k.target,k.unit,")"]}),(0,Fe.jsxs)("div",{style:y,children:[k.improvement," improvement"]})]}),(0,Fe.jsxs)("div",{style:u,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.md,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsxs)("div",{style:h,children:[k.target,k.unit]}),(0,Fe.jsx)("div",{style:p,children:"Target Goal"}),(0,Fe.jsxs)("div",{style:{color:Oe.colors.text.secondary,fontSize:Oe.typography.fontSizes.sm},children:[k.title," target for this training cycle"]})]}),(0,Fe.jsxs)("div",{style:u,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.md,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:h,children:k.history.length}),(0,Fe.jsx)("div",{style:p,children:"Training Sessions"}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary,fontSize:Oe.typography.fontSizes.sm},children:"Sessions completed this month"})]})]}),(e=>{const t=Math.max(...e.history),n=Math.min(...e.history),r=t-n;return(0,Fe.jsxs)("div",{style:v,children:[(0,Fe.jsx)("h4",{style:x,children:"Progress Over Time"}),(0,Fe.jsx)("div",{style:b,children:e.history.map((t,i)=>{const o=r>0?(t-n)/r*100:50;return(0,Fe.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Fe.jsx)("div",{style:{...w,height:`${o}%`,backgroundColor:i===e.history.length-1?Oe.colors.primary:Oe.colors.text.secondary}}),(0,Fe.jsxs)("div",{style:S,children:[t,e.unit]})]},i)})})]})})(k)]})},Ye=()=>{const{setupData:e}=ze(),n=ee(),[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(0),[a,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(e&&e.rypTestResults)i(e.rypTestResults.finalScore),s(1),l(null);else{const e={latestScore:12,testCount:3,improvement:"+2",lastTestDate:"2024-01-15",bestScore:10,averageScore:11.5};i(e.latestScore),s(e.testCount),l(e.improvement)}},[e]);const c={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},d={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},u={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,margin:0},h={padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",textDecoration:"none"},p={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:Oe.spacing.md,marginBottom:Oe.spacing.lg},g={textAlign:"center",padding:Oe.spacing.sm},f={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.xs},m={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,textTransform:"uppercase",letterSpacing:"0.05em"},y={textAlign:"center",padding:Oe.spacing.md,backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md},v={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.xs},x={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm},b={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.success,fontWeight:Oe.typography.fontWeights.semibold},w=()=>{n("/driving-test")};return r?(0,Fe.jsxs)("div",{style:c,children:[(0,Fe.jsxs)("div",{style:d,children:[(0,Fe.jsx)("h3",{style:u,children:"RYP Driving Index\u2122"}),(0,Fe.jsx)("button",{style:h,onClick:w,children:"Take Test"})]}),(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsx)("div",{style:v,children:r}),(0,Fe.jsx)("div",{style:x,children:"Current Score"}),a&&(0,Fe.jsxs)("div",{style:b,children:[a," from last test"]})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:o}),(0,Fe.jsx)("div",{style:m,children:"Tests Taken"})]}),(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"10"}),(0,Fe.jsx)("div",{style:m,children:"Best Score"})]}),(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"11.5"}),(0,Fe.jsx)("div",{style:m,children:"Average"})]}),(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"3"}),(0,Fe.jsx)("div",{style:m,children:"This Month"})]})]}),(0,Fe.jsx)("div",{style:{textAlign:"center"},children:(0,Fe.jsx)("button",{style:{...h,backgroundColor:"transparent",color:Oe.colors.primary,border:`1px solid ${Oe.colors.primary}`},onClick:()=>{n("/driving-test")},children:"View History"})})]}):(0,Fe.jsxs)("div",{style:c,children:[(0,Fe.jsx)("div",{style:d,children:(0,Fe.jsx)("h3",{style:u,children:"RYP Driving Index\u2122"})}),(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing.lg},children:[(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:"Take your first driving test to see your stats"}),(0,Fe.jsx)("button",{style:h,onClick:w,children:"Take First Test"})]})]})};var Qe=n(737);const Je=function(){const{user:e}=ze(),[n,r]=(ee(),(0,t.useState)("overview")),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)({}),[d,u]=(0,t.useState)((new Date).toISOString().split("T")[0]),[h,p]=(0,t.useState)(!1),[g,f]=(0,t.useState)(null),[m,y]=(0,t.useState)([]),[v,x]=(0,t.useState)(!0),[b,w]=(0,t.useState)(null),[S,k]=(0,t.useState)(!1),[C,j]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[T,I]=(0,t.useState)(!1),[R,A]=(0,t.useState)([]),[P,D]=(0,t.useState)([]),[F,N]=(0,t.useState)([]),[z,M]=(0,t.useState)([]),[O,L]=(0,t.useState)({studentId:"",date:"",focus:"",notes:"",recommendations:"",videos:[]}),[B,U]=(0,t.useState)({parentId:"",subject:"",message:""}),[$,W]=(0,t.useState)({date:"",time:"",type:"group",focus:"",students:[]});(0,t.useEffect)(()=>{V(),H()},[]);const V=async()=>{x(!0);try{const e=(await Qe.userService.getUsersByRole("student")).map(e=>({id:e.id,name:e.displayName||e.name||e.email||"Student",email:e.email||"",phone:e.phone||"",age:e.participantAge?Number(e.participantAge):void 0,skillLevel:e.experience||"Beginner",lastSession:e.lastSession||"-",nextSession:e.nextSession||"-",progress:e.progress||0,goals:e.goals?Array.isArray(e.goals)?e.goals:[e.goals]:[],notes:e.notes||"",attendance:e.attendance||0,improvement:e.improvement||"0%",sessionsThisMonth:e.sessionsThisMonth||0})),t=(await Qe.mB.getAllSessions()).map(e=>({id:e.id,date:e.date||"-",time:e.time||"-",type:"individual"===e.type?"Individual":e.type||"Group Training",students:Array.isArray(e.students)?e.students:e.students?[e.students]:[],status:e.status||"Scheduled",focus:e.focus||"",duration:e.duration||("individual"===e.type?"60 min":"90 min"),location:e.location||"TBD"}));o(e),a(t),A([]),D([]),M([]),N([])}catch(e){console.error("Error loading coach data:",e),o([]),a([]),A([]),D([]),M([]),N([])}finally{x(!1)}},H=async()=>{try{const e=await Qe.zi.getAllBookings(),t={};e.forEach(e=>{const n=`${e.date}-${e.time}`;t[n]||(t[n]={sessions:[],waitlist:[]}),"session"===e.type&&t[n].sessions.push(e),"waitlist"===e.type&&t[n].waitlist.push(e)}),c(t)}catch(Nn){console.error("Error loading bookings:",Nn),c({})}},q=()=>{k(!0)},G=e=>{w(e),_(!0)},K={maxWidth:"1400px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},Y={marginBottom:Oe.spacing.xl},Q={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},J={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},X={display:"flex",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl,borderBottom:`1px solid ${Oe.colors.border}`,paddingBottom:Oe.spacing.md},Z={padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease"},te={...Z,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},ne={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},re={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:Oe.spacing.lg},ie={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center"},oe={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},se={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},ae={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,border:"none",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},le={backgroundColor:"transparent",color:Oe.colors.text.primary,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},ce={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,cursor:"pointer",transition:"all 0.2s ease"},de={...ce,borderColor:Oe.colors.primary,backgroundColor:Oe.colors.background.secondary};return v?(0,Fe.jsx)("div",{style:K,children:(0,Fe.jsx)("div",{style:{textAlign:"center",padding:Oe.spacing.xl},children:"Loading your coach dashboard..."})}):(0,Fe.jsxs)("div",{style:K,children:[(0,Fe.jsxs)("div",{style:Y,children:[(0,Fe.jsx)("h1",{style:Q,children:"Coach Dashboard"}),(0,Fe.jsx)("p",{style:J,children:"Manage your students and training sessions"}),(0,Fe.jsxs)("p",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:["Welcome back, ",(null===e||void 0===e?void 0:e.displayName)||"Coach","! You have ",i.length," active students."]})]}),(0,Fe.jsxs)("div",{style:X,children:[(0,Fe.jsx)("button",{style:"overview"===n?te:Z,onClick:()=>r("overview"),children:"Overview"}),(0,Fe.jsx)("button",{style:"students"===n?te:Z,onClick:()=>r("students"),children:"Students"}),(0,Fe.jsx)("button",{style:"sessions"===n?te:Z,onClick:()=>r("sessions"),children:"Sessions"}),(0,Fe.jsx)("button",{style:"practice"===n?te:Z,onClick:()=>r("practice"),children:"Practice Logs"}),(0,Fe.jsx)("button",{style:"communication"===n?te:Z,onClick:()=>r("communication"),children:"Parent Communication"}),(0,Fe.jsx)("button",{style:"analytics"===n?te:Z,onClick:()=>r("analytics"),children:"Analytics"})]}),"overview"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:re,children:[(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:i.length}),(0,Fe.jsx)("div",{style:se,children:"Active Students"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:s.filter(e=>"Scheduled"===e.status).length}),(0,Fe.jsx)("div",{style:se,children:"Upcoming Sessions"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"87%"}),(0,Fe.jsx)("div",{style:se,children:"Average Attendance"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"+14%"}),(0,Fe.jsx)("div",{style:se,children:"Student Progress"})]})]}),(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Quick Actions"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md,flexWrap:"wrap"},children:[(0,Fe.jsx)("button",{onClick:q,style:ae,children:"Create New Session"}),(0,Fe.jsx)("button",{onClick:()=>{alert("Student Progress View - Feature coming soon!")},style:le,children:"View Student Progress"}),(0,Fe.jsx)("button",{onClick:()=>{alert("Group Message - Feature coming soon!")},style:le,children:"Send Group Message"}),(0,Fe.jsx)("button",{onClick:()=>{alert("Update Session Notes - Feature coming soon!")},style:le,children:"Update Session Notes"})]})]}),(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Today's Sessions"}),s.filter(e=>e.date===(new Date).toISOString().split("T")[0]).length>0?s.filter(e=>e.date===(new Date).toISOString().split("T")[0]).map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:{fontWeight:"bold",color:Oe.colors.primary},children:[e.time," - ",e.type]}),(0,Fe.jsxs)("div",{style:{color:Oe.colors.text.secondary},children:[e.students.join(", ")," \u2022 ",e.focus]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.duration}),(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.location})]})]},e.id)):(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,textAlign:"center",padding:Oe.spacing.lg},children:"No sessions scheduled for today"})]}),(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:["Waitlist Students (",R.length,")"]}),R.length>0?(0,Fe.jsx)("div",{style:re,children:R.map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,backgroundColor:Oe.colors.background.primary},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.sm},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.name}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.age," years old \u2022 ",e.skillLevel]})]}),(0,Fe.jsx)("span",{style:{padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,backgroundColor:Oe.colors.primary,color:"white",borderRadius:Oe.borderRadius.sm,fontSize:"0.8rem",fontWeight:"bold"},children:"Waitlist"})]}),(0,Fe.jsxs)("p",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm},children:[(0,Fe.jsx)("strong",{children:"Parent Contact:"})," ",e.parentContact]}),(0,Fe.jsxs)("p",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm},children:[(0,Fe.jsx)("strong",{children:"Requested:"})," ",e.requestedDate]}),(0,Fe.jsx)("p",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:e.notes}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>G(e),style:ae,children:"Contact Parent"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{A(R.filter(t=>t.id!==e.id));const t={id:`student-${Date.now()}`,name:e.name,email:e.parentContact,phone:e.parentContact,age:e.age,skillLevel:e.skillLevel,lastSession:(new Date).toISOString().split("T")[0],nextSession:new Date(Date.now()+6048e5).toISOString().split("T")[0],progress:0,goals:["Learn basic swing","Understand course etiquette"],notes:`New student from waitlist. ${e.notes||""}`,attendance:0,improvement:"0%",sessionsThisMonth:0,status:"active"};o([...i,t]),alert(`Successfully accepted ${e.name} from waitlist! They have been added to your active students.`)})(e),style:le,children:"Accept Student"})]})]},e.id))}):(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,textAlign:"center",padding:Oe.spacing.lg},children:"No students on waitlist"})]})]}),"students"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,fontFamily:Oe.typography.fontFamily.headline},children:"Student Management"}),(0,Fe.jsx)("button",{onClick:()=>alert("Add New Student - Feature coming soon!"),style:ae,children:"Add New Student"})]}),(0,Fe.jsx)("div",{style:re,children:i.map(e=>(0,Fe.jsxs)("div",{style:(null===b||void 0===b?void 0:b.id)===e.id?de:ce,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.name}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.age," years old \u2022 ",e.skillLevel]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsxs)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Oe.colors.primary},children:[e.progress,"%"]}),(0,Fe.jsx)("div",{style:{fontSize:"0.8rem",color:Oe.colors.text.secondary},children:"Progress"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.sm,marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:"Attendance"}),(0,Fe.jsxs)("div",{style:{fontWeight:"bold"},children:[e.attendance,"%"]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:"Improvement"}),(0,Fe.jsx)("div",{style:{fontWeight:"bold",color:Oe.colors.primary},children:e.improvement})]})]}),(0,Fe.jsxs)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:["Next session: ",e.nextSession]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{w(e),j(!0)})(e),style:ae,children:"View Profile"}),(0,Fe.jsx)("button",{onClick:()=>G(e),style:le,children:"Contact Parent"})]})]},e.id))})]}),b&&(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:[b.name," - Student Details"]}),(0,Fe.jsxs)("div",{style:re,children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Contact Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",b.email]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",b.phone]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Age:"})," ",b.age," years old"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Skill Level:"})," ",b.skillLevel]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Goals"}),(0,Fe.jsx)("ul",{style:{paddingLeft:Oe.spacing.md},children:b.goals&&b.goals.map((e,t)=>(0,Fe.jsx)("li",{style:{marginBottom:Oe.spacing.xs},children:e},t))})]})]}),(0,Fe.jsxs)("div",{style:{marginTop:Oe.spacing.lg},children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Coach Notes"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:b.notes})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md,marginTop:Oe.spacing.lg},children:[(0,Fe.jsx)("button",{onClick:()=>{alert("Update Progress - Feature coming soon!")},style:ae,children:"Update Progress"}),(0,Fe.jsx)("button",{onClick:()=>{alert("Send Message - Feature coming soon!")},style:le,children:"Send Message"}),(0,Fe.jsx)("button",{onClick:()=>{k(!0)},style:le,children:"Schedule Session"})]})]})]}),"sessions"===n&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,fontFamily:Oe.typography.fontFamily.headline},children:"Session Management"}),(0,Fe.jsx)("button",{onClick:q,style:ae,children:"Create New Session"})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md,alignItems:"center",marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{color:Oe.colors.text.secondary},children:"Select Date:"}),(0,Fe.jsx)("input",{type:"date",value:d,onChange:e=>u(e.target.value),style:{padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:Oe.spacing.md},children:(e=>{const t=Object.keys(l).filter(t=>t.startsWith(`${e}-`)).map(e=>e.split("-")[3]?`${e.split("-")[2]}-${e.split("-")[3]}`:e.split("-")[2]).map(e=>(e||"").slice(0,5)).filter(Boolean),n=Array.from(new Set(t));if(n.length>0)return n.sort();return 6===new Date(e).getDay()?["08:00","09:00"]:["16:00","17:00","18:00"]})(d).map(e=>{const t=`${d}-${e}`,n=l[t]||{sessions:[],waitlist:[]},r=n.sessions.length,i=n.waitlist.length;return(0,Fe.jsx)("div",{style:{padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,backgroundColor:Oe.colors.background.primary},children:(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",color:Oe.colors.primary,marginBottom:4},children:e}),(0,Fe.jsxs)("div",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:["Attendees: ",r," ",i>0?`\u2022 Waitlist: ${i}`:""]})]}),(0,Fe.jsx)("button",{onClick:()=>(async(e,t)=>{const n=l[`${e}-${t}`]||{sessions:[],waitlist:[]},r=Array.from(new Set(n.sessions.map(e=>e.userId).filter(Boolean)));try{const e=await Promise.all(r.map(async e=>{const t=await Qe.userService.getUserById(e);return(null===t||void 0===t?void 0:t.displayName)||(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.email)||e})),t=n.sessions.map(t=>{const n=r.indexOf(t.userId);return n>=0?e[n]:t.userName||t.userEmail||t.userId});y(t)}catch(Nn){console.error("Error loading attendee names:",Nn);const t=n.sessions.map(e=>e.userName||e.userEmail||e.userId);y(t)}f({date:e,time:t}),p(!0)})(d,e),style:le,children:"View Roster"})]})},t)})}),(0,Fe.jsx)("div",{style:{display:"grid",gap:Oe.spacing.md},children:s.map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.lg,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.lg,backgroundColor:Oe.colors.background.primary},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:Oe.spacing.md,marginBottom:Oe.spacing.sm},children:[(0,Fe.jsxs)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",color:Oe.colors.primary},children:[e.date," at ",e.time]}),(0,Fe.jsx)("span",{style:{padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,backgroundColor:"Individual"===e.type?Oe.colors.primary:Oe.colors.background.secondary,color:"Individual"===e.type?"white":Oe.colors.text.primary,borderRadius:Oe.borderRadius.sm,fontSize:"0.8rem",fontWeight:"bold"},children:e.type})]}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary},children:[(0,Fe.jsx)("strong",{children:"Focus:"})," ",e.focus]}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary},children:[(0,Fe.jsx)("strong",{children:"Students:"})," ",e.students.join(", ")]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.duration}),(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.location})]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{alert(`Edit Session: ${e.type} on ${e.date}`)})(e),style:le,children:"Edit Session"}),(0,Fe.jsx)("button",{onClick:()=>alert(`Send reminder for ${e.type} session on ${e.date}`),style:le,children:"Send Reminder"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{alert(`Session Details: ${e.type} on ${e.date} at ${e.time}`)})(e),style:le,children:"View Details"})]})]},e.id))})]})}),"practice"===n&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,fontFamily:Oe.typography.fontFamily.headline},children:"Practice Logs & Recommendations"}),(0,Fe.jsx)("button",{onClick:()=>I(!0),style:ae,children:"Select Training Videos"})]}),(0,Fe.jsx)("div",{style:{display:"grid",gap:Oe.spacing.lg},children:P.map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.lg,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.lg,backgroundColor:Oe.colors.background.primary},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",color:Oe.colors.primary,marginBottom:Oe.spacing.xs},children:[e.studentName," - ",e.focus]}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.date," \u2022 Rating: ",e.rating,"/10"]})]}),(0,Fe.jsx)("div",{style:{textAlign:"right"},children:(0,Fe.jsxs)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:[e.videos.length," videos assigned"]})})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("h5",{style:{fontSize:Oe.typography.fontSizes.base,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:"Session Notes:"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:e.notes})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("h5",{style:{fontSize:Oe.typography.fontSizes.base,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:"Recommendations:"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:e.recommendations})]}),e.videos.length>0&&(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("h5",{style:{fontSize:Oe.typography.fontSizes.base,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:"Assigned Videos:"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:Oe.spacing.sm,flexWrap:"wrap"},children:e.videos&&e.videos.map(e=>{const t=z&&z.find(t=>t.id===e);return t?(0,Fe.jsx)("span",{style:{padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,borderRadius:Oe.borderRadius.sm,fontSize:"0.8rem"},children:t.title},e):null})})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>alert(`Edit practice log for ${e.studentName}`),style:le,children:"Edit Log"}),(0,Fe.jsx)("button",{onClick:()=>alert(`Share practice log with ${e.studentName}'s parent`),style:le,children:"Share with Parent"})]})]},e.id))})]})}),"communication"===n&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,fontFamily:Oe.typography.fontFamily.headline},children:"Parent Communication"}),(0,Fe.jsx)("button",{onClick:()=>_(!0),style:ae,children:"New Message"})]}),(0,Fe.jsx)("div",{style:{display:"grid",gap:Oe.spacing.md},children:F.map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.lg,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.lg,backgroundColor:"unread"===e.status?Oe.colors.background.secondary:Oe.colors.background.primary},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.subject}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:["From: ",e.parentName," \u2022 Student: ",e.studentName]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.date}),"unread"===e.status&&(0,Fe.jsx)("span",{style:{padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,backgroundColor:Oe.colors.primary,color:"white",borderRadius:Oe.borderRadius.sm,fontSize:"0.8rem",fontWeight:"bold"},children:"New"})]})]}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:e.message}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>alert(`Reply to ${e.parentName}`),style:ae,children:"Reply"}),(0,Fe.jsx)("button",{onClick:()=>alert(`Mark message from ${e.parentName} as read`),style:le,children:"Mark as Read"})]})]},e.id))})]})}),"analytics"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:re,children:[(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Student Performance"}),(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing.xl},children:[(0,Fe.jsx)("div",{style:{fontSize:"3rem",fontWeight:"bold",color:Oe.colors.primary,marginBottom:Oe.spacing.sm},children:"+14%"}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary},children:"Average improvement across all students"})]})]}),(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Session Statistics"}),(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing.xl},children:[(0,Fe.jsx)("div",{style:{fontSize:"3rem",fontWeight:"bold",color:Oe.colors.primary,marginBottom:Oe.spacing.sm},children:"87%"}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary},children:"Average session attendance rate"})]})]})]}),(0,Fe.jsxs)("div",{style:ne,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Monthly Overview"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.lg},children:[(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"32"}),(0,Fe.jsx)("div",{style:se,children:"Sessions Conducted"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"156"}),(0,Fe.jsx)("div",{style:se,children:"Student Hours"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"4.8"}),(0,Fe.jsx)("div",{style:se,children:"Average Rating"})]}),(0,Fe.jsxs)("div",{style:ie,children:[(0,Fe.jsx)("div",{style:oe,children:"$2,400"}),(0,Fe.jsx)("div",{style:se,children:"Revenue Generated"})]})]})]})]}),S&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:500,width:"90%"},children:[(0,Fe.jsx)("h3",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.lg},children:"Create New Session"}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Date"}),(0,Fe.jsx)("input",{type:"date",value:$.date,onChange:e=>W({...$,date:e.target.value}),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Time"}),(0,Fe.jsx)("input",{type:"time",value:$.time,onChange:e=>W({...$,time:e.target.value}),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Session Type"}),(0,Fe.jsxs)("select",{value:$.type,onChange:e=>W({...$,type:e.target.value}),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md},children:[(0,Fe.jsx)("option",{value:"group",children:"Group Training"}),(0,Fe.jsx)("option",{value:"individual",children:"Individual Session"})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Focus Area"}),(0,Fe.jsx)("input",{type:"text",placeholder:"e.g., Short game, Driving, Putting",value:$.focus,onChange:e=>W({...$,focus:e.target.value}),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:async()=>{if($.date&&$.time&&$.focus)try{await Qe.mB.createSession({date:$.date,time:$.time,type:$.type,students:$.students||[],status:"Scheduled",focus:$.focus,duration:"group"===$.type?"90 min":"60 min",location:"TBD"}),await V(),k(!1),W({date:"",time:"",type:"group",focus:"",students:[]}),alert(`Session created successfully! ${"group"===$.type?"Group Training":"Individual"} session scheduled for ${$.date} at ${$.time}.`)}catch(Nn){console.error("Error creating session:",Nn),alert("Failed to create session. Please try again.")}else alert("Please fill in all required fields: Date, Time, and Focus.")},disabled:!$.date||!$.time||!$.focus,style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.primary,color:"white",border:"none",borderRadius:Oe.borderRadius.md,cursor:$.date&&$.time&&$.focus?"pointer":"not-allowed",opacity:$.date&&$.time&&$.focus?1:.6},children:"Create Session"}),(0,Fe.jsx)("button",{onClick:()=>k(!1),style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer"},children:"Cancel"})]})]})}),C&&b&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:800,width:"90%",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsxs)("h3",{style:{color:Oe.colors.primary,fontSize:Oe.typography.fontSizes.xl},children:[b.name," - Student Profile"]}),(0,Fe.jsx)("button",{onClick:()=>j(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:Oe.colors.text.secondary},children:"\xd7"})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.lg,marginBottom:Oe.spacing.lg},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Personal Information"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Age:"})," ",b.age," years old"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Skill Level:"})," ",b.skillLevel]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Email:"})," ",b.email]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",b.phone]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Last Session:"})," ",b.lastSession]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Next Session:"})," ",b.nextSession]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Performance Metrics"}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Progress:"})," ",b.progress,"%"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Attendance:"})," ",b.attendance,"%"]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Improvement:"})," ",b.improvement]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Sessions This Month:"})," ",b.sessionsThisMonth]})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Goals"}),(0,Fe.jsx)("ul",{style:{paddingLeft:Oe.spacing.md},children:b.goals&&b.goals.map((e,t)=>(0,Fe.jsx)("li",{style:{marginBottom:Oe.spacing.xs},children:e},t))})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Coach Notes"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:b.notes})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{style:ae,children:"Update Progress"}),(0,Fe.jsx)("button",{onClick:()=>{j(!1),G(b)},style:le,children:"Contact Parent"}),(0,Fe.jsx)("button",{style:le,children:"Schedule Session"})]})]})}),E&&b&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:600,width:"90%",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsxs)("h3",{style:{color:Oe.colors.primary,fontSize:Oe.typography.fontSizes.xl},children:["Contact Parent - ",b.name]}),(0,Fe.jsx)("button",{onClick:()=>_(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:Oe.colors.text.secondary},children:"\xd7"})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Subject"}),(0,Fe.jsx)("input",{type:"text",placeholder:"Enter message subject",value:B.subject,onChange:e=>U({...B,subject:e.target.value}),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.xs,fontWeight:"bold"},children:"Message"}),(0,Fe.jsx)("textarea",{placeholder:"Enter your message to the parent...",value:B.message,onChange:e=>U({...B,message:e.target.value}),rows:6,style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,resize:"vertical"}})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>{if(!B.subject||!B.message)return void alert("Please fill in both subject and message before sending.");if(!b)return void alert("Please select a student first.");const e={id:`msg-${Date.now()}`,parentName:(null===b||void 0===b?void 0:b.parentName)||`${b.name}'s Parent`,studentName:null===b||void 0===b?void 0:b.name,subject:B.subject,message:B.message,date:(new Date).toISOString().split("T")[0],status:"sent"};N([e,...F]),U({parentId:"",subject:"",message:""}),_(!1),alert(`Message sent successfully to ${e.parentName} regarding ${e.studentName}!\n\nSubject: ${e.subject}`)},disabled:!B.subject||!B.message,style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.primary,color:"white",border:"none",borderRadius:Oe.borderRadius.md,cursor:B.subject&&B.message?"pointer":"not-allowed",opacity:B.subject&&B.message?1:.6},children:"Send Message"}),(0,Fe.jsx)("button",{onClick:()=>_(!1),style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer"},children:"Cancel"})]})]})}),T&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:800,width:"90%",maxHeight:"90vh",overflow:"auto"},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{color:Oe.colors.primary,fontSize:Oe.typography.fontSizes.xl},children:"Select Training Videos"}),(0,Fe.jsx)("button",{onClick:()=>I(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:Oe.colors.text.secondary},children:"\xd7"})]}),(0,Fe.jsx)("div",{style:{display:"grid",gap:Oe.spacing.md},children:z&&z.map(e=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,backgroundColor:Oe.colors.background.secondary},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.sm},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.title}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.category," \u2022 ",e.duration," \u2022 ",e.skillLevel]})]}),(0,Fe.jsx)("button",{onClick:()=>{return t=e.id,void L({...O,videos:[...O.videos,t]});var t},style:{padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,backgroundColor:Oe.colors.primary,color:"white",border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:"0.8rem"},children:"Add to Student"})]}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:e.description})]},e.id))})]})}),h&&g&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,width:"90%",maxWidth:560,border:`1px solid ${Oe.colors.border}`},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsxs)("h3",{style:{color:Oe.colors.primary,fontSize:Oe.typography.fontSizes.xl},children:["Roster \u2022 ",g.date," ",g.time]}),(0,Fe.jsx)("button",{onClick:()=>p(!1),style:{background:"none",border:"none",fontSize:"1.4rem",cursor:"pointer",color:Oe.colors.text.secondary},children:"\xd7"})]}),0===m.length?(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:"No attendees yet for this slot."}):(0,Fe.jsx)("ul",{style:{margin:0,paddingLeft:Oe.spacing.lg},children:m.map((e,t)=>(0,Fe.jsx)("li",{style:{marginBottom:Oe.spacing.xs},children:e},t))})]})})]})};const Xe=function(){const{user:e}=ze(),[n,r]=(0,t.useState)("overview"),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(""),[g,f]=(0,t.useState)(!1),[m,y]=(0,t.useState)(!1),[v,x]=(0,t.useState)(null),[b,w]=(0,t.useState)([]),[S,k]=(0,t.useState)(""),[C,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{E()},[]);const E=async()=>{u(!0);try{const e=[{id:"child-1",displayName:"Alex Johnson",email:"alex.johnson@email.com",age:15,skillLevel:"Intermediate",joinedDate:"2024-01-01",sessionsAttended:24,currentPackage:"Developer",progress:75,attendance:85,improvement:"+12%",nextSession:"2024-01-25",coach:"Coach Mike"},{id:"child-2",displayName:"Emma Johnson",email:"emma.johnson@email.com",age:12,skillLevel:"Beginner",joinedDate:"2024-01-15",sessionsAttended:16,currentPackage:"Starter",progress:45,attendance:92,improvement:"+18%",nextSession:"2024-01-26",coach:"Coach Sarah"}];o(e),e.length>0&&(a(e[0]),_(e[0].id))}catch(e){console.error("Error loading parent data:",e),o([])}u(!1)},_=async e=>{try{const t=i.find(t=>t.id===e);if(!t)return;const n={childProfile:t,tokenBalance:{groupSessions:8,tournaments:3,fitnessSessions:4,mentalSessions:2,history:[{type:"add",tokenType:"groupSessions",quantity:8,source:"package_purchase",timestamp:new Date},{type:"use",tokenType:"groupSessions",quantity:1,sessionId:"session-123",timestamp:new Date}]},recentActivity:[{type:"session_attended",description:"Group Training Session",date:"2024-01-20"},{type:"package_purchased",description:"Developer Package",date:"2024-01-15"},{type:"tournament_registered",description:"Spring Championship",date:"2024-01-10"}],upcomingSessions:[{date:"2024-01-25",time:"16:00",type:"Group Training",coach:"Coach Mike"},{date:"2024-01-28",time:"17:00",type:"Individual Session",coach:"Coach Sarah"}],spendingHistory:[{date:"2024-01-15",amount:380,description:"Developer Package"},{date:"2024-01-10",amount:120,description:"Fitness Add-on"},{date:"2024-01-05",amount:100,description:"Mental Performance"}]};c(n)}catch(t){console.error("Error loading child account summary:",t)}},T=e=>{alert(`View progress for ${e.displayName} - Feature coming soon!`)},I=()=>{let e=v?v.price:0;return b.forEach(t=>{e+=t.standalonePrice}),e},R={maxWidth:"1400px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},A={marginBottom:Oe.spacing.xl},P={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},D={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},F={display:"flex",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl,borderBottom:`1px solid ${Oe.colors.border}`,paddingBottom:Oe.spacing.md},N={padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease"},z={...N,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},M={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},O={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:Oe.spacing.lg},L={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,fontWeight:Oe.typography.fontWeights.medium,transition:"all 0.2s ease"},B={backgroundColor:"transparent",color:Oe.colors.primary,border:`1px solid ${Oe.colors.primary}`,padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,fontWeight:Oe.typography.fontWeights.medium,transition:"all 0.2s ease"},U={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,cursor:"pointer",transition:"all 0.2s ease"},$={...U,borderColor:Oe.colors.primary,backgroundColor:Oe.colors.background.secondary};return d?(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing["2xl"]},children:[(0,Fe.jsx)("div",{style:{width:"40px",height:"40px",border:`4px solid ${Oe.colors.border}`,borderTop:`4px solid ${Oe.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,Fe.jsx)("p",{children:"Loading parent dashboard..."})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h1",{style:P,children:"Parent Dashboard"}),(0,Fe.jsx)("p",{style:D,children:"Manage your children's golf training and progress"})]}),(0,Fe.jsxs)("div",{style:F,children:[(0,Fe.jsx)("button",{style:"overview"===n?z:N,onClick:()=>r("overview"),children:"Overview"}),(0,Fe.jsx)("button",{style:"children"===n?z:N,onClick:()=>r("children"),children:"Children"}),(0,Fe.jsx)("button",{style:"finances"===n?z:N,onClick:()=>r("finances"),children:"Finances"}),(0,Fe.jsx)("button",{style:"communication"===n?z:N,onClick:()=>r("communication"),children:"Communication"})]}),"overview"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:O,children:[(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Quick Stats"}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes["2xl"],fontWeight:"bold",color:Oe.colors.primary},children:i.length}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Children Enrolled"})]}),(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes["2xl"],fontWeight:"bold",color:Oe.colors.primary},children:i.length}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Active Children"})]}),(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes["2xl"],fontWeight:"bold",color:Oe.colors.primary},children:i.reduce((e,t)=>e+t.sessionsAttended,0)}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Sessions Attended"})]}),(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes["2xl"],fontWeight:"bold",color:Oe.colors.primary},children:[i.length>0?Math.round(i.reduce((e,t)=>e+t.attendance,0)/i.length):0,"%"]}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Avg Attendance"})]})]})]}),(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Quick Actions"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:()=>{alert("Add new child - Feature coming soon!")},style:L,children:"Add New Child"}),(0,Fe.jsx)("button",{onClick:()=>f(!0),style:B,children:"Fund Child Account"}),(0,Fe.jsx)("button",{onClick:()=>y(!0),style:B,children:"Purchase Package"}),(0,Fe.jsx)("button",{onClick:()=>alert("Contact Academy - Feature coming soon!"),style:B,children:"Contact Academy"})]})]})]}),(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Your Children"}),(0,Fe.jsx)("div",{style:O,children:i.map(e=>(0,Fe.jsxs)("div",{style:(null===s||void 0===s?void 0:s.id)===e.id?$:U,onClick:()=>{a(e),_(e.id)},children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.displayName}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.age," years old \u2022 ",e.skillLevel]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsxs)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Oe.colors.primary},children:[e.progress,"%"]}),(0,Fe.jsx)("div",{style:{fontSize:"0.8rem",color:Oe.colors.text.secondary},children:"Progress"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.sm,marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:"Attendance"}),(0,Fe.jsxs)("div",{style:{fontWeight:"bold"},children:[e.attendance,"%"]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:"Improvement"}),(0,Fe.jsx)("div",{style:{fontWeight:"bold",color:Oe.colors.primary},children:e.improvement})]})]}),(0,Fe.jsxs)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:["Next session: ",e.nextSession]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{alert(`Contact coach for ${e.displayName} - Feature coming soon!`)})(e)},style:L,children:"Contact Coach"}),(0,Fe.jsx)("button",{onClick:t=>{t.stopPropagation(),T(e)},style:B,children:"View Progress"})]})]},e.id))})]})]}),"children"===n&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,fontFamily:Oe.typography.fontFamily.headline},children:"Child Management"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm,alignItems:"center"},children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Enter Student ID",value:S,onChange:e=>k(e.target.value),style:{padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}}),(0,Fe.jsx)("button",{onClick:async()=>{if(S){j(!0);try{const t=await Qe.userService.getUserByStudentId(S);if(!t)return alert("No student found with that ID."),void j(!1);await Ve.linkParentToChild(e.uid,t.id,"parent"),alert(`Linked ${t.displayName||t.email} to your account.`),await E(),k("")}catch(Nn){console.error(Nn),alert("Failed to link child.")}finally{j(!1)}}else alert("Please enter a student ID.")},style:L,disabled:C,children:C?"Linking...":"Link Child"})]})]}),(0,Fe.jsx)("div",{style:O,children:i.map(e=>(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.displayName}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:[e.email," \u2022 ",e.age," years old"]}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem"},children:["Skill Level: ",e.skillLevel," \u2022 Coach: ",e.coach]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fe.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Oe.colors.primary},children:e.sessionsAttended}),(0,Fe.jsx)("div",{style:{fontSize:"0.8rem",color:Oe.colors.text.secondary},children:"Sessions"})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Current Package:"})," ",e.currentPackage]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Current Package:"})," ",e.currentPackage]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("strong",{children:"Joined:"})," ",e.joinedDate]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm,flexWrap:"wrap"},children:[(0,Fe.jsx)("button",{onClick:()=>(e=>{alert(`Edit profile for ${e.displayName} - Feature coming soon!`)})(e),style:L,children:"Edit Profile"}),(0,Fe.jsx)("button",{onClick:()=>T(e),style:B,children:"View Progress"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{const t=e||s;t?alert(`Schedule session for ${t.displayName} - Feature coming soon!`):alert("Please select a child first.")})(e),style:B,children:"Schedule Session"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{const t=e||s;t?alert(`View schedule for ${t.displayName} - Feature coming soon!`):alert("Please select a child first.")})(e),style:B,children:"View Schedule"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{alert(`View history for ${e.displayName} - Feature coming soon!`)})(e),style:B,children:"View History"})]})]},e.id))})]})}),"finances"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:O,children:[(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Account Funding"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:()=>f(!0),style:L,children:"Fund Child Account"}),(0,Fe.jsx)("button",{onClick:()=>y(!0),style:L,children:"Purchase Package"})]})]}),(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Spending Summary"}),(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes["3xl"],fontWeight:"bold",color:Oe.colors.primary,marginBottom:Oe.spacing.sm},children:i.reduce((e,t)=>e+t.sessionsAttended,0)}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary},children:"Total Sessions Attended"})]})]})]}),l&&(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsxs)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:["Spending History - ",null===s||void 0===s?void 0:s.displayName]}),(0,Fe.jsx)("div",{style:{display:"grid",gap:Oe.spacing.md},children:l.spendingHistory.map((e,t)=>(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold"},children:e.description}),(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.date})]}),(0,Fe.jsxs)("div",{style:{fontWeight:"bold",color:Oe.colors.primary},children:["$",e.amount]})]},t))})]})]}),"communication"===n&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Communication Center"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:()=>alert("Contact Academy - Feature coming soon!"),style:L,children:"Contact Academy"}),(0,Fe.jsx)("button",{onClick:()=>alert("Message Coaches - Feature coming soon!"),style:B,children:"Message Coaches"}),(0,Fe.jsx)("button",{onClick:()=>alert("View Messages - Feature coming soon!"),style:B,children:"View Messages"})]})]})}),g&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:"400px",width:"100%"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:Oe.spacing.lg},children:"Fund Child Account"}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.sm},children:"Amount ($):"}),(0,Fe.jsx)("input",{type:"number",value:h,onChange:e=>p(e.target.value),style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md}})]}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:async()=>{if(s)if(!h||parseFloat(h)<=0)alert("Please enter a valid funding amount greater than $0.");else{u(!0);try{await new Promise(e=>setTimeout(e,1e3));const e={id:`funding-${Date.now()}`,childId:s.id,childName:s.displayName,amount:parseFloat(h),date:(new Date).toISOString().split("T")[0],status:"completed"};if(l){const t=[e,...l.spendingHistory];c({...l,spendingHistory:t})}alert(`Successfully funded $${h} to ${s.displayName}'s account!\n\nTransaction ID: ${e.id}\nDate: ${e.date}`),f(!1),p("")}catch(e){alert("Error funding account: "+e.message)}finally{u(!1)}}else alert("Please select a child first.")},style:L,disabled:d,children:d?"Processing...":"Fund Account"}),(0,Fe.jsx)("button",{onClick:()=>f(!1),style:B,children:"Cancel"})]})]})}),m&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},children:[(0,Fe.jsx)("h3",{style:{marginBottom:Oe.spacing.lg},children:"Purchase Package"}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.sm},children:"Select Package:"}),(0,Fe.jsxs)("select",{value:(null===v||void 0===v?void 0:v.id)||"",onChange:e=>{x([{id:"starter",title:"Starter Package",price:200},{id:"developer",title:"Developer Package",price:380},{id:"premium",title:"Premium Package",price:600}].find(t=>t.id===e.target.value))},style:{width:"100%",padding:Oe.spacing.sm,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md},children:[(0,Fe.jsx)("option",{value:"",children:"Select a package..."}),(0,Fe.jsx)("option",{value:"starter",children:"Starter Package - $200"}),(0,Fe.jsx)("option",{value:"developer",children:"Developer Package - $380"}),(0,Fe.jsx)("option",{value:"premium",children:"Premium Package - $600"})]})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.sm},children:"Add-ons:"}),[{id:"fitness",title:"Fitness Training",standalonePrice:120},{id:"mental",title:"Mental Performance",standalonePrice:100},{id:"tournament",title:"Tournament Entry",standalonePrice:80}].map(e=>(0,Fe.jsxs)("label",{style:{display:"flex",alignItems:"center",marginBottom:Oe.spacing.sm},children:[(0,Fe.jsx)("input",{type:"checkbox",checked:!!b.find(t=>t.id===e.id),onChange:()=>(e=>{b.find(t=>t.id===e.id)?w(b.filter(t=>t.id!==e.id)):w([...b,e])})(e),style:{marginRight:Oe.spacing.sm}}),e.title," - $",e.standalonePrice]},e.id))]}),(0,Fe.jsx)("div",{style:{marginBottom:Oe.spacing.lg,padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.md},children:(0,Fe.jsxs)("strong",{children:["Total: $",I()]})}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:async()=>{if(!s)return void alert("Please select a child first.");if(!v)return void alert("Please select a package to purchase.");const e=I();if(e<=0)alert("Please select a valid package.");else{u(!0);try{await new Promise(e=>setTimeout(e,1e3));const t={id:`purchase-${Date.now()}`,childId:s.id,childName:s.displayName,package:v.title,addOns:b.map(e=>e.title),amount:e,date:(new Date).toISOString().split("T")[0],status:"completed"};if(l){const e=[t,...l.spendingHistory];c({...l,spendingHistory:e})}const n=i.map(e=>e.id===s.id?{...e,currentPackage:v.title}:e);o(n);const r=b.length>0?`\nAdd-ons: ${b.map(e=>e.title).join(", ")}`:"";alert(`Successfully purchased ${v.title} package for ${s.displayName}!${r}\n\nTotal: $${e}\nTransaction ID: ${t.id}`),y(!1),x(null),w([])}catch(t){alert("Error purchasing package: "+t.message)}finally{u(!1)}}},style:L,disabled:d,children:d?"Processing...":"Purchase"}),(0,Fe.jsx)("button",{onClick:()=>y(!1),style:B,children:"Cancel"})]})]})})]})};const Ze=function(){const{user:e}=ze(),[n,r]=(ee(),(0,t.useState)("overview")),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)({}),[l,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{d()},[]);const d=async()=>{c(!0);try{const e=await Qe.userService.getAllUsers();o(e.map(e=>{var t;return{id:e.id,name:e.displayName||e.name||e.email||"User",email:e.email||"",role:e.role||"student",status:e.status||"active",joinDate:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?e.createdAt.toDate().toISOString().split("T")[0]:e.createdAt||"",lastLogin:e.lastLogin||"",sessionsAttended:e.sessionsAttended||0,studentsAssigned:e.studentsAssigned||0}}));const t=await Qe.E6.getSystemAnalytics();a({totalUsers:t.totalUsers,activeUsers:t.activeUsers,newUsersThisMonth:t.totalUsers,totalRevenue:t.totalRevenue,revenueThisMonth:t.totalRevenue,sessionsThisMonth:t.totalSessions,averageSessionRating:0,userGrowth:t.userGrowth,revenueGrowth:t.revenueGrowth})}catch(e){console.error("Error loading admin data:",e)}finally{c(!1)}},u=e=>{alert(`Edit user: ${e.name} - Feature coming soon!`)},h=()=>{const e=prompt("Enter user name:");if(!e)return;const t=prompt("Enter user email:");if(!t)return;const n=prompt("Enter user role (student/coach/parent/admin):");if(!n||!["student","coach","parent","admin"].includes(n.toLowerCase()))return void alert("Invalid role. Please enter: student, coach, parent, or admin.");const r={id:`user-${Date.now()}`,name:e,email:t,role:n.toLowerCase(),status:"active",joinDate:(new Date).toISOString().split("T")[0],lastLogin:(new Date).toISOString().split("T")[0],sessionsAttended:"student"===n?0:void 0,studentsAssigned:"coach"===n?0:void 0};o([...i,r]),a(e=>({...e,totalUsers:e.totalUsers+1,activeUsers:e.activeUsers+1,newUsersThisMonth:e.newUsersThisMonth+1})),alert(`User added successfully!\n\nName: ${e}\nEmail: ${t}\nRole: ${n}\nStatus: Active`)},p=()=>{alert("Create new session - Feature coming soon!")},g=()=>{alert("Generate report - Feature coming soon!")},f=()=>{alert("System settings - Feature coming soon!")},m=()=>{alert("Add user - Feature coming soon!")},y={maxWidth:"1400px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},v={textAlign:"center",marginBottom:Oe.spacing["2xl"]},x={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},b={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},w={fontSize:Oe.typography.fontSizes.xl,color:Oe.colors.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},S={display:"flex",borderBottom:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl},k={padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.medium,color:Oe.colors.text.secondary,borderBottom:"3px solid transparent",transition:"all 0.2s ease",fontFamily:Oe.typography.fontFamily.body},C={...k,color:Oe.colors.primary,borderBottomColor:Oe.colors.primary},j={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing.xl},E={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center",transition:"all 0.3s ease",":hover":{transform:"translateY(-2px)",boxShadow:Oe.shadows.lg,borderColor:Oe.colors.primary}},_={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},T={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},I={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.success,fontFamily:Oe.typography.fontFamily.body},R={display:"grid",gridTemplateColumns:"2fr 1fr",gap:Oe.spacing.xl},A={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},P={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,height:"fit-content"},D={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},F={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.md,transition:"all 0.2s ease",cursor:"pointer",":hover":{borderColor:Oe.colors.primary,transform:"translateY(-1px)"}},N={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.headline},z={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.body},M={display:"inline-block",padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.xs,fontWeight:Oe.typography.fontWeights.semibold,textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:Oe.typography.fontFamily.body},O=e=>{switch(e){case"admin":return{...M,backgroundColor:Oe.colors.error,color:Oe.colors.text.primary};case"coach":return{...M,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark};case"student":return{...M,backgroundColor:Oe.colors.secondary,color:Oe.colors.text.dark};default:return{...M,backgroundColor:Oe.colors.border,color:Oe.colors.text.secondary}}},L={padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",marginRight:Oe.spacing.sm,":hover":{backgroundColor:"#009a47",transform:"translateY(-1px)"}};return l?(0,Fe.jsx)("div",{style:y,children:(0,Fe.jsx)("div",{style:{textAlign:"center",padding:Oe.spacing["2xl"]},children:(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary},children:"Loading admin dashboard..."})})}):(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsxs)("div",{style:v,children:[(0,Fe.jsx)("h1",{style:x,children:"Admin Dashboard"}),(0,Fe.jsx)("p",{style:b,children:"System administration, user management, and analytics"})]}),(0,Fe.jsx)("div",{style:{textAlign:"center",marginBottom:Oe.spacing.xl},children:(0,Fe.jsxs)("h2",{style:w,children:["Welcome back, Admin ",(null===e||void 0===e?void 0:e.displayName)||"Administrator","!"]})}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("button",{style:"overview"===n?C:k,onClick:()=>r("overview"),children:"Overview"}),(0,Fe.jsx)("button",{style:"users"===n?C:k,onClick:()=>r("users"),children:"Users"}),(0,Fe.jsx)("button",{style:"analytics"===n?C:k,onClick:()=>r("analytics"),children:"Analytics"}),(0,Fe.jsx)("button",{style:"settings"===n?C:k,onClick:()=>r("settings"),children:"Settings"})]}),"overview"===n&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("div",{style:_,children:s.totalUsers}),(0,Fe.jsx)("div",{style:T,children:"Total Users"}),(0,Fe.jsxs)("div",{style:I,children:["+",s.userGrowth,"% this month"]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsxs)("div",{style:_,children:["$",s.totalRevenue.toLocaleString()]}),(0,Fe.jsx)("div",{style:T,children:"Total Revenue"}),(0,Fe.jsxs)("div",{style:I,children:["+",s.revenueGrowth,"% this month"]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("div",{style:_,children:s.sessionsThisMonth}),(0,Fe.jsx)("div",{style:T,children:"Sessions This Month"}),(0,Fe.jsx)("div",{style:I,children:"+12% vs last month"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("div",{style:_,children:s.averageSessionRating}),(0,Fe.jsx)("div",{style:T,children:"Avg. Session Rating"}),(0,Fe.jsx)("div",{style:I,children:"+0.2 vs last month"})]})]}),(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:D,children:"Recent User Activity"}),i.slice(0,5).map(e=>(0,Fe.jsx)("div",{style:F,children:(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Fe.jsxs)("div",{style:{flex:1},children:[(0,Fe.jsx)("div",{style:N,children:e.name}),(0,Fe.jsx)("div",{style:z,children:e.email}),(0,Fe.jsxs)("div",{style:z,children:["Joined: ",e.joinDate," \u2022 Last login: ",e.lastLogin]}),"student"===e.role&&(0,Fe.jsxs)("div",{style:z,children:["Sessions attended: ",e.sessionsAttended]}),"coach"===e.role&&(0,Fe.jsxs)("div",{style:z,children:["Students assigned: ",e.studentsAssigned]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,Fe.jsx)("div",{style:O(e.role),children:e.role}),(0,Fe.jsxs)("div",{style:{marginTop:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>u(e),style:L,children:"Edit"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{alert(`View user details: ${e.name} - Feature coming soon!`)})(e),style:L,children:"View"})]})]})]})},e.id))]}),(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsx)("h3",{style:D,children:"Quick Actions"}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:h,style:L,children:"Add New User"}),(0,Fe.jsx)("button",{onClick:p,style:L,children:"Create Session"}),(0,Fe.jsx)("button",{onClick:g,style:L,children:"Generate Report"}),(0,Fe.jsx)("button",{onClick:f,style:L,children:"System Settings"})]}),(0,Fe.jsx)("h3",{style:{...D,marginTop:Oe.spacing.xl},children:"System Status"}),(0,Fe.jsx)("div",{style:{color:Oe.colors.success,fontSize:Oe.typography.fontSizes.sm},children:"\u2705 All systems operational"}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary,fontSize:Oe.typography.fontSizes.sm,marginTop:Oe.spacing.sm},children:"Last backup: 2 hours ago"})]})]})]}),"users"===n&&(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:D,children:"User Management"}),(0,Fe.jsx)("button",{onClick:m,style:L,children:"Add User"})]}),i.map(e=>(0,Fe.jsx)("div",{style:F,children:(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Fe.jsxs)("div",{style:{flex:1},children:[(0,Fe.jsx)("div",{style:N,children:e.name}),(0,Fe.jsx)("div",{style:z,children:e.email}),(0,Fe.jsxs)("div",{style:z,children:["Status: ",e.status," \u2022 Joined: ",e.joinDate]}),(0,Fe.jsxs)("div",{style:z,children:["Last login: ",e.lastLogin]}),"student"===e.role&&(0,Fe.jsxs)("div",{style:z,children:["Sessions attended: ",e.sessionsAttended]}),"coach"===e.role&&(0,Fe.jsxs)("div",{style:z,children:["Students assigned: ",e.studentsAssigned]})]}),(0,Fe.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,Fe.jsx)("div",{style:O(e.role),children:e.role}),(0,Fe.jsxs)("div",{style:{marginTop:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:()=>u(e),style:L,children:"Edit"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{const t=prompt(`Change role for ${e.name}\n\nCurrent role: ${e.role}\n\nEnter new role (student/coach/parent/admin):`);if(!t)return;if(!["student","coach","parent","admin"].includes(t.toLowerCase()))return void alert("Invalid role. Please enter: student, coach, parent, or admin.");const n=i.map(n=>n.id===e.id?{...n,role:t.toLowerCase(),sessionsAttended:"student"===t?n.sessionsAttended||0:void 0,studentsAssigned:"coach"===t?n.studentsAssigned||0:void 0}:n);o(n),alert(`Role changed successfully!\n\nUser: ${e.name}\nPrevious Role: ${e.role}\nNew Role: ${t}`)})(e),style:L,children:"Change Role"}),(0,Fe.jsx)("button",{onClick:()=>(e=>{if(window.confirm(`Are you sure you want to deactivate ${e.name}?\n\nThis will:\n- Remove their access to the system\n- Keep their data for records\n- They can be reactivated later`)){const t=i.map(t=>t.id===e.id?{...t,status:"inactive"}:t);o(t),a(e=>({...e,activeUsers:e.activeUsers-1})),alert(`User deactivated successfully!\n\nUser: ${e.name}\nEmail: ${e.email}\nRole: ${e.role}\nStatus: Inactive\n\nThey can be reactivated later if needed.`)}})(e),style:L,children:"Deactivate"})]})]})]})},e.id))]}),"analytics"===n&&(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:D,children:"System Analytics"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:"Detailed analytics and reporting features coming soon..."})]}),"settings"===n&&(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:D,children:"System Settings"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:"System configuration and settings coming soon..."})]})]})};const et=function(){const{user:e,loading:n}=ze();(0,t.useEffect)(()=>{},[e,n]);const r={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},i={textAlign:"center",marginBottom:Oe.spacing["2xl"]},o={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},s={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},a={fontSize:Oe.typography.fontSizes.xl,color:Oe.colors.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},l={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing["2xl"]},c={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",textDecoration:"none",color:"inherit"},d={transform:"translateY(-2px)",boxShadow:Oe.shadows.lg,borderColor:Oe.colors.primary},u={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,marginBottom:Oe.spacing.sm,color:Oe.colors.text.primary},h={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal},p={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing["2xl"]},g={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center"},f={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm},m={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary};return n?(0,Fe.jsxs)("div",{style:r,children:[(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing["2xl"]},children:[(0,Fe.jsx)("div",{style:{width:"40px",height:"40px",border:`4px solid ${Oe.colors.border}`,borderTop:`4px solid ${Oe.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,Fe.jsx)("p",{children:"Loading dashboard..."})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):"coach"===e.role?(0,Fe.jsx)(Je,{}):"parent"===e.role?(0,Fe.jsx)(Xe,{}):"admin"===e.role?(0,Fe.jsx)(Ze,{}):(0,Fe.jsxs)("div",{style:r,children:[(0,Fe.jsxs)("div",{style:i,children:[(0,Fe.jsx)("h1",{style:o,children:"RYP Golf Academy"}),(0,Fe.jsxs)("p",{style:a,children:["Welcome back, ",e.displayName||e.email,"!"]}),(0,Fe.jsx)("p",{style:s,children:"Your personalized golf training journey starts here"})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"12"}),(0,Fe.jsx)("div",{style:m,children:"Lessons"})]}),(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"+15"}),(0,Fe.jsx)("div",{style:m,children:"Handicap Improvement"})]}),(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f,children:"8"}),(0,Fe.jsx)("div",{style:m,children:"# of Lessons"})]})]}),(0,Fe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.lg,marginBottom:Oe.spacing["2xl"]},children:[(0,Fe.jsx)(Ye,{user:e}),(0,Fe.jsx)(Ke,{})]}),(0,Fe.jsxs)("div",{style:l,children:[(0,Fe.jsxs)("a",{href:"/booking",style:c,onMouseEnter:e=>{e.target.style.transform=d.transform,e.target.style.boxShadow=d.boxShadow,e.target.style.borderColor=d.borderColor},onMouseLeave:e=>{e.target.style.transform="none",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:u,children:"Book a Session"}),(0,Fe.jsx)("div",{style:h,children:"Schedule your next training session with our expert coaches"})]}),(0,Fe.jsxs)("a",{href:"/my-bookings",style:c,onMouseEnter:e=>{e.target.style.transform=d.transform,e.target.style.boxShadow=d.boxShadow,e.target.style.borderColor=d.borderColor},onMouseLeave:e=>{e.target.style.transform="none",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:u,children:"My Bookings"}),(0,Fe.jsx)("div",{style:h,children:"View and manage your upcoming and past sessions"})]}),(0,Fe.jsxs)("a",{href:"/videos",style:c,onMouseEnter:e=>{e.target.style.transform=d.transform,e.target.style.boxShadow=d.boxShadow,e.target.style.borderColor=d.borderColor},onMouseLeave:e=>{e.target.style.transform="none",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:u,children:"Training Videos"}),(0,Fe.jsx)("div",{style:h,children:"Access your personalized training video library"})]}),(0,Fe.jsxs)("a",{href:"/sessions",style:c,onMouseEnter:e=>{e.target.style.transform=d.transform,e.target.style.boxShadow=d.boxShadow,e.target.style.borderColor=d.borderColor},onMouseLeave:e=>{e.target.style.transform="none",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:u,children:"Session History"}),(0,Fe.jsx)("div",{style:h,children:"Review your past sessions and track your progress"})]}),(0,Fe.jsxs)("a",{href:"/profile",style:c,onMouseEnter:e=>{e.target.style.transform=d.transform,e.target.style.boxShadow=d.boxShadow,e.target.style.borderColor=d.borderColor},onMouseLeave:e=>{e.target.style.transform="none",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:u,children:"Profile & Settings"}),(0,Fe.jsx)("div",{style:h,children:"Update your profile and manage your account settings"})]})]})]})};const tt=[{id:"youth-starter",title:"Starter",price:200,description:"4 group sessions + 2 tournaments per month"},{id:"youth-developer",title:"Developer",price:380,description:"8 group sessions + 3 tournaments per month"},{id:"youth-elite",title:"Elite",price:540,description:"12 group sessions + 4 tournaments per month"},{id:"youth-champion",title:"Champion",price:680,description:"16 group sessions + 4 tournaments per month"}],nt=[{id:"ryp-academy-starter",title:"RYP Academy Starter",description:"4 fitness sessions per month with Coach Phil",standalonePrice:120},{id:"mental-starter",title:"Mental Performance Starter",description:"2 mental sessions per month with Coach Yannick",standalonePrice:100},{id:"tournament-prep",title:"Tournament Prep",description:"Personalized tournament strategy with Coach Yannick",standalonePrice:400}],rt=function(){const{user:e}=ze(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(null),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[m,y]=(0,t.useState)(null),[v,x]=(0,t.useState)([]),[b,w]=(0,t.useState)("overview");(0,t.useEffect)(()=>{e&&S()},[e]),(0,t.useEffect)(()=>{i&&k(i.id)},[i]);const S=async()=>{c(!0);try{const e=[{id:"child-1",displayName:"Alex Johnson",email:"alex.johnson@email.com",age:15,skillLevel:"Intermediate",joinedDate:"2024-01-01",totalSpent:1200,sessionsAttended:24,currentPackage:"Developer"},{id:"child-2",displayName:"Emma Johnson",email:"emma.johnson@email.com",age:12,skillLevel:"Beginner",joinedDate:"2024-01-15",totalSpent:800,sessionsAttended:16,currentPackage:"Starter"}];r(e),e.length>0&&o(e[0])}catch(e){console.error("Error loading children:",e)}c(!1)},k=async e=>{c(!0);try{const t={childProfile:n.find(t=>t.id===e),tokenBalance:{groupSessions:8,tournaments:3,fitnessSessions:4,mentalSessions:2,history:[{type:"add",tokenType:"groupSessions",quantity:8,source:"package_purchase",timestamp:new Date},{type:"use",tokenType:"groupSessions",quantity:1,sessionId:"session-123",timestamp:new Date}]},recentActivity:[{type:"session_attended",description:"Group Training Session",date:"2024-01-20"},{type:"package_purchased",description:"Developer Package",date:"2024-01-15"},{type:"tournament_registered",description:"Spring Championship",date:"2024-01-10"}],upcomingSessions:[{date:"2024-01-25",time:"16:00",type:"Group Training",coach:"Coach Mike"},{date:"2024-01-28",time:"17:00",type:"Individual Session",coach:"Coach Sarah"}],spendingHistory:[{date:"2024-01-15",amount:380,description:"Developer Package"},{date:"2024-01-10",amount:120,description:"Fitness Add-on"},{date:"2024-01-05",amount:100,description:"Mental Performance"}]};a(t)}catch(t){console.error("Error loading child account summary:",t)}c(!1)},C={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},j={marginBottom:Oe.spacing.xl},E={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},_={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},T={display:"flex",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl,borderBottom:`1px solid ${Oe.colors.border}`,paddingBottom:Oe.spacing.md},I={padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease"},R={...I,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},A={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},P={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:Oe.spacing.lg},D={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center"},F={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},N={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},z={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,border:"none",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},M={backgroundColor:"transparent",color:Oe.colors.text.primary,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"};return l&&0===n.length?(0,Fe.jsx)("div",{style:C,children:(0,Fe.jsx)("div",{style:{textAlign:"center",padding:Oe.spacing.xl},children:"Loading your family dashboard..."})}):0===n.length?(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h1",{style:E,children:"Parent Dashboard"}),(0,Fe.jsx)("p",{style:_,children:"Manage your children's golf training"})]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"No Children Linked"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},children:"You haven't linked any children to your account yet. Contact support to link your child's account."}),(0,Fe.jsx)("button",{style:z,children:"Contact Support"})]})]}):(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h1",{style:E,children:"Parent Dashboard"}),(0,Fe.jsx)("p",{style:_,children:"Manage your children's golf training and progress"})]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Select Child"}),(0,Fe.jsx)("div",{style:{display:"flex",gap:Oe.spacing.md,flexWrap:"wrap"},children:n.map(e=>(0,Fe.jsxs)("button",{onClick:()=>o(e),style:{padding:Oe.spacing.md,backgroundColor:(null===i||void 0===i?void 0:i.id)===e.id?Oe.colors.primary:Oe.colors.background.primary,color:(null===i||void 0===i?void 0:i.id)===e.id?"white":Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:"1rem",minWidth:"200px"},children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.xs},children:e.displayName}),(0,Fe.jsxs)("div",{style:{fontSize:"0.9rem",opacity:.8},children:[e.age," years old \u2022 ",e.skillLevel]})]},e.id))})]}),i&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("button",{style:"overview"===b?R:I,onClick:()=>w("overview"),children:"Overview"}),(0,Fe.jsx)("button",{style:"sessions"===b?R:I,onClick:()=>w("sessions"),children:"Sessions"}),(0,Fe.jsx)("button",{style:"spending"===b?R:I,onClick:()=>w("spending"),children:"Spending"}),(0,Fe.jsx)("button",{style:"actions"===b?R:I,onClick:()=>w("actions"),children:"Actions"})]}),"overview"===b&&s&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:s.tokenBalance.groupSessions}),(0,Fe.jsx)("div",{style:N,children:"Group Sessions Remaining"})]}),(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:s.tokenBalance.tournaments}),(0,Fe.jsx)("div",{style:N,children:"Tournaments Remaining"})]}),(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:s.tokenBalance.fitnessSessions}),(0,Fe.jsx)("div",{style:N,children:"Fitness Sessions"})]}),(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:s.tokenBalance.mentalSessions}),(0,Fe.jsx)("div",{style:N,children:"Mental Sessions"})]})]}),(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Recent Activity"}),s.recentActivity.map((e,t)=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.sm,borderBottom:t<s.recentActivity.length-1?`1px solid ${Oe.colors.border}`:"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("span",{children:e.description}),(0,Fe.jsx)("span",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.date})]},t))]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Upcoming Sessions"}),s.upcomingSessions.map((e,t)=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.sm,borderBottom:t<s.upcomingSessions.length-1?`1px solid ${Oe.colors.border}`:"none"},children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold"},children:e.type}),(0,Fe.jsxs)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:[e.date," at ",e.time," with ",e.coach]})]},t))]})]})]}),"sessions"===b&&(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Session Management"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},children:"View and manage your child's training sessions"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{style:z,children:"View All Sessions"}),(0,Fe.jsx)("button",{style:M,children:"Schedule New Session"})]})]}),"spending"===b&&s&&(0,Fe.jsx)("div",{children:(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Spending History"}),(0,Fe.jsx)("div",{style:{marginBottom:Oe.spacing.lg},children:(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold",color:Oe.colors.primary},children:["Total Spent: $",s.spendingHistory.reduce((e,t)=>e+t.amount,0)]})}),s.spendingHistory.map((e,t)=>(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.md,borderBottom:t<s.spendingHistory.length-1?`1px solid ${Oe.colors.border}`:"none",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold"},children:e.description}),(0,Fe.jsx)("div",{style:{fontSize:"0.9rem",color:Oe.colors.text.secondary},children:e.date})]}),(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold"},children:["$",e.amount]})]},t))]})}),"actions"===b&&(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Fund Account"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:"Add funds to your child's account for future purchases"}),(0,Fe.jsx)("button",{onClick:()=>p(!0),style:z,children:"Fund Account"})]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Purchase Package"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:"Buy training packages and add-ons for your child"}),(0,Fe.jsx)("button",{onClick:()=>f(!0),style:z,children:"Purchase Package"})]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"View Progress"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:"Track your child's training progress and achievements"}),(0,Fe.jsx)("button",{style:z,children:"View Progress"})]}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsx)("h4",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},children:"Contact Coach"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md},children:"Get in touch with your child's coach for questions or concerns"}),(0,Fe.jsx)("button",{style:z,children:"Contact Coach"})]})]})]}),h&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.md,maxWidth:400,width:"90%"},children:[(0,Fe.jsxs)("h3",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.md},children:["Fund ",null===i||void 0===i?void 0:i.displayName,"'s Account"]}),(0,Fe.jsx)("input",{type:"number",placeholder:"Amount ($)",value:d,onChange:e=>u(e.target.value),style:{width:"100%",padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md}}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:async()=>{if(i&&d){c(!0);try{setTimeout(()=>{alert(`Successfully funded $${d} to ${i.displayName}'s account`),p(!1),u(""),k(i.id),c(!1)},1e3)}catch(e){alert("Error funding account: "+e.message),c(!1)}}},disabled:l||!d,style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.primary,color:"white",border:"none",borderRadius:Oe.borderRadius.md,cursor:l?"not-allowed":"pointer",opacity:l?.6:1},children:l?"Processing...":"Fund Account"}),(0,Fe.jsx)("button",{onClick:()=>p(!1),style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer"},children:"Cancel"})]})]})}),g&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.md,maxWidth:600,width:"90%",maxHeight:"80vh",overflow:"auto"},children:[(0,Fe.jsxs)("h3",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.md},children:["Purchase Package for ",null===i||void 0===i?void 0:i.displayName]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h4",{style:{color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},children:"Select Package"}),(0,Fe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.md},children:tt.map(e=>(0,Fe.jsxs)("div",{onClick:()=>y(e),style:{padding:Oe.spacing.md,border:(null===m||void 0===m?void 0:m.id)===e.id?`2px solid ${Oe.colors.primary}`:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",backgroundColor:(null===m||void 0===m?void 0:m.id)===e.id?Oe.colors.background.secondary:Oe.colors.background.primary},children:[(0,Fe.jsx)("h5",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.sm},children:e.title}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem",marginBottom:Oe.spacing.sm},children:e.description}),(0,Fe.jsxs)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Oe.colors.primary},children:["$",e.price,"/month"]})]},e.id))})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h4",{style:{color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},children:"Add-ons (Optional)"}),(0,Fe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.md},children:nt.map(e=>(0,Fe.jsxs)("div",{onClick:()=>(e=>{v.find(t=>t.id===e.id)?x(v.filter(t=>t.id!==e.id)):x([...v,e])})(e),style:{padding:Oe.spacing.md,border:v.find(t=>t.id===e.id)?`2px solid ${Oe.colors.primary}`:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",backgroundColor:v.find(t=>t.id===e.id)?Oe.colors.background.secondary:Oe.colors.background.primary},children:[(0,Fe.jsx)("h5",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.sm},children:e.title}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,fontSize:"0.9rem",marginBottom:Oe.spacing.sm},children:e.description}),(0,Fe.jsxs)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Oe.colors.primary},children:["$",e.standalonePrice,"/month"]})]},e.id))})]}),m&&(0,Fe.jsx)("div",{style:{padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md},children:(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2rem",fontWeight:"bold"},children:[(0,Fe.jsx)("span",{children:"Total:"}),(0,Fe.jsxs)("span",{children:["$",(()=>{let e=m?m.price:0;return v.forEach(t=>{e+=t.standalonePrice}),e})()]})]})}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm},children:[(0,Fe.jsx)("button",{onClick:async()=>{if(i&&m){c(!0);try{setTimeout(()=>{alert(`Successfully purchased ${m.title} package for ${i.displayName}`),f(!1),y(null),x([]),k(i.id),c(!1)},1e3)}catch(e){alert("Error purchasing package: "+e.message),c(!1)}}},disabled:l||!m,style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.primary,color:"white",border:"none",borderRadius:Oe.borderRadius.md,cursor:l?"not-allowed":"pointer",opacity:l?.6:1},children:l?"Processing...":"Purchase Package"}),(0,Fe.jsx)("button",{onClick:()=>f(!1),style:{flex:1,padding:Oe.spacing.md,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer"},children:"Cancel"})]})]})})]})};const it=function(){const[e,n]=(0,t.useState)("youth"),r={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},i={textAlign:"center",marginBottom:Oe.spacing["2xl"]},o={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},s={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.xl},a={display:"flex",justifyContent:"center",marginBottom:Oe.spacing.xl,gap:Oe.spacing.md},l={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:`2px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,fontWeight:Oe.typography.fontWeights.medium,transition:"all 0.2s ease"},c={...l,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},d={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:Oe.spacing.xl},u={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,boxShadow:Oe.shadows.md,border:`1px solid ${Oe.colors.border}`,transition:"all 0.3s ease",cursor:"pointer",textDecoration:"none",color:"inherit",display:"block",position:"relative",overflow:"hidden"},h={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},p={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body,fontStyle:"italic"},g={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body},f={listStyle:"none",padding:0,margin:"0 0 20px 0"},m={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xs,paddingLeft:Oe.spacing.sm,position:"relative",fontFamily:Oe.typography.fontFamily.body},y={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginTop:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},v={fontSize:Oe.typography.fontSizes.xs,color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.body},x="youth"===e?[{id:"youth-starter",title:"Starter",subtitle:"Perfect for beginners",description:"Ideal for young golfers starting their journey. Build fundamental skills and develop a love for the game.",features:["4 Sessions per Month","2 Tournaments per Month","Professional coaching","Equipment provided","Progress tracking"],price:"$200",period:"per month"},{id:"youth-developer",title:"Developer",subtitle:"For improving players",description:"Take your game to the next level with more intensive training and competitive opportunities.",features:["8 Sessions per Month","3 Tournaments per Month","Advanced skill development","Video analysis","Mental game training"],price:"$380",period:"per month"},{id:"youth-elite",title:"Elite",subtitle:"For serious competitors",description:"Maximum training and tournament exposure for players committed to competitive golf.",features:["12 Sessions per Month","4 Tournaments per Month","Elite coaching","Performance analytics","Tournament preparation"],price:"$540",period:"per month"},{id:"youth-champion",title:"Champion",subtitle:"For tournament champions",description:"The ultimate option for players aiming for championship success and college golf opportunities.",features:["16 Sessions per Month","4 Tournaments per Month","Championship coaching","Advanced analytics","College prep guidance"],price:"$680",period:"per month"},{id:"youth-casual",title:"Casual Session",subtitle:"One-off training",description:"Perfect for trying out our coaching or for occasional training sessions.",features:["Single session","Professional coaching","Equipment provided","Skill assessment","Flexible scheduling"],price:"$50",period:"one-off"}]:[{id:"adult-starter",title:"Starter",subtitle:"Perfect for beginners",description:"Ideal for adult golfers starting their journey. Build fundamental skills and develop a love for the game.",features:["4 Sessions per Month","2 Tournaments per Month","Professional coaching","Equipment provided","Progress tracking"],price:"$240",period:"per month"},{id:"adult-developer",title:"Developer",subtitle:"For improving players",description:"Take your game to the next level with more intensive training and competitive opportunities.",features:["8 Sessions per Month","3 Tournaments per Month","Advanced skill development","Video analysis","Mental game training"],price:"$456",period:"per month"},{id:"adult-elite",title:"Elite",subtitle:"For serious competitors",description:"Maximum training and tournament exposure for adult players committed to competitive golf.",features:["12 Sessions per Month","4 Tournaments per Month","Elite coaching","Performance analytics","Tournament preparation"],price:"$648",period:"per month"},{id:"adult-champion",title:"Champion",subtitle:"For tournament champions",description:"The ultimate option for adult players aiming for championship success and competitive golf opportunities.",features:["16 Sessions per Month","4 Tournaments per Month","Championship coaching","Advanced analytics","Tournament prep guidance"],price:"$816",period:"per month"},{id:"adult-casual",title:"Casual Session",subtitle:"One-off training",description:"Perfect for trying out our coaching or for occasional training sessions.",features:["Single session","Professional coaching","Equipment provided","Skill assessment","Flexible scheduling"],price:"$60",period:"one-off"}];return(0,Fe.jsxs)("div",{style:r,children:[(0,Fe.jsxs)("div",{style:i,children:[(0,Fe.jsx)("h1",{style:o,children:"Coaching Packages"}),(0,Fe.jsx)("p",{style:s,children:"Choose the perfect coaching package for your golf journey. All packages include professional instruction, tournament opportunities, and progress tracking."}),(0,Fe.jsx)("div",{style:{marginTop:Oe.spacing.lg},children:(0,Fe.jsx)(_e,{to:"/package-builder",style:{display:"inline-block",padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.secondary,color:Oe.colors.text.dark,textDecoration:"none",borderRadius:Oe.borderRadius.md,fontWeight:Oe.typography.fontWeights.semibold,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",boxShadow:Oe.shadows.md},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.lg},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow=Oe.shadows.md},children:"\ud83c\udfaf Build Custom Package with Add-ons"})})]}),(0,Fe.jsxs)("div",{style:a,children:[(0,Fe.jsx)("button",{style:"youth"===e?c:l,onClick:()=>n("youth"),children:"Youth Programs (Ages 6-17)"}),(0,Fe.jsx)("button",{style:"adult"===e?c:l,onClick:()=>n("adult"),children:"Adult Programs (18+)"}),(0,Fe.jsx)("button",{style:"addons"===e?c:l,onClick:()=>n("addons"),children:"Add-On Programs"})]}),"addons"===e?(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,textAlign:"center",marginBottom:Oe.spacing.lg,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.headline},children:"Performance Enhancement Programs"}),(0,Fe.jsx)("p",{style:{textAlign:"center",marginBottom:Oe.spacing.xl,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},children:"Enhance your golf coaching with specialized fitness training, mental performance coaching, and indoor walkthroughs."}),(0,Fe.jsx)("div",{style:d,children:[{id:"ryp-academy-starter",title:"RYP Academy Starter",subtitle:"Basic fitness training",description:"4 sessions per month of golf-specific strength training",features:["4 Sessions per Month","Golf-specific strength training","Core and stability work","Flexibility and mobility","Progress tracking"],price:"$120",period:"per month"},{id:"ryp-academy-developer",title:"RYP Academy Developer",subtitle:"Intermediate fitness program",description:"8 sessions per month of advanced strength training",features:["8 Sessions per Month","Advanced strength training","Power development","Recovery protocols","Performance analytics"],price:"$200",period:"per month"},{id:"mental-starter",title:"Mental Performance Starter",subtitle:"Foundation mental skills",description:"2 sessions per month of mental game training",features:["2 Mental performance sessions","Focus training","Stress management","Goal setting","Mindfulness techniques"],price:"$100",period:"per month"},{id:"mental-developer",title:"Mental Performance Developer",subtitle:"Advanced mental training",description:"4 sessions per month of elite mental training",features:["4 Mental performance sessions","Pressure simulation","Competition psychology","Visualization training","Performance routines"],price:"$150",period:"per month"},{id:"tournament-prep",title:"Tournament Prep",subtitle:"Custom mental game planning",description:"Personalized mental game strategy for specific tournaments",features:["Pre-tournament consultation","Custom mental game plan","Course-specific strategy","Pressure management techniques","Post-tournament review"],price:"$400",period:"per tournament"}].map(e=>(0,Fe.jsxs)("div",{style:u,onMouseEnter:e=>{e.target.style.transform="translateY(-4px)",e.target.style.boxShadow=Oe.shadows.lg,e.target.style.borderColor=Oe.colors.secondary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow=Oe.shadows.md,e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("h3",{style:h,children:e.title}),(0,Fe.jsx)("p",{style:p,children:e.subtitle}),(0,Fe.jsx)("p",{style:g,children:e.description}),(0,Fe.jsx)("ul",{style:f,children:e.features.map((e,t)=>(0,Fe.jsxs)("li",{style:m,children:["\u2022 ",e]},t))}),(0,Fe.jsxs)("div",{style:y,children:[e.price," ",e.period]}),(0,Fe.jsx)("div",{style:v,children:"* Available as add-on to coaching packages"})]},e.id))})]}):(0,Fe.jsx)("div",{style:d,children:x.map(t=>(0,Fe.jsxs)(_e,{to:`/programs/${t.id}`,style:u,onMouseEnter:e=>{e.target.style.transform="translateY(-4px)",e.target.style.boxShadow=Oe.shadows.lg,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow=Oe.shadows.md,e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("h3",{style:h,children:t.title}),(0,Fe.jsx)("p",{style:p,children:t.subtitle}),(0,Fe.jsx)("p",{style:g,children:t.description}),(0,Fe.jsx)("ul",{style:f,children:t.features.map((e,t)=>(0,Fe.jsxs)("li",{style:m,children:["\u2022 ",e]},t))}),(0,Fe.jsxs)("div",{style:y,children:[t.price," ",t.period]}),"adult"===e&&(0,Fe.jsx)("div",{style:v,children:"* 20% premium for adult programs"})]},t.id))})]})};const ot=function(){const{programId:e}=function(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}(),n=ee(),[r,i]=(0,t.useState)("overview"),o={"youth-starter":{id:"youth-starter",title:"Starter",subtitle:"Perfect for beginners",category:"Youth (Ages 6-17)",description:"Ideal for young golfers starting their journey. Build fundamental skills and develop a love for the game through structured coaching and fun tournament experiences.",duration:"Monthly",difficulty:"Beginner",price:"$200",period:"per month",features:["4 Sessions per Month","2 Tournaments per Month","Professional coaching","Equipment provided","Progress tracking","Age-appropriate instruction","Fun, engaging environment"],curriculum:[{week:1,title:"Foundation Skills",description:"Learn basic grip, stance, and swing fundamentals"},{week:2,title:"Short Game Basics",description:"Master putting and chipping techniques"},{week:3,title:"Full Swing Development",description:"Build consistent swing mechanics"},{week:4,title:"Course Introduction",description:"Learn course etiquette and basic strategy"}],testimonials:[{name:"Emma Johnson",age:"12",text:"I love coming to practice! The coaches make it so fun and I'm getting so much better."},{name:"Michael Chen",age:"10",text:"My first tournament was amazing! I made new friends and learned so much."}]},"youth-developer":{id:"youth-developer",title:"Developer",subtitle:"For improving players",category:"Youth (Ages 6-17)",description:"Take your game to the next level with more intensive training and competitive opportunities. Perfect for players ready to advance their skills.",duration:"Monthly",difficulty:"Intermediate",price:"$380",period:"per month",features:["8 Sessions per Month","3 Tournaments per Month","Advanced skill development","Video analysis","Mental game training","Performance tracking","Competitive preparation"],curriculum:[{week:1,title:"Advanced Mechanics",description:"Refine swing technique and ball striking"},{week:2,title:"Course Management",description:"Learn strategic thinking and shot selection"},{week:3,title:"Mental Toughness",description:"Develop focus and competitive mindset"},{week:4,title:"Tournament Skills",description:"Practice under competitive conditions"}],testimonials:[{name:"Alex Rodriguez",age:"15",text:"The video analysis helped me see exactly what I needed to fix. My scores improved dramatically."},{name:"Sophie Williams",age:"14",text:"I love the extra practice time and tournament experience. It's really helping my game."}]},"youth-elite":{id:"youth-elite",title:"Elite",subtitle:"For serious competitors",category:"Youth (Ages 6-17)",description:"Maximum training and tournament exposure for players committed to competitive golf. Designed for serious young athletes.",duration:"Monthly",difficulty:"Advanced",price:"$540",period:"per month",features:["12 Sessions per Month","4 Tournaments per Month","Elite coaching","Performance analytics","Tournament preparation","Advanced equipment access","College prep guidance"],curriculum:[{week:1,title:"Elite Training",description:"High-intensity practice and skill refinement"},{week:2,title:"Performance Analysis",description:"Advanced data tracking and improvement strategies"},{week:3,title:"Competition Prep",description:"Tournament-specific training and mental preparation"},{week:4,title:"Advanced Strategy",description:"Course management and competitive tactics"}],testimonials:[{name:"Jordan Smith",age:"16",text:"The elite option is perfect for serious players. I've seen huge improvements in my tournament results."},{name:"Taylor Davis",age:"17",text:"The college prep guidance is invaluable. I feel ready for the next level."}]},"youth-champion":{id:"youth-champion",title:"Champion",subtitle:"For tournament champions",category:"Youth (Ages 6-17)",description:"The ultimate option for players aiming for championship success and college golf opportunities. Maximum training and support.",duration:"Monthly",difficulty:"Elite",price:"$680",period:"per month",features:["16 Sessions per Month","4 Tournaments per Month","Championship coaching","Advanced analytics","College prep guidance","Personalized training plans","Tournament travel support"],curriculum:[{week:1,title:"Championship Training",description:"Elite-level practice and skill mastery"},{week:2,title:"Advanced Analytics",description:"Comprehensive performance tracking and analysis"},{week:3,title:"Tournament Excellence",description:"Championship-level preparation and execution"},{week:4,title:"Future Planning",description:"College recruitment and career development"}],testimonials:[{name:"Cameron Wilson",age:"17",text:"This option helped me win the state championship and get recruited by a top college program."},{name:"Riley Johnson",age:"16",text:"The personalized attention and tournament support is incredible. I'm achieving my goals faster than ever."}]},"youth-casual":{id:"youth-casual",title:"Casual Session",subtitle:"One-off training",category:"Youth (Ages 6-17)",description:"Perfect for trying out our coaching or for occasional training sessions. Flexible scheduling to fit your needs.",duration:"Single Session",difficulty:"All Levels",price:"$50",period:"one-off",features:["Single session","Professional coaching","Equipment provided","Skill assessment","Flexible scheduling","No commitment required"],curriculum:[{week:1,title:"Skill Assessment",description:"Evaluate current abilities and identify areas for improvement"},{week:2,title:"Focused Instruction",description:"Targeted coaching on specific skills or techniques"},{week:3,title:"Practice Guidance",description:"Learn effective practice methods and drills"},{week:4,title:"Next Steps",description:"Recommendations for continued improvement"}],testimonials:[{name:"Lucas Brown",age:"13",text:"Great way to try out coaching without a big commitment. I learned so much in just one session!"},{name:"Ava Garcia",age:"11",text:"Perfect for when I can't commit to a full month. The coaches are so helpful."}]},"adult-starter":{id:"adult-starter",title:"Starter",subtitle:"Perfect for beginners",category:"Adult (18+)",description:"Ideal for adult golfers starting their journey. Build fundamental skills and develop a love for the game through structured coaching.",duration:"Monthly",difficulty:"Beginner",price:"$240",period:"per month",features:["4 Sessions per Month","2 Tournaments per Month","Professional coaching","Equipment provided","Progress tracking","Adult-focused instruction","Flexible scheduling"],curriculum:[{week:1,title:"Adult Learning Approach",description:"Learn fundamentals adapted for adult learners"},{week:2,title:"Efficient Practice",description:"Maximize improvement with limited time"},{week:3,title:"Course Navigation",description:"Learn to play the course effectively"},{week:4,title:"Social Golf",description:"Enjoy the game with other adult players"}],testimonials:[{name:"David Thompson",age:"35",text:"As a busy professional, this option fits perfectly into my schedule. Great instruction!"},{name:"Sarah Miller",age:"42",text:"I was nervous about starting golf as an adult, but the coaches made it so approachable."}]},"adult-developer":{id:"adult-developer",title:"Developer",subtitle:"For improving players",category:"Adult (18+)",description:"Take your game to the next level with more intensive training and competitive opportunities. Perfect for committed adult players.",duration:"Monthly",difficulty:"Intermediate",price:"$456",period:"per month",features:["8 Sessions per Month","3 Tournaments per Month","Advanced skill development","Video analysis","Mental game training","Performance tracking","Competitive preparation"],curriculum:[{week:1,title:"Advanced Techniques",description:"Refine swing mechanics and ball control"},{week:2,title:"Strategic Play",description:"Develop course management and decision-making"},{week:3,title:"Mental Game",description:"Build focus and competitive mindset"},{week:4,title:"Tournament Play",description:"Experience competitive golf environments"}],testimonials:[{name:"Robert Chen",age:"28",text:"The video analysis is incredible. I can see exactly what I need to work on."},{name:"Jennifer Adams",age:"31",text:"Love the extra practice time and tournament experience. My handicap is dropping fast!"}]},"adult-elite":{id:"adult-elite",title:"Elite",subtitle:"For serious competitors",category:"Adult (18+)",description:"Maximum training and tournament exposure for adult players committed to competitive golf. Elite-level instruction and support.",duration:"Monthly",difficulty:"Advanced",price:"$648",period:"per month",features:["12 Sessions per Month","4 Tournaments per Month","Elite coaching","Performance analytics","Tournament preparation","Advanced equipment access","Competitive guidance"],curriculum:[{week:1,title:"Elite Training",description:"High-intensity practice and skill mastery"},{week:2,title:"Performance Analysis",description:"Advanced data tracking and improvement strategies"},{week:3,title:"Competition Prep",description:"Tournament-specific training and mental preparation"},{week:4,title:"Advanced Strategy",description:"Elite course management and competitive tactics"}],testimonials:[{name:"Michael Johnson",age:"25",text:"The elite option is perfect for serious adult players. I've seen dramatic improvements."},{name:"Lisa Rodriguez",age:"29",text:"Competing in tournaments again has been amazing. The coaching is top-notch."}]},"adult-champion":{id:"adult-champion",title:"Champion",subtitle:"For tournament champions",category:"Adult (18+)",description:"The ultimate option for adult players aiming for championship success. Maximum training, support, and competitive opportunities.",duration:"Monthly",difficulty:"Elite",price:"$816",period:"per month",features:["16 Sessions per Month","4 Tournaments per Month","Championship coaching","Advanced analytics","Tournament prep guidance","Personalized training plans","Competitive support"],curriculum:[{week:1,title:"Championship Training",description:"Elite-level practice and skill mastery"},{week:2,title:"Advanced Analytics",description:"Comprehensive performance tracking and analysis"},{week:3,title:"Tournament Excellence",description:"Championship-level preparation and execution"},{week:4,title:"Competitive Success",description:"Achieving tournament goals and championship results"}],testimonials:[{name:"James Wilson",age:"33",text:"This option helped me win the club championship and qualify for regional events."},{name:"Amanda Davis",age:"27",text:"The personalized attention and tournament support is incredible. I'm achieving my competitive goals."}]},"adult-casual":{id:"adult-casual",title:"Casual Session",subtitle:"One-off training",category:"Adult (18+)",description:"Perfect for trying out our coaching or for occasional training sessions. Flexible scheduling for busy adults.",duration:"Single Session",difficulty:"All Levels",price:"$60",period:"one-off",features:["Single session","Professional coaching","Equipment provided","Skill assessment","Flexible scheduling","No commitment required"],curriculum:[{week:1,title:"Skill Assessment",description:"Evaluate current abilities and identify improvement areas"},{week:2,title:"Focused Instruction",description:"Targeted coaching on specific skills or techniques"},{week:3,title:"Practice Methods",description:"Learn effective practice methods for busy schedules"},{week:4,title:"Next Steps",description:"Recommendations for continued improvement"}],testimonials:[{name:"Thomas Brown",age:"38",text:"Perfect for my busy schedule. I can get quality instruction when I have time."},{name:"Rachel Garcia",age:"45",text:"Great way to try coaching without a big commitment. Learned so much in one session!"}]}}[e];if(!o)return(0,Fe.jsxs)("div",{style:{padding:Oe.spacing.xl,textAlign:"center"},children:[(0,Fe.jsx)("h2",{children:"Program not found"}),(0,Fe.jsx)("button",{onClick:()=>n("/programs"),style:{backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",marginTop:Oe.spacing.md},children:"Back to Programs"})]});const s={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},a={marginBottom:Oe.spacing.xl},l={fontSize:Oe.typography.fontSizes["4xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},c={fontSize:Oe.typography.fontSizes.xl,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},d={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body},u={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.body},h={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing.xl},p={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center"},g={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},f={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},m={display:"flex",marginBottom:Oe.spacing.xl,borderBottom:`1px solid ${Oe.colors.border}`},y={padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:"none",cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,borderBottom:"2px solid transparent",transition:"all 0.2s ease"},v={...y,color:Oe.colors.primary,borderBottom:`2px solid ${Oe.colors.primary}`},x={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},b={listStyle:"none",padding:0,margin:0},w={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm,paddingLeft:Oe.spacing.md,position:"relative",fontFamily:Oe.typography.fontFamily.body},S={marginBottom:Oe.spacing.lg,padding:Oe.spacing.lg,backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`},k={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.primary,fontWeight:Oe.typography.fontWeights.semibold,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},C={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},j={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},E={fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.body},_={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},T={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,borderRadius:Oe.borderRadius.md,border:"none",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"};return(0,Fe.jsxs)("div",{style:s,children:[(0,Fe.jsxs)("div",{style:a,children:[(0,Fe.jsx)("h1",{style:l,children:o.title}),(0,Fe.jsx)("p",{style:c,children:o.subtitle}),(0,Fe.jsx)("p",{style:d,children:o.category}),(0,Fe.jsx)("p",{style:u,children:o.description})]}),(0,Fe.jsxs)("div",{style:h,children:[(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsx)("div",{style:g,children:o.duration}),(0,Fe.jsx)("div",{style:f,children:"Duration"})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsx)("div",{style:g,children:o.difficulty}),(0,Fe.jsx)("div",{style:f,children:"Level"})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsxs)("div",{style:g,children:[o.price," ",o.period]}),(0,Fe.jsx)("div",{style:f,children:"Investment"})]})]}),(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsx)("button",{style:"overview"===r?v:y,onClick:()=>i("overview"),children:"Overview"}),(0,Fe.jsx)("button",{style:"curriculum"===r?v:y,onClick:()=>i("curriculum"),children:"Curriculum"}),(0,Fe.jsx)("button",{style:"testimonials"===r?v:y,onClick:()=>i("testimonials"),children:"Testimonials"})]}),(0,Fe.jsx)("div",{style:x,children:(()=>{switch(r){case"overview":return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"What's Included"}),(0,Fe.jsx)("ul",{style:b,children:o.features.map((e,t)=>(0,Fe.jsxs)("li",{style:w,children:["\u2713 ",e]},t))}),(0,Fe.jsx)("div",{style:{marginTop:Oe.spacing.xl},children:(0,Fe.jsxs)("button",{style:T,children:["Enroll Now - ",o.price," ",o.period]})})]});case"curriculum":return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Program Curriculum"}),o.curriculum.map((e,t)=>(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsxs)("div",{style:k,children:["Week ",e.week]}),(0,Fe.jsx)("div",{style:C,children:e.title}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},children:e.description})]},t))]});case"testimonials":return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Student Success Stories"}),o.testimonials.map((e,t)=>(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("div",{style:E,children:e.name}),(0,Fe.jsxs)("div",{style:_,children:["Age: ",e.age]}),(0,Fe.jsxs)("div",{style:{color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body,fontStyle:"italic"},children:['"',e.text,'"']})]},t))]});default:return null}})()})]})};const st=new class{constructor(){this.responsePatterns={accept:/^(yes|y|accept|ok|sure|confirm)$/i,decline:/^(no|n|decline|reject|cancel|pass)$/i}}async handleSMSResponse(e,t){try{console.log(`Processing SMS response from ${e}: "${t}"`);const n=t.trim().toLowerCase(),r=this.parseResponse(n);if(!r)return this.sendInvalidResponseMessage(e);const i=await this.findUserSession(e);return i?(await this.processUserResponse(i.sessionId,i.userId,r),await this.sendConfirmationMessage(e,r,i),{success:!0,responseType:r,sessionId:i.sessionId,userId:i.userId}):this.sendNotFoundMessage(e)}catch(n){return console.error("Error handling SMS response:",n),{success:!1,error:n.message}}}parseResponse(e){return this.responsePatterns.accept.test(e)?"accept":this.responsePatterns.decline.test(e)?"decline":null}async findUserSession(e){try{return[{phoneNumber:"+1 (555) 123-4567",userId:"user-1",sessionId:"2024-01-15-16:00",userName:"John Smith"},{phoneNumber:"+1 (555) 234-5678",userId:"user-2",sessionId:"2024-01-15-16:00",userName:"Sarah Johnson"},{phoneNumber:"+1 (555) 456-7890",userId:"user-4",sessionId:"2024-01-18-17:00",userName:"Lisa Chen"}].find(t=>t.phoneNumber===e)}catch(t){return console.error("Error finding user session:",t),null}}async processUserResponse(e,t,n){try{const r=await lt.handleUserResponse(e,t,n);return console.log(`Processed ${n} response for user ${t} in session ${e}`),r}catch(r){throw console.error("Error processing user response:",r),r}}async sendConfirmationMessage(e,t,n){try{let n;"accept"===t?n="Thank you for accepting! Your spot has been confirmed for the RYP Golf training session. We'll see you there!":"decline"===t&&(n="Thank you for letting us know. You have been removed from the waitlist. Feel free to book another session anytime!"),await this.sendSMS(e,n),console.log(`Confirmation message sent to ${e}`)}catch(r){console.error("Error sending confirmation message:",r)}}async sendInvalidResponseMessage(e){try{const t="Invalid response. Please reply with YES to accept the spot or NO to decline. You have 24 hours to respond.";await this.sendSMS(e,t),console.log(`Invalid response message sent to ${e}`)}catch(t){console.error("Error sending invalid response message:",t)}}async sendNotFoundMessage(e){try{const t="We couldn't find an active waitlist notification for this phone number. Please contact RYP Golf support if you believe this is an error.";await this.sendSMS(e,t),console.log(`Not found message sent to ${e}`)}catch(t){console.error("Error sending not found message:",t)}}async sendSMS(e,t){try{return console.log(`SMS to ${e}: ${t}`),await new Promise(e=>setTimeout(e,500)),{success:!0,messageId:`msg_${Date.now()}`}}catch(n){throw console.error("Error sending SMS:",n),n}}async handleWebhook(e){try{const{From:t,Body:n}=e.body;console.log(`Webhook received from ${t}: "${n}"`);const r=t,i=n;return{success:!0,result:await this.handleSMSResponse(r,i)}}catch(t){return console.error("Error handling webhook:",t),{success:!1,error:t.message}}}async testSMSResponse(e,t){console.log("\n\ud83e\uddea Testing SMS Response:"),console.log(`From: ${e}`),console.log(`Message: "${t}"`),console.log("---");const n=await this.handleSMSResponse(e,t);return console.log("Result:",n),console.log("---\n"),n}};const at=new class{constructor(){this.notificationQueue=[],this.processingQueue=!1}async addToWaitlist(e,t,n){try{console.log(`Adding user ${t} to waitlist for session ${e}`);const r=await this.getWaitlistData(e),i=r.length+1,o={userId:t,userData:n,position:i,joinedAt:(new Date).toISOString(),notificationSent:!1,notificationSentAt:null,responseDeadline:null,status:"waiting"};return r.push(o),await this.saveWaitlistData(e,r),await this.checkAndSendNotifications(e),{success:!0,position:i,message:`Added to waitlist position #${i}`}}catch(r){return console.error("Error adding to waitlist:",r),{success:!1,message:"Failed to add to waitlist"}}}async checkAndSendNotifications(e){try{const t=await this.getSessionData(e),n=await this.getWaitlistData(e),r=t.maxCapacity-t.currentBookings,i=n.filter(e=>"waiting"===e.status&&!e.notificationSent);for(let o=0;o<Math.min(r,i.length);o++){const t=i[o];await this.sendNotification(e,t)}}catch(t){console.error("Error checking notifications:",t)}}async sendNotification(e,t){try{const n=await this.getSessionData(e),r=new Date;r.setHours(r.getHours()+24),t.notificationSent=!0,t.notificationSentAt=(new Date).toISOString(),t.responseDeadline=r.toISOString(),t.status="notified";const i=this.createNotificationMessage(n,t);return await this.sendSMS(t.userData.phone,i),await this.sendEmail(t.userData.email,i),await this.updateWaitlistUser(e,t),console.log(`Notification sent to ${t.userData.name} for session ${e}`),{success:!0,message:`Notification sent to ${t.userData.name}`}}catch(n){return console.error("Error sending notification:",n),{success:!1,message:"Failed to send notification"}}}async handleUserResponse(e,t,n){try{const r=(await this.getWaitlistData(e)).find(e=>e.userId===t);if(!r)throw new Error("User not found in waitlist");if("accept"===n){await this.moveToConfirmed(e,t),r.status="confirmed";const n="Thank you for accepting! Your spot has been confirmed for the RYP Golf training session. We'll see you there!";await this.sendSMS(r.userData.phone,n),await this.checkAndSendNotifications(e)}else if("decline"===n){r.status="declined",await this.removeFromWaitlist(e,t);const n="Thank you for letting us know. You have been removed from the waitlist. Feel free to book another session anytime!";await this.sendSMS(r.userData.phone,n),await this.checkAndSendNotifications(e)}return await this.updateWaitlistUser(e,r),{success:!0,message:`Response processed: ${n}`}}catch(r){return console.error("Error handling user response:",r),{success:!1,message:"Failed to process response"}}}async moveToConfirmed(e,t){try{const n=await this.getSessionData(e);n.currentBookings+=1,await this.saveSessionData(e,n),console.log(`User ${t} moved to confirmed session ${e}`)}catch(n){console.error("Error moving to confirmed:",n)}}async removeFromWaitlist(e,t){try{const n=(await this.getWaitlistData(e)).filter(e=>e.userId!==t);n.forEach((e,t)=>{e.position=t+1}),await this.saveWaitlistData(e,n),console.log(`User ${t} removed from waitlist ${e}`)}catch(n){console.error("Error removing from waitlist:",n)}}createNotificationMessage(e,t){return`RYP Golf: A spot has opened up for your waitlisted session on ${new Date(e.date+"T"+e.time).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}. Reply YES to accept or NO to decline. You have 24 hours to respond.`}async sendSMS(e,t){try{return console.log(`\ud83d\udcf1 SMS to ${e}: ${t}`),await new Promise(e=>setTimeout(e,1e3)),{success:!0,messageId:`msg_${Date.now()}`}}catch(n){throw console.error("Error sending SMS:",n),n}}async sendEmail(e,t){try{return console.log(`\ud83d\udce7 Email to ${e}: ${t}`),await new Promise(e=>setTimeout(e,500)),{success:!0,messageId:`email_${Date.now()}`}}catch(n){throw console.error("Error sending email:",n),n}}async processExpiredNotifications(){try{const e=await this.getAllSessions();for(const t of e){const e=await this.getWaitlistData(t.id),n=new Date,r=e.filter(e=>e.notificationSent&&e.responseDeadline&&new Date(e.responseDeadline)<n&&"notified"===e.status);for(const i of r){i.status="expired",await this.removeFromWaitlist(t.id,i.userId);const e="Your waitlist spot has expired. You have been removed from the waitlist.";await this.sendSMS(i.userData.phone,e)}await this.checkAndSendNotifications(t.id)}}catch(e){console.error("Error processing expired notifications:",e)}}async handleIncomingSMS(e,t){try{const n=await st.handleSMSResponse(e,t);return console.log(`\ud83d\udce8 Processed incoming SMS from ${e}: ${n}`),n}catch(n){return console.error("Error handling incoming SMS:",n),{success:!1,error:n.message}}}async getWaitlistData(e){return[]}async saveWaitlistData(e,t){console.log(`\ud83d\udcbe Saving waitlist data for session ${e}:`,t)}async getSessionData(e){return{id:e,date:"2024-01-15",time:"16:00",maxCapacity:16,currentBookings:14}}async saveSessionData(e,t){console.log(`\ud83d\udcbe Saving session data for session ${e}:`,t)}async updateWaitlistUser(e,t){console.log(`\ud83d\udd04 Updating waitlist user for session ${e}:`,t)}async getAllSessions(){return[{id:"session-1"},{id:"session-2"}]}startAutomatedProcessing(){setInterval(()=>{this.processExpiredNotifications()},36e5),setInterval(()=>{this.checkAllSessionsForNotifications()},3e5),console.log("\ud83e\udd16 Automated notification service started")}async checkAllSessionsForNotifications(){try{const e=await this.getAllSessions();for(const t of e)await this.checkAndSendNotifications(t.id)}catch(e){console.error("Error checking all sessions:",e)}}};at.startAutomatedProcessing();const lt=at;const ct=function(){const{user:e}=ze(),[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(null),[s,a]=(0,t.useState)("session"),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)({}),[g,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{m()},[]);const m=async()=>{f(!0);try{const e=await Qe.zi.getAllBookings(),t={};e.forEach(e=>{try{const n=`${e.date}-${e.time}`;t[n]||(t[n]={sessions:[],waitlist:[]}),"session"===e.type?t[n].sessions.push(e):"waitlist"===e.type&&t[n].waitlist.push(e)}catch(n){console.error("Error processing booking:",n,e)}}),p(t)}catch(e){console.error("Error loading bookings:",e),u("Error loading booking data. Please refresh the page."),p({})}finally{f(!1)}},y=(e,t)=>{const n=`${e.toISOString().split("T")[0]}-${t}`,r=h[n]||{sessions:[],waitlist:[]};return{sessions:r.sessions.length,waitlist:r.waitlist.length,waitlistQueue:r.waitlist.sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt))}},v=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),x=async(t,r)=>{const o=r.waitlistQueue.length+1;if(o<=5){const r={userId:e.uid,userName:e.displayName||"Golfer",userEmail:e.email,userPhone:e.phoneNumber||"",date:n.toISOString().split("T")[0],time:i,type:"waitlist",status:"waiting",position:o,price:0,createdAt:new Date};await Qe.zi.createBooking(r);const s={name:e.displayName||"Golfer",phone:e.phoneNumber||"+1 (555) 000-0000",email:e.email||"user@email.com"};(await lt.addToWaitlist(t,e.uid,s)).success?(u(`Added to waitlist position #${o} for ${v(n)} at ${i}. You will be notified automatically when a spot becomes available.`),console.log("Automated waitlist system activated")):u("Failed to add to waitlist. Please try again.")}else u("Waitlist is full. Please try a different time or date.")},b={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},w={textAlign:"center",marginBottom:Oe.spacing["2xl"]},S={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},k={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},C={display:"grid",gridTemplateColumns:"1fr 1fr",gap:Oe.spacing.xl,marginBottom:Oe.spacing.xl},j={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},E={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},_={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:Oe.spacing.md},T={padding:Oe.spacing.md,backgroundColor:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",textAlign:"center",":hover":{backgroundColor:Oe.colors.background.primary,borderColor:Oe.colors.primary}},I={...T,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},R={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:Oe.spacing.md},A={padding:Oe.spacing.md,backgroundColor:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",textAlign:"center",":hover":{backgroundColor:Oe.colors.background.primary,borderColor:Oe.colors.primary}},P={...A,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},D={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginTop:Oe.spacing.lg},F={fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},N={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},z={backgroundColor:"rgba(244, 238, 25, 0.1)",padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginTop:Oe.spacing.md,border:`1px solid ${Oe.colors.secondary}`},M={fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.secondary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},O={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.xs,paddingLeft:Oe.spacing.sm},L={display:"flex",gap:Oe.spacing.md,marginBottom:Oe.spacing.lg},B={flex:1,padding:Oe.spacing.md,backgroundColor:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:Oe.colors.background.primary,borderColor:Oe.colors.primary}},U={...B,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},$={width:"100%",padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease",opacity:l?.7:1,":hover":{backgroundColor:l?Oe.colors.primary:"#009a47",boxShadow:l?"none":Oe.shadows.green,transform:l?"none":"translateY(-1px)"}},W={padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.lg,textAlign:"center",fontFamily:Oe.typography.fontFamily.body},V={...W,backgroundColor:"rgba(0, 175, 81, 0.1)",color:Oe.colors.primary,border:`1px solid ${Oe.colors.primary}`},H={...W,backgroundColor:"rgba(255, 68, 68, 0.1)",color:Oe.colors.error,border:`1px solid ${Oe.colors.error}`},q={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl},G={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},K={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.sm},Y={backgroundColor:"rgba(0, 175, 81, 0.1)",padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.primary}`,marginBottom:Oe.spacing.xl},Q={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},J={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.sm},X=(()=>{const e=[],t=new Date;for(let n=0;n<28;n++){const r=new Date(t);r.setDate(t.getDate()+n);const i=r.getDay();(i>=1&&i<=4||6===i)&&e.push(r)}return e})();return g?(0,Fe.jsx)("div",{style:b,children:(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing.xl},children:[(0,Fe.jsx)("h2",{style:{color:Oe.colors.primary,marginBottom:Oe.spacing.md},children:"Loading Booking System..."}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:"Please wait while we load the latest availability."})]})}):(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsxs)("div",{style:w,children:[(0,Fe.jsx)("h1",{style:S,children:"Book Your Training Session"}),(0,Fe.jsx)("p",{style:k,children:"Reserve your spot for personalized training sessions with RYP Golf professionals"})]}),d&&(0,Fe.jsx)("div",{style:d.includes("Successfully")||d.includes("Added to waitlist")?V:H,children:d}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsx)("h3",{style:G,children:"Session Information"}),(0,Fe.jsxs)("p",{style:K,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Duration:"})," 1 hour per session"]}),(0,Fe.jsxs)("p",{style:K,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Capacity:"})," 16 spots per session + 5 waitlist spots"]}),(0,Fe.jsxs)("p",{style:K,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Schedule:"})," Monday-Thursday 4-7 PM, Saturday 8-10 AM"]}),(0,Fe.jsxs)("p",{style:K,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Location:"})," RYP Golf Training Facility"]})]}),(0,Fe.jsxs)("div",{style:Y,children:[(0,Fe.jsx)("h3",{style:Q,children:"\ud83e\udd16 Fully Automated Waitlist System"}),(0,Fe.jsxs)("p",{style:J,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Automatic Queue:"})," Join waitlist in order of registration"]}),(0,Fe.jsxs)("p",{style:J,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Instant Notifications:"})," SMS/email sent automatically when spots open"]}),(0,Fe.jsxs)("p",{style:J,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"24-Hour Response:"})," Accept or decline within 24 hours"]}),(0,Fe.jsxs)("p",{style:J,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"No Manual Intervention:"})," System handles everything automatically"]}),(0,Fe.jsxs)("p",{style:J,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Smart Processing:"})," Automatically moves next person in line when spot opens"]})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h3",{style:E,children:"Select Date"}),(0,Fe.jsx)("div",{style:_,children:X.map(e=>{const t=n&&n.toDateString()===e.toDateString();return(0,Fe.jsx)("button",{style:t?I:T,onClick:()=>r(e),onMouseEnter:e=>{t||(e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{t||(e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border)},children:v(e)},e.toISOString())})})]}),(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h3",{style:E,children:"Select Time"}),n?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{style:R,children:(Z=n,6===Z.getDay()?[{time:"08:00",label:"8:00 AM"},{time:"09:00",label:"9:00 AM"}]:[{time:"16:00",label:"4:00 PM"},{time:"17:00",label:"5:00 PM"},{time:"18:00",label:"6:00 PM"}]).map(e=>{const t=i===e.time,r=y(n,e.time),s=r.sessions>=16,a=r.waitlist>=5;return(0,Fe.jsxs)("button",{style:t?P:A,onClick:()=>o(e.time),disabled:s&&a,onMouseEnter:e=>{t||s||a||(e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{t||s||a||(e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border)},children:[(0,Fe.jsx)("div",{children:e.label}),(0,Fe.jsx)("div",{style:{fontSize:"0.8em",color:Oe.colors.text.secondary},children:s?"Full":16-r.sessions+" spots"})]},e.time)})}),i&&(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:"Session Capacity"}),(0,Fe.jsx)("div",{style:N,children:(()=>{const e=y(n,i),t=16-e.sessions,r=5-e.waitlist;return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{children:["Main Session: ",e.sessions,"/16 booked"]}),(0,Fe.jsxs)("div",{children:["Waitlist: ",e.waitlist,"/5 spots"]}),t>0&&(0,Fe.jsxs)("div",{style:{color:Oe.colors.primary,fontWeight:"bold"},children:[t," spots available"]}),0===t&&r>0&&(0,Fe.jsxs)("div",{style:{color:Oe.colors.secondary,fontWeight:"bold"},children:[r," waitlist spots available"]}),0===t&&0===r&&(0,Fe.jsx)("div",{style:{color:Oe.colors.error,fontWeight:"bold"},children:"Session full"})]})})()}),(()=>{const e=y(n,i);return e.waitlistQueue.length>0?(0,Fe.jsxs)("div",{style:z,children:[(0,Fe.jsx)("div",{style:M,children:"Current Waitlist Queue"}),e.waitlistQueue.slice(0,3).map((e,t)=>{return(0,Fe.jsxs)("div",{style:O,children:["#",t+1,": ",e.name," (joined ",(n=e.createdAt,new Date(n).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})),")"]},e.id);var n}),e.waitlistQueue.length>3&&(0,Fe.jsxs)("div",{style:O,children:["... and ",e.waitlistQueue.length-3," more"]})]}):null})()]})]}):(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,textAlign:"center"},children:"Please select a date first"})]})]}),n&&i&&(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h3",{style:E,children:"Complete Booking"}),(0,Fe.jsxs)("div",{style:L,children:[(0,Fe.jsx)("button",{style:"session"===s?U:B,onClick:()=>a("session"),onMouseEnter:e=>{"session"!==s&&(e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{"session"!==s&&(e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border)},children:"Main Session"}),(0,Fe.jsx)("button",{style:"waitlist"===s?U:B,onClick:()=>a("waitlist"),onMouseEnter:e=>{"waitlist"!==s&&(e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{"waitlist"!==s&&(e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border)},children:"Waitlist"})]}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm},children:[(0,Fe.jsx)("strong",{children:"Selected:"})," ",v(n)," at ",i]}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary},children:[(0,Fe.jsx)("strong",{children:"Booking Type:"})," ","session"===s?"Main Session":"Waitlist"]})]}),(0,Fe.jsx)("button",{style:$,onClick:async()=>{if(e)if(n&&i){c(!0),u("");try{const l=y(n,i),c=`${n.toISOString().split("T")[0]}-${i}`;if("session"===s)if(l.sessions>=16)u("Session is full. You have been added to the waitlist automatically."),await x(c,l);else{const t={userId:e.uid,userName:e.displayName||"Golfer",userEmail:e.email,userPhone:e.phoneNumber||"",date:n.toISOString().split("T")[0],time:i,type:"session",status:"confirmed",price:0,createdAt:new Date};await Qe.zi.createBooking(t),u(`Successfully booked session for ${v(n)} at ${i}!`)}else await x(c,l);try{await m()}catch(t){console.error("Error reloading bookings:",t)}r(null),o(null),a("session"),setTimeout(()=>u(""),5e3)}catch(l){console.error("Booking error:",l),u("Booking failed. Please try again.")}finally{c(!1)}}else u("Please select a date and time");else u("Please log in to book a session")},disabled:l,onMouseEnter:e=>{l||(e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)")},onMouseLeave:e=>{l||(e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)")},children:l?"Processing...":"Book "+("session"===s?"Session":"Waitlist")})]})]});var Z};const dt=function(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=Re.j2.onAuthStateChanged(e=>{n(e),e&&p()});return()=>e()},[]);const p=async()=>{s(!0);try{i([{sessionId:"session-1",date:"2024-01-15",time:"16:00",instructor:"Mike Rypien",location:"RYP Golf Training Facility",maxCapacity:16,currentBookings:14,waitlistUsers:[{id:"user-1",name:"John Smith",email:"john.smith@email.com",phone:"+1 (555) 123-4567",waitlistPosition:1,notificationSent:!1,notificationSentAt:null,responseDeadline:null},{id:"user-2",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1 (555) 234-5678",waitlistPosition:2,notificationSent:!1,notificationSentAt:null,responseDeadline:null},{id:"user-3",name:"Mike Davis",email:"mike.davis@email.com",phone:"+1 (555) 345-6789",waitlistPosition:3,notificationSent:!1,notificationSentAt:null,responseDeadline:null}]},{sessionId:"session-2",date:"2024-01-18",time:"17:00",instructor:"Coach Mark Davis",location:"RYP Golf Training Facility",maxCapacity:16,currentBookings:16,waitlistUsers:[{id:"user-4",name:"Lisa Chen",email:"lisa.chen@email.com",phone:"+1 (555) 456-7890",waitlistPosition:1,notificationSent:!0,notificationSentAt:"2024-01-16T10:30:00Z",responseDeadline:"2024-01-17T10:30:00Z"},{id:"user-5",name:"David Wilson",email:"david.wilson@email.com",phone:"+1 (555) 567-8901",waitlistPosition:2,notificationSent:!1,notificationSentAt:null,responseDeadline:null}]}])}catch(e){console.error("Error loading waitlist data:",e)}finally{s(!1)}},g=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),f={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},m={textAlign:"center",marginBottom:Oe.spacing["2xl"]},y={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},v={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},x={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg,transition:"all 0.3s ease",":hover":{transform:"translateY(-2px)",boxShadow:Oe.shadows.lg,borderColor:Oe.colors.primary}},b={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.lg},w={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.headline},S={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},k={display:"flex",gap:Oe.spacing.md,marginBottom:Oe.spacing.lg},C={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,textAlign:"center",flex:1},j={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,fontFamily:Oe.typography.fontFamily.headline},E={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},_={width:"100%",borderCollapse:"collapse",marginTop:Oe.spacing.lg},T={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,textAlign:"left",fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.body,borderBottom:`1px solid ${Oe.colors.border}`},I={padding:Oe.spacing.md,fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.body,borderBottom:`1px solid ${Oe.colors.border}`},R={padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.xs,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,textTransform:"uppercase",letterSpacing:"0.05em"},A={...R,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},P={...R,backgroundColor:Oe.colors.secondary,color:Oe.colors.text.dark},D={padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:Oe.typography.fontSizes.xs,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",marginRight:Oe.spacing.xs,":hover":{transform:"translateY(-1px)"}},F={...D,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,":hover":{backgroundColor:"#009a47",boxShadow:Oe.shadows.green,transform:"translateY(-1px)"}},N={...D,backgroundColor:Oe.colors.success,color:Oe.colors.text.dark,":hover":{backgroundColor:"#2e7d32",transform:"translateY(-1px)"}},z={...D,backgroundColor:Oe.colors.error,color:Oe.colors.text.primary,":hover":{backgroundColor:"#d32f2f",transform:"translateY(-1px)"}},M={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,maxWidth:"500px",width:"90%"},O={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},L={width:"100%",minHeight:"100px",padding:Oe.spacing.md,backgroundColor:Oe.colors.background.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,resize:"vertical",transition:"border-color 0.2s ease",":focus":{outline:"none",borderColor:Oe.colors.primary}},B={display:"flex",gap:Oe.spacing.md,marginTop:Oe.spacing.lg},U={flex:1,padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:"#009a47",boxShadow:Oe.shadows.green,transform:"translateY(-1px)"}},$={flex:1,padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:Oe.colors.background.primary,borderColor:Oe.colors.primary}},W={textAlign:"center",padding:Oe.spacing["2xl"],color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},V={textAlign:"center",padding:Oe.spacing["2xl"],color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body};return e?(0,Fe.jsxs)("div",{style:f,children:[(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsx)("h1",{style:y,children:"Admin Waitlist Management"}),(0,Fe.jsx)("p",{style:v,children:"Manage waitlist notifications and send SMS alerts to users when spots become available"})]}),o?(0,Fe.jsx)("div",{style:V,children:"Loading waitlist data..."}):0===r.length?(0,Fe.jsxs)("div",{style:W,children:[(0,Fe.jsx)("h3",{style:{marginBottom:Oe.spacing.md},children:"No waitlist data"}),(0,Fe.jsx)("p",{children:"No sessions currently have waitlist users."})]}):r.map(e=>{return(0,Fe.jsxs)("div",{style:x,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.lg,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsx)("div",{style:b,children:(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{style:w,children:(t=e.date,n=e.time,new Date(t+"T"+n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))}),(0,Fe.jsxs)("p",{style:S,children:[e.instructor," \u2022 ",e.location]})]})}),(0,Fe.jsxs)("div",{style:k,children:[(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:e.currentBookings}),(0,Fe.jsx)("div",{style:E,children:"Confirmed"})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:e.maxCapacity}),(0,Fe.jsx)("div",{style:E,children:"Capacity"})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:e.waitlistUsers.length}),(0,Fe.jsx)("div",{style:E,children:"Waitlist"})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:e.maxCapacity-e.currentBookings}),(0,Fe.jsx)("div",{style:E,children:"Available"})]})]}),e.waitlistUsers.length>0&&(0,Fe.jsxs)("table",{style:_,children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{style:T,children:"Position"}),(0,Fe.jsx)("th",{style:T,children:"Name"}),(0,Fe.jsx)("th",{style:T,children:"Contact"}),(0,Fe.jsx)("th",{style:T,children:"Notification Status"}),(0,Fe.jsx)("th",{style:T,children:"Actions"})]})}),(0,Fe.jsx)("tbody",{children:e.waitlistUsers.map(t=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsxs)("td",{style:I,children:["#",t.waitlistPosition]}),(0,Fe.jsx)("td",{style:I,children:t.name}),(0,Fe.jsxs)("td",{style:I,children:[(0,Fe.jsx)("div",{children:t.email}),(0,Fe.jsx)("div",{style:{color:Oe.colors.text.secondary,fontSize:"0.9em"},children:t.phone})]}),(0,Fe.jsx)("td",{style:I,children:t.notificationSent?(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{style:A,children:"Sent"}),(0,Fe.jsx)("div",{style:{fontSize:"0.8em",color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs},children:g(t.notificationSentAt)}),t.responseDeadline&&(0,Fe.jsxs)("div",{style:{fontSize:"0.8em",color:Oe.colors.text.secondary},children:["Deadline: ",g(t.responseDeadline)]})]}):(0,Fe.jsx)("div",{style:P,children:"Pending"})}),(0,Fe.jsxs)("td",{style:I,children:[!t.notificationSent&&(0,Fe.jsx)("button",{style:F,onClick:()=>l({sessionId:e.sessionId,userId:t.id}),onMouseEnter:e=>{e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)"},children:"Send SMS"}),e.currentBookings<e.maxCapacity&&(0,Fe.jsx)("button",{style:N,onClick:()=>(async(e,t)=>{if(window.confirm("Move this user from waitlist to confirmed session?"))try{await new Promise(e=>setTimeout(e,1e3)),i(n=>n.map(n=>n.sessionId===e?{...n,currentBookings:n.currentBookings+1,waitlistUsers:n.waitlistUsers.filter(e=>e.id!==t)}:n)),alert("User moved to confirmed session successfully!")}catch(n){alert("Failed to move user. Please try again.")}})(e.sessionId,t.id),onMouseEnter:e=>{e.target.style.backgroundColor="#2e7d32",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.success,e.target.style.transform="translateY(0)"},children:"Move to Confirmed"}),(0,Fe.jsx)("button",{style:z,onClick:()=>(async(e,t)=>{if(window.confirm("Remove this user from the waitlist?"))try{await new Promise(e=>setTimeout(e,1e3)),i(n=>n.map(n=>n.sessionId===e?{...n,waitlistUsers:n.waitlistUsers.filter(e=>e.id!==t)}:n)),alert("User removed from waitlist successfully!")}catch(n){alert("Failed to remove user. Please try again.")}})(e.sessionId,t.id),onMouseEnter:e=>{e.target.style.backgroundColor="#d32f2f",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.error,e.target.style.transform="translateY(0)"},children:"Remove"})]})]},t.id))})]})]},e.sessionId);var t,n}),a&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>l(null),children:(0,Fe.jsxs)("div",{style:M,onClick:e=>e.stopPropagation(),children:[(0,Fe.jsx)("h3",{style:O,children:"Send Waitlist Notification"}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("label",{style:{display:"block",marginBottom:Oe.spacing.sm,fontWeight:"bold"},children:"Notification Message"}),(0,Fe.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"A spot has opened up for your waitlisted session. Please respond within 24 hours to accept or decline.",style:L})]}),(0,Fe.jsx)("div",{style:{marginBottom:Oe.spacing.lg},children:(0,Fe.jsx)("p",{style:{fontSize:"0.9em",color:Oe.colors.text.secondary},children:"This message will be sent via SMS and email to the user. They will have 24 hours to respond."})}),(0,Fe.jsxs)("div",{style:B,children:[(0,Fe.jsx)("button",{style:U,onClick:()=>(async(e,t)=>{if(c.trim()){h(!0);try{await new Promise(e=>setTimeout(e,2e3)),i(n=>n.map(n=>n.sessionId===e?{...n,waitlistUsers:n.waitlistUsers.map(e=>{if(e.id===t){const t=new Date,n=new Date(t.getTime()+864e5);return{...e,notificationSent:!0,notificationSentAt:t.toISOString(),responseDeadline:n.toISOString()}}return e})}:n)),alert("Notification sent successfully!"),d("")}catch(n){alert("Failed to send notification. Please try again.")}finally{h(!1)}}else alert("Please enter a notification message")})(a.sessionId,a.userId),disabled:u,onMouseEnter:e=>{u||(e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)")},onMouseLeave:e=>{u||(e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)")},children:u?"Sending...":"Send Notification"}),(0,Fe.jsx)("button",{style:$,onClick:()=>l(null),disabled:u,onMouseEnter:e=>{u||(e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{u||(e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border)},children:"Cancel"})]})]})})]}):(0,Fe.jsx)("div",{style:f,children:(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsx)("h1",{style:y,children:"Admin Waitlist Management"}),(0,Fe.jsx)("p",{style:v,children:"Please log in to access admin features"})]})})};const ut=function(){const e=ee(),{user:n,userRole:r,refreshUser:i}=ze(),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({displayName:"",email:"",handicap:"",goals:"",experience:"beginner"}),[u,h]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),[f,m]=(0,t.useState)(0),[y,v]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(n){d({displayName:n.displayName||"",email:n.email||"",handicap:n.handicap||"",goals:n.goals||"",experience:n.experience||"beginner"}),s(!1);localStorage.getItem("profile_first_visit_seen")||(g(!0),localStorage.setItem("profile_first_visit_seen","1"))}else e("/login")},[n,e]);const w=e=>{const{name:t,value:n}=e.target;d(e=>({...e,[t]:n}))},S=e=>{b(e)},k={maxWidth:"800px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},C={marginBottom:Oe.spacing.xl},j={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},E={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},_={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},T={marginBottom:Oe.spacing.lg},I={display:"block",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},R={width:"100%",padding:Oe.spacing.md,backgroundColor:Oe.colors.background.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"border-color 0.2s ease",outline:"none"},A={...R,cursor:"pointer"},P={...R,minHeight:"100px",resize:"vertical"},D={display:"flex",gap:Oe.spacing.md,marginTop:Oe.spacing.lg},F={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,borderRadius:Oe.borderRadius.md,border:"none",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},N={backgroundColor:"transparent",color:Oe.colors.text.primary,padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},z={padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.body,textAlign:"center"},M={...z,backgroundColor:"rgba(0, 175, 81, 0.1)",color:Oe.colors.primary,border:`1px solid ${Oe.colors.primary}`},O={...z,backgroundColor:"rgba(255, 68, 68, 0.1)",color:Oe.colors.error,border:`1px solid ${Oe.colors.error}`},L={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing.xl},B={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,textAlign:"center"},U={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},$={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},W={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,maxWidth:"400px",width:"90%"},V={width:"100%",padding:Oe.spacing.md,marginBottom:Oe.spacing.sm,backgroundColor:Oe.colors.background.secondary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease"},H={...V,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary};return o?(0,Fe.jsx)("div",{style:k,children:(0,Fe.jsx)("p",{children:"Loading profile..."})}):n?(0,Fe.jsxs)("div",{style:k,children:[p&&(0,Fe.jsxs)("div",{style:{backgroundColor:"rgba(0, 175, 81, 0.1)",border:`1px solid ${Oe.colors.primary}`,borderRadius:Oe.borderRadius.md,padding:Oe.spacing.md,marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("h3",{style:{marginTop:0},children:"Welcome! Let\u2019s complete your profile"}),(0,Fe.jsxs)("ul",{style:{margin:0,paddingLeft:"1.2rem"},children:[(0,Fe.jsx)("li",{children:"Verify your display name and email"}),(0,Fe.jsx)("li",{children:"Set your experience level and training goals"}),(0,Fe.jsx)("li",{children:"Return to Programs to select coaching and add-ons"})]}),(0,Fe.jsx)("div",{style:{marginTop:Oe.spacing.sm},children:(0,Fe.jsx)("button",{onClick:()=>g(!1),style:F,children:"Got it"})})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h1",{style:j,children:"Profile Settings"}),(0,Fe.jsx)("p",{style:E,children:"Manage your account and training preferences"}),(0,Fe.jsxs)("p",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:["Current Role: ",(0,Fe.jsx)("strong",{children:r||"student"})]})]}),u&&(0,Fe.jsx)("div",{style:u.includes("Error")?O:M,children:u}),(0,Fe.jsxs)("div",{style:L,children:[(0,Fe.jsxs)("div",{style:B,children:[(0,Fe.jsx)("div",{style:U,children:"12"}),(0,Fe.jsx)("div",{style:$,children:"Training Sessions"})]}),(0,Fe.jsxs)("div",{style:B,children:[(0,Fe.jsx)("div",{style:U,children:"8.5"}),(0,Fe.jsx)("div",{style:$,children:"Handicap Index"})]}),(0,Fe.jsxs)("div",{style:B,children:[(0,Fe.jsx)("div",{style:U,children:"24"}),(0,Fe.jsx)("div",{style:$,children:"Days Streak"})]})]}),(0,Fe.jsxs)("div",{style:_,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Personal Information"}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("label",{style:I,children:"Display Name"}),(0,Fe.jsx)("input",{type:"text",name:"displayName",value:c.displayName,onChange:w,disabled:!a,style:{...R,backgroundColor:a?Oe.colors.background.primary:Oe.colors.background.secondary,color:a?Oe.colors.text.primary:Oe.colors.text.secondary,cursor:a?"text":"not-allowed",opacity:a?1:.6}})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("label",{style:I,children:"Email"}),(0,Fe.jsx)("input",{type:"email",name:"email",value:c.email,onChange:w,disabled:!a,style:{...R,backgroundColor:a?Oe.colors.background.primary:Oe.colors.background.secondary,color:a?Oe.colors.text.primary:Oe.colors.text.secondary,cursor:a?"text":"not-allowed",opacity:a?1:.6}})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("label",{style:I,children:"Current Handicap"}),(0,Fe.jsx)("input",{type:"text",name:"handicap",value:c.handicap,onChange:w,disabled:!a,placeholder:"e.g., 12.5",style:{...R,backgroundColor:a?Oe.colors.background.primary:Oe.colors.background.secondary,color:a?Oe.colors.text.primary:Oe.colors.text.secondary,cursor:a?"text":"not-allowed",opacity:a?1:.6}})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("label",{style:I,children:"Experience Level"}),(0,Fe.jsxs)("select",{name:"experience",value:c.experience,onChange:w,disabled:!a,style:{...A,backgroundColor:a?Oe.colors.background.primary:Oe.colors.background.secondary,color:a?Oe.colors.text.primary:Oe.colors.text.secondary,cursor:a?"pointer":"not-allowed",opacity:a?1:.6},children:[(0,Fe.jsx)("option",{value:"beginner",children:"Beginner (0-2 years)"}),(0,Fe.jsx)("option",{value:"intermediate",children:"Intermediate (2-5 years)"}),(0,Fe.jsx)("option",{value:"advanced",children:"Advanced (5+ years)"}),(0,Fe.jsx)("option",{value:"competitive",children:"Competitive Player"})]})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsx)("label",{style:I,children:"Training Goals"}),(0,Fe.jsx)("textarea",{name:"goals",value:c.goals,onChange:w,disabled:!a,placeholder:"Describe your golf training goals...",style:{...P,backgroundColor:a?Oe.colors.background.primary:Oe.colors.background.secondary,color:a?Oe.colors.text.primary:Oe.colors.text.secondary,cursor:a?"text":"not-allowed",opacity:a?1:.6}})]}),(0,Fe.jsx)("div",{style:D,children:a?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:async()=>{try{if(h("Updating profile..."),!Re.j2.currentUser)throw new Error("No authenticated user");await(0,Ae.r7)(Re.j2.currentUser,{displayName:c.displayName}),c.email!==n.email&&await(0,Ae.Ww)(Re.j2.currentUser,c.email);const e=(0,Pe.H9)(Re.db,"users",n.uid);await(0,Pe.BN)(e,{handicap:c.handicap,goals:c.goals,experience:c.experience,lastUpdated:new Date},{merge:!0}),h("Profile updated successfully!"),l(!1),setTimeout(()=>h(""),3e3)}catch(e){console.error("Error updating profile:",e),h("Error updating profile. Please try again.")}},style:F,children:"Save Changes"}),(0,Fe.jsx)("button",{onClick:()=>l(!1),style:N,children:"Cancel"})]}):(0,Fe.jsx)("button",{onClick:()=>{m(e=>e+1),f>=2?(b(r),v(!0),m(0)):l(!0)},style:F,children:"Edit Profile"})})]}),y&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Fe.jsxs)("div",{style:W,children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},children:"Switch User Role"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},children:"Select a new role for testing purposes:"}),(0,Fe.jsx)("button",{onClick:()=>S("student"),style:"student"===x?H:V,children:"Student"}),(0,Fe.jsx)("button",{onClick:()=>S("coach"),style:"coach"===x?H:V,children:"Coach"}),(0,Fe.jsx)("button",{onClick:()=>S("admin"),style:"admin"===x?H:V,children:"Admin"}),(0,Fe.jsx)("button",{onClick:()=>S("parent"),style:"parent"===x?H:V,children:"Parent"}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.sm,marginTop:Oe.spacing.md},children:[(0,Fe.jsx)("button",{onClick:async()=>{if(x)try{if(h("Switching role..."),!Re.j2.currentUser)throw new Error("No authenticated user");if(!n||!n.uid)throw new Error("User data not available");console.log("Updating role for user:",n.uid,"to role:",x);const e=(0,Pe.H9)(Re.db,"users",n.uid);await(0,Pe.BN)(e,{role:x,lastUpdated:new Date},{merge:!0}),console.log("Firestore update successful"),await i(),console.log("User context refreshed"),h(`Role switched to ${x} successfully!`),v(!1),b(null),setTimeout(()=>h(""),3e3)}catch(e){console.error("Error switching role:",e),console.error("Error details:",{errorCode:e.code,errorMessage:e.message,user:n?{uid:n.uid,role:n.role}:"No user",selectedRole:x,authCurrentUser:Re.j2.currentUser?"Present":"Not present"}),h(`Error switching role: ${e.message}`),setTimeout(()=>h(""),5e3)}else h("Please select a role first.")},disabled:!x||x===r,style:{...F,flex:1,opacity:x&&x!==r?1:.6,cursor:x&&x!==r?"pointer":"not-allowed"},children:x===r?"Current Role":"Save Changes"}),(0,Fe.jsx)("button",{onClick:()=>{v(!1),b(null)},style:{...N,flex:1},children:"Cancel"})]})]})})]}):(0,Fe.jsx)("div",{style:k,children:(0,Fe.jsx)("p",{children:"Please log in to view your profile."})})};const ht=function(){const[e,n]=(0,t.useState)("all"),[r,i]=(0,t.useState)(""),o={"speed-training":{title:"Speed Training",videos:[{id:"speed-1",title:"Rypstick Speed Protocol",description:"Learn the complete Rypstick training protocol used by Tour professionals.",duration:"12:34",instructor:"Mike Rypien",thumbnail:"speed-training-1.jpg",views:15420,rating:4.9,featured:!0},{id:"speed-2",title:"Biomechanics of Speed",description:"Understanding the biomechanics behind generating maximum clubhead speed.",duration:"18:22",instructor:"Dr. Sarah Johnson",thumbnail:"speed-training-2.jpg",views:8920,rating:4.8,featured:!1},{id:"speed-3",title:"Speed Drills for Distance",description:"Essential drills to increase your driving distance through proper sequencing.",duration:"15:45",instructor:"Mike Rypien",thumbnail:"speed-training-3.jpg",views:12340,rating:4.7,featured:!1}]},"swing-mechanics":{title:"Swing Mechanics",videos:[{id:"mechanics-1",title:"Perfect Your Backswing",description:"Master the fundamentals of a proper backswing for consistent ball striking.",duration:"14:18",instructor:"Coach Mark Davis",thumbnail:"mechanics-1.jpg",views:9870,rating:4.8,featured:!0},{id:"mechanics-2",title:"Downswing Sequence",description:"Learn the proper downswing sequence for maximum power and accuracy.",duration:"16:32",instructor:"Coach Mark Davis",thumbnail:"mechanics-2.jpg",views:7650,rating:4.7,featured:!1},{id:"mechanics-3",title:"Impact Position",description:"Achieving the perfect impact position for consistent ball flight.",duration:"13:45",instructor:"Dr. Sarah Johnson",thumbnail:"mechanics-3.jpg",views:6540,rating:4.6,featured:!1}]},"mental-game":{title:"Mental Game",videos:[{id:"mental-1",title:"Pre-Shot Routine",description:"Develop a consistent pre-shot routine for tournament success.",duration:"11:28",instructor:"Dr. Lisa Chen",thumbnail:"mental-1.jpg",views:5430,rating:4.9,featured:!0},{id:"mental-2",title:"Pressure Performance",description:"Techniques for performing under pressure in competitive situations.",duration:"19:15",instructor:"Dr. Lisa Chen",thumbnail:"mental-2.jpg",views:4320,rating:4.8,featured:!1}]},putting:{title:"Putting",videos:[{id:"putting-1",title:"ButterBlade Putting System",description:"Master the ButterBlade putting system for improved accuracy and consistency.",duration:"22:14",instructor:"Mike Rypien",thumbnail:"putting-1.jpg",views:8760,rating:4.9,featured:!0},{id:"putting-2",title:"Distance Control",description:"Perfect your distance control for consistent putting performance.",duration:"17:33",instructor:"Coach Mark Davis",thumbnail:"putting-2.jpg",views:6540,rating:4.7,featured:!1}]}},s={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},a={textAlign:"center",marginBottom:Oe.spacing["2xl"]},l={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},c={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},d={display:"flex",justifyContent:"center",marginBottom:Oe.spacing.xl},u={padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:Oe.colors.background.secondary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,width:"400px",maxWidth:"100%",transition:"border-color 0.2s ease"},h={display:"flex",justifyContent:"center",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl,flexWrap:"wrap"},p={padding:`${Oe.spacing.sm} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease"},g={...p,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},f={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:Oe.spacing.xl},m={backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},y={width:"100%",height:"200px",backgroundColor:Oe.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center",color:Oe.colors.text.secondary,fontSize:Oe.typography.fontSizes.lg,fontFamily:Oe.typography.fontFamily.body,position:"relative"},v={position:"absolute",bottom:Oe.spacing.sm,right:Oe.spacing.sm,backgroundColor:"rgba(0, 0, 0, 0.8)",color:Oe.colors.text.primary,padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body},x={position:"absolute",top:Oe.spacing.sm,left:Oe.spacing.sm,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.xs,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body},b={padding:Oe.spacing.lg},w={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},S={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body},k={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.sm},C={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.primary,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body},j={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},E={display:"flex",alignItems:"center",gap:Oe.spacing.xs},_={color:Oe.colors.secondary,fontSize:Oe.typography.fontSizes.sm},T={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},I={width:"100%",padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:"pointer",transition:"all 0.2s ease"},R=e=>{const t=[];for(let n=1;n<=5;n++)t.push((0,Fe.jsx)("span",{style:_,children:n<=e?"\u2605":"\u2606"},n));return t};return(0,Fe.jsxs)("div",{style:s,children:[(0,Fe.jsxs)("div",{style:a,children:[(0,Fe.jsx)("h1",{style:l,children:"Training Videos"}),(0,Fe.jsx)("p",{style:c,children:"Access our comprehensive library of training videos from Tour professionals and expert instructors"})]}),(0,Fe.jsx)("div",{style:d,children:(0,Fe.jsx)("input",{type:"text",placeholder:"Search videos...",value:r,onChange:e=>i(e.target.value),style:u})}),(0,Fe.jsx)("div",{style:h,children:[{id:"all",name:"All Videos"},{id:"speed-training",name:"Speed Training"},{id:"swing-mechanics",name:"Swing Mechanics"},{id:"mental-game",name:"Mental Game"},{id:"putting",name:"Putting"}].map(t=>(0,Fe.jsx)("button",{style:e===t.id?g:p,onClick:()=>n(t.id),onMouseEnter:n=>{e!==t.id&&(n.target.style.backgroundColor=Oe.colors.background.secondary,n.target.style.color=Oe.colors.primary,n.target.style.borderColor=Oe.colors.primary)},onMouseLeave:n=>{e!==t.id&&(n.target.style.backgroundColor="transparent",n.target.style.color=Oe.colors.text.secondary,n.target.style.borderColor=Oe.colors.border)},children:t.name},t.id))}),(0,Fe.jsx)("div",{style:f,children:(()=>{let t=[];var n;"all"===e?t=(()=>{const e=[];return Object.values(o).forEach(t=>{t.videos.forEach(n=>{e.push({...n,category:t.title})})}),e})():t=(null===(n=o[e])||void 0===n?void 0:n.videos)||[];if(r){const e=r.toLowerCase();t=t.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.instructor.toLowerCase().includes(e))}return t})().map(e=>{return(0,Fe.jsxs)("div",{style:m,onMouseEnter:e=>{e.target.style.transform="translateY(-4px)",e.target.style.boxShadow=Oe.shadows.lg,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsxs)("div",{style:y,children:[e.title," - Video Thumbnail",(0,Fe.jsx)("div",{style:v,children:e.duration}),e.featured&&(0,Fe.jsx)("div",{style:x,children:"FEATURED"})]}),(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsx)("h3",{style:w,children:e.title}),(0,Fe.jsx)("p",{style:S,children:e.description}),(0,Fe.jsxs)("div",{style:k,children:[(0,Fe.jsx)("div",{style:C,children:e.instructor}),(0,Fe.jsxs)("div",{style:j,children:[(t=e.views,t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString())," views"]})]}),(0,Fe.jsxs)("div",{style:E,children:[R(e.rating),(0,Fe.jsx)("span",{style:T,children:e.rating})]}),(0,Fe.jsx)("button",{style:I,onMouseEnter:e=>{e.target.style.backgroundColor="#009a47",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.primary,e.target.style.transform="translateY(0)"},children:"\u25b6 Watch Video"})]})]},e.id);var t})})]})};const pt=function(){const{user:e}=ze(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[s,a]=(0,t.useState)("upcoming"),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({smsEnabled:!0,emailEnabled:!0,phoneNumber:"",notificationWindow:24}),h=(0,t.useCallback)(async()=>{if(e){o(!0);try{const t=await Qe.zi.getBookingsByUser(e.uid),n=new Date,i=t.filter(e=>{try{const t=new Date(e.date+"T"+e.time);return"upcoming"===s?t>=n&&"cancelled"!==e.status:t<n||"cancelled"===e.status}catch(t){return console.error("Error parsing booking date:",t,e),"past"===s}});r(i)}catch(t){console.error("Error loading bookings:",t),r([])}finally{o(!1)}}},[e,s]),p=(0,t.useCallback)(async()=>{const t={smsEnabled:!0,emailEnabled:!0,phoneNumber:(null===e||void 0===e?void 0:e.phoneNumber)||"+1 (555) 123-4567",notificationWindow:24};u(t)},[e]);(0,t.useEffect)(()=>{e&&(h(),p())},[e,h,p]),(0,t.useEffect)(()=>{e&&h()},[s,e,h]);const g=e=>{switch(e){case"confirmed":return Oe.colors.success;case"waitlist":return Oe.colors.secondary;case"cancelled":return Oe.colors.error;default:return Oe.colors.text.secondary}},f=e=>{switch(e){case"confirmed":return"Confirmed";case"waitlist":return"Waitlist";case"cancelled":return"Cancelled";case"completed":return"Completed";default:return e}},m={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},y={textAlign:"center",marginBottom:Oe.spacing["2xl"]},v={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},x={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},b={display:"flex",justifyContent:"center",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl},w={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:"transparent",color:Oe.colors.text.secondary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:Oe.colors.background.secondary,color:Oe.colors.primary,borderColor:Oe.colors.primary}},S={...w,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderColor:Oe.colors.primary},k={padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",marginBottom:Oe.spacing.lg,":hover":{backgroundColor:"#009a47",boxShadow:Oe.shadows.green,transform:"translateY(-1px)"}},C={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:Oe.spacing.lg},j={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,transition:"all 0.3s ease",":hover":{transform:"translateY(-2px)",boxShadow:Oe.shadows.lg,borderColor:Oe.colors.primary}},E={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},_={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.headline},T={padding:`${Oe.spacing.xs} ${Oe.spacing.sm}`,borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.xs,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,textTransform:"uppercase",letterSpacing:"0.05em"},I={marginBottom:Oe.spacing.md},R={display:"flex",justifyContent:"space-between",marginBottom:Oe.spacing.xs,fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body},A={color:Oe.colors.text.secondary,fontWeight:Oe.typography.fontWeights.medium},P={color:Oe.colors.text.primary,fontWeight:Oe.typography.fontWeights.semibold},D={backgroundColor:"rgba(244, 238, 25, 0.1)",padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.md,border:`1px solid ${Oe.colors.secondary}`},F={fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.secondary,marginBottom:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.headline},N={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body,lineHeight:Oe.typography.lineHeights.normal},z=(Oe.spacing.md,Oe.borderRadius.md,Oe.spacing.md,Oe.colors.primary,Oe.typography.fontSizes.sm,Oe.typography.fontWeights.semibold,Oe.colors.primary,Oe.spacing.xs,Oe.typography.fontFamily.headline,Oe.typography.fontSizes.sm,Oe.colors.text.secondary,Oe.typography.fontFamily.body,Oe.typography.lineHeights.normal,{backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginTop:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`}),M={fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.xs,fontFamily:Oe.typography.fontFamily.headline},O={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body,lineHeight:Oe.typography.lineHeights.normal},L={display:"flex",gap:Oe.spacing.sm,marginTop:Oe.spacing.md},B={flex:1,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,border:"none",borderRadius:Oe.borderRadius.sm,cursor:"pointer",fontSize:Oe.typography.fontSizes.sm,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{transform:"translateY(-1px)"}},U=(Oe.colors.primary,Oe.colors.text.dark,Oe.shadows.green,Oe.colors.error,Oe.colors.text.primary,{...B,backgroundColor:Oe.colors.error,color:Oe.colors.text.primary,":hover":{backgroundColor:"#d32f2f",transform:"translateY(-1px)"}}),$={textAlign:"center",padding:Oe.spacing["2xl"],color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},W={textAlign:"center",padding:Oe.spacing["2xl"],color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},V={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},H={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},q={marginBottom:Oe.spacing.lg},G={display:"block",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},K={width:"100%",padding:Oe.spacing.md,backgroundColor:Oe.colors.background.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"border-color 0.2s ease",":focus":{outline:"none",borderColor:Oe.colors.primary}},Y={marginRight:Oe.spacing.sm},Q={display:"flex",gap:Oe.spacing.md,marginTop:Oe.spacing.xl},J={flex:1,padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:"#009a47",boxShadow:Oe.shadows.green,transform:"translateY(-1px)"}},X={flex:1,padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,backgroundColor:"transparent",color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,cursor:"pointer",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",":hover":{backgroundColor:Oe.colors.background.primary,borderColor:Oe.colors.primary}};return e?(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsx)("h1",{style:v,children:"My Bookings"}),(0,Fe.jsx)("p",{style:x,children:"View and manage your scheduled training sessions"})]}),(0,Fe.jsx)("div",{style:{textAlign:"center",marginBottom:Oe.spacing.lg},children:(0,Fe.jsx)("button",{style:k,onClick:()=>c(!0),onMouseEnter:e=>{e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)"},children:"\u2699\ufe0f Notification Settings"})}),(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsx)("button",{style:"upcoming"===s?S:w,onClick:()=>a("upcoming"),onMouseEnter:e=>{"upcoming"!==s&&(e.target.style.backgroundColor=Oe.colors.background.secondary,e.target.style.color=Oe.colors.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{"upcoming"!==s&&(e.target.style.backgroundColor="transparent",e.target.style.color=Oe.colors.text.secondary,e.target.style.borderColor=Oe.colors.border)},children:"Upcoming Sessions"}),(0,Fe.jsx)("button",{style:"past"===s?S:w,onClick:()=>a("past"),onMouseEnter:e=>{"past"!==s&&(e.target.style.backgroundColor=Oe.colors.background.secondary,e.target.style.color=Oe.colors.primary,e.target.style.borderColor=Oe.colors.primary)},onMouseLeave:e=>{"past"!==s&&(e.target.style.backgroundColor="transparent",e.target.style.color=Oe.colors.text.secondary,e.target.style.borderColor=Oe.colors.border)},children:"Past Sessions"})]}),i?(0,Fe.jsx)("div",{style:W,children:"Loading your bookings..."}):0===n.length?(0,Fe.jsxs)("div",{style:$,children:[(0,Fe.jsx)("h3",{style:{marginBottom:Oe.spacing.md},children:"upcoming"===s?"No upcoming sessions":"No past sessions"}),(0,Fe.jsx)("p",{children:"upcoming"===s?"Book your first training session to get started!":"Your completed sessions will appear here."})]}):(0,Fe.jsx)("div",{style:C,children:n.map(e=>{return(0,Fe.jsxs)("div",{style:j,onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow=Oe.shadows.lg,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.borderColor=Oe.colors.border},children:[(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("h3",{style:_,children:"session"===e.type?"Training Session":"Waitlist"}),(0,Fe.jsx)("div",{style:{...T,backgroundColor:g(e.status),color:"confirmed"===e.status?Oe.colors.text.dark:Oe.colors.text.primary},children:f(e.status)})]}),(0,Fe.jsxs)("div",{style:I,children:[(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsx)("span",{style:A,children:"Date & Time:"}),(0,Fe.jsx)("span",{style:P,children:(t=e.date,n=e.time,new Date(t+"T"+n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))})]}),(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsx)("span",{style:A,children:"Type:"}),(0,Fe.jsx)("span",{style:P,children:"session"===e.type?"Training Session":"Waitlist"})]}),(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsx)("span",{style:A,children:"Location:"}),(0,Fe.jsx)("span",{style:P,children:"RYP Golf Training Facility"})]}),e.position&&(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsx)("span",{style:A,children:"Waitlist Position:"}),(0,Fe.jsxs)("span",{style:P,children:["#",e.position]})]}),e.price>0&&(0,Fe.jsxs)("div",{style:R,children:[(0,Fe.jsx)("span",{style:A,children:"Price:"}),(0,Fe.jsxs)("span",{style:P,children:["$",e.price]})]})]}),"waitlist"===e.status&&(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsx)("div",{style:F,children:"Waitlist Information"}),(0,Fe.jsx)("div",{style:N,children:"You are currently on the waitlist for this session. You will be notified via SMS/email when a spot becomes available."})]}),e.userName&&(0,Fe.jsxs)("div",{style:z,children:[(0,Fe.jsx)("div",{style:M,children:"Booking Details"}),(0,Fe.jsxs)("div",{style:O,children:["Booked by: ",e.userName,(0,Fe.jsx)("br",{}),"Email: ",e.userEmail,(0,Fe.jsx)("br",{}),e.userPhone&&`Phone: ${e.userPhone}`]})]}),"upcoming"===s&&(0,Fe.jsxs)("div",{style:L,children:["confirmed"===e.status&&(0,Fe.jsx)("button",{style:U,onClick:()=>(async e=>{if(window.confirm("Are you sure you want to cancel this booking?"))try{await Qe.zi.updateBookingStatus(e,"cancelled"),await h(),alert("Booking cancelled successfully")}catch(t){console.error("Error cancelling booking:",t),alert("Failed to cancel booking. Please try again.")}})(e.id),onMouseEnter:e=>{e.target.style.backgroundColor="#d32f2f",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.error,e.target.style.transform="translateY(0)"},children:"Cancel Session"}),"waitlist"===e.status&&(0,Fe.jsx)("button",{style:U,onClick:()=>(async e=>{if(window.confirm("Decline this spot? You will be removed from the waitlist."))try{await Qe.zi.updateBookingStatus(e,"cancelled"),await h(),alert("Spot declined. You have been removed from the waitlist.")}catch(t){console.error("Error declining waitlist spot:",t),alert("Failed to decline spot. Please try again.")}})(e.id),onMouseEnter:e=>{e.target.style.backgroundColor="#d32f2f",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.error,e.target.style.transform="translateY(0)"},children:"Remove from Waitlist"})]})]},e.id);var t,n})}),l&&(0,Fe.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>c(!1),children:(0,Fe.jsxs)("div",{style:V,onClick:e=>e.stopPropagation(),children:[(0,Fe.jsx)("h3",{style:H,children:"Notification Settings"}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsxs)("label",{style:G,children:[(0,Fe.jsx)("input",{type:"checkbox",checked:d.smsEnabled,onChange:e=>u({...d,smsEnabled:e.target.checked}),style:Y}),"Enable SMS Notifications"]}),(0,Fe.jsx)("p",{style:{fontSize:"0.9em",color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs},children:"Receive text messages when spots become available"})]}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsxs)("label",{style:G,children:[(0,Fe.jsx)("input",{type:"checkbox",checked:d.emailEnabled,onChange:e=>u({...d,emailEnabled:e.target.checked}),style:Y}),"Enable Email Notifications"]}),(0,Fe.jsx)("p",{style:{fontSize:"0.9em",color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs},children:"Receive email notifications when spots become available"})]}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsx)("label",{style:G,children:"Phone Number"}),(0,Fe.jsx)("input",{type:"tel",value:d.phoneNumber,onChange:e=>u({...d,phoneNumber:e.target.value}),placeholder:"+1 (555) 123-4567",style:K}),(0,Fe.jsx)("p",{style:{fontSize:"0.9em",color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs},children:"Used for SMS notifications"})]}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsx)("label",{style:G,children:"Response Window"}),(0,Fe.jsxs)("select",{value:d.notificationWindow,onChange:e=>u({...d,notificationWindow:parseInt(e.target.value)}),style:K,children:[(0,Fe.jsx)("option",{value:12,children:"12 hours"}),(0,Fe.jsx)("option",{value:24,children:"24 hours"}),(0,Fe.jsx)("option",{value:48,children:"48 hours"})]}),(0,Fe.jsx)("p",{style:{fontSize:"0.9em",color:Oe.colors.text.secondary,marginTop:Oe.spacing.xs},children:"Time you have to respond to waitlist notifications"})]}),(0,Fe.jsxs)("div",{style:Q,children:[(0,Fe.jsx)("button",{style:J,onClick:async()=>{try{await new Promise(e=>setTimeout(e,1e3)),alert("Notification preferences updated successfully!"),c(!1)}catch(e){alert("Failed to update preferences. Please try again.")}},onMouseEnter:e=>{e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)"},children:"Save Settings"}),(0,Fe.jsx)("button",{style:X,onClick:()=>c(!1),onMouseEnter:e=>{e.target.style.backgroundColor=Oe.colors.background.primary,e.target.style.borderColor=Oe.colors.primary},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.borderColor=Oe.colors.border},children:"Cancel"})]})]})})]}):(0,Fe.jsx)("div",{style:m,children:(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsx)("h1",{style:v,children:"My Bookings"}),(0,Fe.jsx)("p",{style:x,children:"Please log in to view your bookings"})]})})},gt={gspro:{BallSpeed:"ball_speed",LaunchAngle:"launch_angle",VLA:"vla",PeakHeight:"peak_height",ApexHeight:"peak_height",Decent:"descent_angle",Descent:"descent_angle",Spin:"spin_rate",BackSpin:"back_spin",SideSpin:"side_spin",Carry:"carry_distance",TotalDistance:"total_distance",Offline:"side_total",Club:"club",ClubSpeed:"club_speed",HLA:"hla",DistanceToPin:"distance_to_pin",Path:"path",AoA:"aoa",FaceToTarget:"face_to_target",FaceToPath:"face_to_path",Lie:"lie",Loft:"loft",DynamicLoft:"dynamic_loft",SmashFactor:"smash_factor"},rapsodo:{BallSpeed:"ball_speed",LaunchAngle:"launch_angle",VLA:"vla",PeakHeight:"peak_height",ApexHeight:"peak_height",DescentAngle:"descent_angle",SpinRate:"spin_rate",CarryDistance:"carry_distance",TotalDistance:"total_distance",Offline:"side_total",ClubSpeed:"club_speed"},foresight:{BallSpeed:"ball_speed",LaunchAngle:"launch_angle",VLA:"vla",PeakHeight:"peak_height",ApexHeight:"peak_height",DescentAngle:"descent_angle",SpinRate:"spin_rate",CarryDistance:"carry_distance",TotalDistance:"total_distance",Offline:"side_total",ClubSpeed:"club_speed"},trackman:{Ball_Spd:"ball_speed",Launch_Ang:"launch_angle",VLA:"vla",Peak_Height:"peak_height",Apex_Height:"peak_height",Descent_Ang:"descent_angle",Spin:"spin_rate",Carry:"carry_distance",Total:"total_distance",Offline:"side_total",Club_Spd:"club_speed"}},ft=e=>{if(!e)return"Unknown";return{driver:"Driver","1 wood":"Driver","1w":"Driver","3 wood":"3 Wood","3w":"3 Wood","5 wood":"5 Wood","5w":"5 Wood","7 wood":"7 Wood","7w":"7 Wood","2 iron":"2 Iron","2i":"2 Iron","3 iron":"3 Iron","3i":"3 Iron","4 iron":"4 Iron","4i":"4 Iron","5 iron":"5 Iron","5i":"5 Iron","6 iron":"6 Iron","6i":"6 Iron","7 iron":"7 Iron","7i":"7 Iron","8 iron":"8 Iron","8i":"8 Iron","9 iron":"9 Iron","9i":"9 Iron",pw:"Pitching Wedge","pitching wedge":"Pitching Wedge",gw:"Gap Wedge","gap wedge":"Gap Wedge",sw:"Sand Wedge","sand wedge":"Sand Wedge",lw:"Lob Wedge","lob wedge":"Lob Wedge",aw:"Approach Wedge","approach wedge":"Approach Wedge",uw:"Utility Wedge","utility wedge":"Utility Wedge"}[e.toString().toLowerCase().trim()]||e.toString().charAt(0).toUpperCase()+e.toString().slice(1).toLowerCase()},mt=e=>{if(null===e||void 0===e||""===e)return 0;const t=parseFloat(e);return isNaN(t)?0:t},yt=e=>{let{user:n}=e;const[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(!n)return void l(!1);l(!0);const e=((e,t)=>{if(!e)return()=>{};const n=(0,Pe.P)((0,Pe.rJ)(Re.db,"userData"),(0,Pe._M)("uid","==",e.uid),(0,Pe.My)("uploadedAt","desc"));return(0,Pe.aQ)(n,e=>{const n={};e.forEach(e=>{const t=e.data(),r=t.batchId;if(!n[r]){let e;try{e=t.uploadedAt&&"function"===typeof t.uploadedAt.toDate?t.uploadedAt.toDate():t.uploadedAt&&t.uploadedAt.seconds?new Date(1e3*t.uploadedAt.seconds):t.uploadedAt&&!isNaN(Date.parse(t.uploadedAt))?new Date(t.uploadedAt):new Date}catch(i){e=new Date}n[r]={sessionName:t.sessionName||"",notes:t.notes||"No notes",uploadedAt:e,batchId:r,shotCount:0,vendor:t.vendor||"Unknown"}}n[r].shotCount+=1});const r=Object.values(n).sort((e,t)=>t.uploadedAt-e.uploadedAt);t(r)},e=>{console.error("Firestore query error:",e),t([])})})(n,e=>{i(e),l(!1)}),t=setTimeout(()=>{l(!1)},5e3);return()=>{clearTimeout(t),e()}},[n]);const c=async e=>{if(window.confirm("Are you sure you want to delete this session? This cannot be undone.")){s(e);try{await(async(e,t)=>{if(!e||!t)throw new Error("Missing user or batchId");const n=(0,Pe.P)((0,Pe.rJ)(Re.db,"userData"),(0,Pe._M)("uid","==",e.uid),(0,Pe._M)("batchId","==",t)),r=await(0,Pe.GG)(n),i=r.docs.map(e=>(0,Pe.kd)(e.ref));return await Promise.all(i),r.size})(n,e)}catch(t){alert("Failed to delete session. Please try again.")}s(null)}},d={display:"flex",flexDirection:"column",gap:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.body,color:Oe.colors.text.primary},u={textAlign:"center",marginBottom:Oe.spacing.xl},h={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},p={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},g={display:"flex",justifyContent:"center",alignItems:"center",padding:`${Oe.spacing.xl} 0`,color:Oe.colors.text.secondary},f={animation:"spin 1s linear infinite",border:`2px solid ${Oe.colors.border}`,borderTop:`2px solid ${Oe.colors.primary}`,borderRadius:"50%",width:"32px",height:"32px",marginRight:Oe.spacing.md},m={textAlign:"center",padding:`${Oe.spacing.xl} 0`,maxWidth:"800px",margin:"0 auto"},y={fontSize:"72px",marginBottom:Oe.spacing.lg},v={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},x={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xl,lineHeight:Oe.typography.lineHeights.relaxed},b={backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,padding:Oe.spacing.xl,marginBottom:Oe.spacing.xl,border:`1px solid ${Oe.colors.border}`},w={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},S={display:"flex",alignItems:"flex-start",marginBottom:Oe.spacing.lg,gap:Oe.spacing.md},k={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:Oe.typography.fontWeights.bold,fontSize:Oe.typography.fontSizes.sm,flexShrink:0},C={flex:1},j={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.xs},E={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal},_={...E,border:`2px solid ${Oe.colors.warning}`,backgroundColor:`${Oe.colors.warning}10`,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,marginTop:Oe.spacing.sm},T={display:"inline-block",backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,fontWeight:Oe.typography.fontWeights.bold,padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.lg,textDecoration:"none",transition:"all 0.2s ease",border:"none",cursor:"pointer",":hover":{backgroundColor:"#009a47",transform:"translateY(-1px)",boxShadow:Oe.shadows.green}},I={display:"grid",gap:Oe.spacing.lg,gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))"},R={backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,padding:Oe.spacing.lg,border:`1px solid ${Oe.colors.border}`,boxShadow:Oe.shadows.sm},A={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:Oe.spacing.md},P={flex:1},D={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},F={display:"flex",alignItems:"center",gap:Oe.spacing.lg,fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},N={color:Oe.colors.text.secondary,marginTop:Oe.spacing.sm,fontStyle:"italic"},z={display:"flex",gap:Oe.spacing.sm},M={backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,textDecoration:"none",fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.medium,transition:"all 0.2s ease",border:"none",cursor:"pointer",":hover":{backgroundColor:"#009a47"}},O={backgroundColor:Oe.colors.error,color:Oe.colors.text.primary,padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.medium,transition:"all 0.2s ease",border:"none",cursor:"pointer",":hover":{backgroundColor:"#d32f2f"}};return a?(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("div",{style:f}),(0,Fe.jsx)("span",{children:"Loading sessions..."})]}):n?(0,Fe.jsxs)("div",{style:d,children:[(0,Fe.jsxs)("div",{style:u,children:[(0,Fe.jsx)("h2",{style:h,children:"Session History"}),(0,Fe.jsx)("p",{style:p,children:"Review and manage your practice sessions"})]}),0===r.length?(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsx)("div",{style:y,children:"\ud83d\udcca"}),(0,Fe.jsx)("h3",{style:v,children:"No Sessions Yet"}),(0,Fe.jsx)("p",{style:x,children:"Get started by following the directions below to set up your data collection properly. Once you upload your first session, you'll be able to analyze your golf performance data."}),(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsx)("h4",{style:w,children:"\ud83d\udccb Data Collection Setup Guide"}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"1"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Prepare Your Driving Range"}),(0,Fe.jsx)("div",{style:E,children:"Start with a clean driving range setup. If your launch monitor software has been running for a while, perform a refresh or restart to ensure optimal performance. This helps prevent data corruption and ensures accurate readings."})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"2"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Calibrate Your Launch Monitor"}),(0,Fe.jsx)("div",{style:E,children:"Ensure your launch monitor (GSPro, Rapsodo, Foresight, or Trackman) is properly calibrated and positioned according to manufacturer guidelines. Clean the hitting area and verify ball detection."})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"3"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Create a New Session"}),(0,Fe.jsx)("div",{style:E,children:'Create a new session in your launch monitor software. Use descriptive names like "Driver Testing" or "Iron Practice" to help organize your data later.'})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"4"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Configure Data Collection"}),(0,Fe.jsx)("div",{style:E,children:"Enable all relevant metrics: ball speed, carry distance, total distance, spin rate, launch angle, and side dispersion. Ensure consistent club selection for accurate analysis."})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"5"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Accurately Tag Each Club"}),(0,Fe.jsxs)("div",{style:_,children:[(0,Fe.jsx)("strong",{children:"\u26a0\ufe0f CRITICAL STEP:"}),' For each shot, make sure to accurately tag which club you are hitting. This is essential for proper analysis. Use consistent club names (e.g., "Driver", "7 Iron", "Pitching Wedge"). Our system will automatically standardize club names, but accurate tagging is crucial for meaningful results.']})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"6"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Record Your Shots"}),(0,Fe.jsx)("div",{style:E,children:"Take your practice shots, ensuring each shot is properly detected and recorded. Aim for 10-20 shots per club for meaningful analysis. Include warm-up shots in your data. Double-check that each shot has the correct club tag before moving to the next shot."})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"7"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Export Your Session Data"}),(0,Fe.jsx)("div",{style:E,children:"When finished, export your session data as a CSV file from your launch monitor software. Most systems allow export through the session summary or settings menu. Ensure the CSV file includes all shot data with club information."})]})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("div",{style:k,children:"8"}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("div",{style:j,children:"Import Using Our Upload Feature"}),(0,Fe.jsx)("div",{style:E,children:"Use our upload feature to import your CSV file. Select the correct launch monitor vendor, add session details, and upload. Our system will automatically process and standardize your data for comprehensive performance analysis."})]})]})]}),(0,Fe.jsx)(_e,{to:"/upload",style:T,children:"Upload Your First Session"})]}):(0,Fe.jsx)("div",{style:I,children:r.map(e=>{return(0,Fe.jsx)("div",{style:R,children:(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsx)("h3",{style:D,children:e.sessionName||"Untitled Session"}),(0,Fe.jsxs)("div",{style:F,children:[(0,Fe.jsxs)("span",{children:["\ud83d\udcc5 ",(t=e.uploadedAt,new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t))]}),(0,Fe.jsxs)("span",{children:["\ud83c\udfaf ",e.shotCount," shots"]}),(0,Fe.jsxs)("span",{children:["\ud83d\udcf1 ",e.vendor]})]}),e.notes&&"No notes"!==e.notes&&(0,Fe.jsxs)("p",{style:N,children:['"',e.notes,'"']})]}),(0,Fe.jsxs)("div",{style:z,children:[(0,Fe.jsx)(_e,{to:`/session/${e.batchId}`,style:M,children:"View"}),(0,Fe.jsx)("button",{onClick:()=>c(e.batchId),disabled:o===e.batchId,style:{...O,opacity:o===e.batchId?.5:1},children:o===e.batchId?"Deleting...":"Delete"})]})]})},e.batchId);var t})})]}):(0,Fe.jsxs)("div",{style:m,children:[(0,Fe.jsx)("div",{style:y,children:"\ud83d\udd10"}),(0,Fe.jsx)("h3",{style:v,children:"Authentication Required"}),(0,Fe.jsx)("p",{style:x,children:"Please log in to view your session history."}),(0,Fe.jsx)(_e,{to:"/login",style:{display:"inline-block",backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,fontWeight:Oe.typography.fontWeights.bold,padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.lg,textDecoration:"none",marginTop:Oe.spacing.lg,transition:"all 0.2s ease",border:"none",cursor:"pointer",":hover":{backgroundColor:"#009a47",transform:"translateY(-1px)",boxShadow:Oe.shadows.green}},children:"Go to Login"})]})},vt=e=>{let{user:t}=e;const n={minHeight:"100vh",backgroundColor:Oe.colors.background.primary,padding:`${Oe.spacing.xl} 0`,fontFamily:Oe.typography.fontFamily.body,color:Oe.colors.text.primary},r={maxWidth:"1200px",margin:"0 auto",padding:`0 ${Oe.spacing.lg}`};return(0,Fe.jsx)("div",{style:n,children:(0,Fe.jsx)("div",{style:r,children:(0,Fe.jsx)(yt,{user:t})})})};const xt=function(){const[e,n]=(0,t.useState)(null),r={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},i={textAlign:"center",marginBottom:Oe.spacing["2xl"]},o={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},s={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.lg},a={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl,textAlign:"center"},l={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},c={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.body},d={backgroundColor:"rgba(255, 193, 7, 0.1)",border:"1px solid #ffc107",padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,marginBottom:Oe.spacing.xl},u={fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.bold,color:"#856404",marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},h={fontSize:Oe.typography.fontSizes.base,color:"#856404",fontFamily:Oe.typography.fontFamily.body},p={display:"grid",gridTemplateColumns:"2fr 1fr",gap:Oe.spacing.xl},g={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},f={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,height:"fit-content",position:"sticky",top:Oe.spacing.xl},m={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},y={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body},v={listStyle:"none",padding:0,margin:"20px 0"},x={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm,paddingLeft:Oe.spacing.md,position:"relative",fontFamily:Oe.typography.fontFamily.body},b={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},w={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xs,paddingLeft:Oe.spacing.sm,position:"relative",fontFamily:Oe.typography.fontFamily.body},S={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},k={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},C={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},j={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing.lg},E={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,cursor:"pointer",transition:"all 0.2s ease"},_={...E,borderColor:Oe.colors.primary,backgroundColor:"rgba(0, 175, 81, 0.05)"},T={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},I={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},R={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},A={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},P={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},D={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.secondary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},F={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.secondary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},N={display:"inline-block",padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,textDecoration:"none",borderRadius:Oe.borderRadius.md,fontWeight:Oe.typography.fontWeights.semibold,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"all 0.2s ease",marginTop:Oe.spacing.md},z={backgroundColor:"rgba(0, 175, 81, 0.1)",border:`1px solid ${Oe.colors.primary}`,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,textAlign:"center",marginTop:Oe.spacing.xl},M={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},O={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.body};return(0,Fe.jsxs)("div",{style:r,children:[(0,Fe.jsxs)("div",{style:i,children:[(0,Fe.jsx)("h1",{style:o,children:"Mental Performance Coaching"}),(0,Fe.jsx)("p",{style:s,children:"Book Mental Performance Coaching with Coach Yannick (Online and/or In-Person)"})]}),(0,Fe.jsxs)("div",{style:d,children:[(0,Fe.jsx)("div",{style:u,children:"IMPORTANT NOTE:"}),(0,Fe.jsx)("div",{style:h,children:"To begin mental performance sessions, please purchase the INTAKE SESSION FIRST, then purchase the follow-up sessions after completing the intake session."})]}),(0,Fe.jsxs)("div",{style:a,children:[(0,Fe.jsx)("h2",{style:l,children:"Train Your Mind Like You Train Your Swing"}),(0,Fe.jsx)("p",{style:c,children:"Unlock consistency, focus, and resilience on the golf course with customized mental performance coaching from Yannick Artigolle, RYP Golf's Mental Performance Coach. Whether you're struggling to close out rounds, rebound from mistakes, or trust your game under pressure, this is where you train the mindset behind great golf."}),(0,Fe.jsx)("p",{style:c,children:"Yannick combines real tournament experience with cutting-edge mental strategies based in ACT (Acceptance and Commitment Therapy) and sport psychology. These sessions aren't about \"thinking positive\"\u2014they're about performing with confidence and purpose when it matters most."})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsxs)("div",{style:g,children:[(0,Fe.jsx)("h3",{style:m,children:"What You'll Learn"}),(0,Fe.jsxs)("ul",{style:v,children:[(0,Fe.jsx)("li",{style:x,children:"\u2022 Build your reset routine to recover quickly after mistakes"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Strengthen confidence, focus, and composure"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Manage nerves and pressure in tournament environments"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Develop clear routines and decision-making processes"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Learn to transfer your range game to competition"})]}),(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsx)("h3",{style:m,children:"About Coach Yannick"}),(0,Fe.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[(0,Fe.jsx)("li",{style:w,children:"\u2022 Former NCAA Division I Golfer at Northwestern University"}),(0,Fe.jsx)("li",{style:w,children:"\u2022 Master's in Sport, Exercise, and Performance Psychology"}),(0,Fe.jsx)("li",{style:w,children:"\u2022 RYP Golf's Mental Performance Coach"}),(0,Fe.jsx)("li",{style:w,children:"\u2022 Specializes in junior and competitive amateur athletes"}),(0,Fe.jsx)("li",{style:w,children:"\u2022 Uses ACT, CBT, and performance psychology tools"}),(0,Fe.jsx)("li",{style:w,children:"\u2022 Certified Mental Performance Consultant Applicant (CMPC-in-progress)"})]})]}),(0,Fe.jsx)("h3",{style:m,children:"How to Begin"}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("h4",{style:k,children:"Step 1: Book Your Initial Intake Session"}),(0,Fe.jsx)("div",{style:C,children:"Initial Intake (1.5 hours): $250"}),(0,Fe.jsx)("p",{style:y,children:"This foundational session includes:"}),(0,Fe.jsxs)("ul",{style:v,children:[(0,Fe.jsx)("li",{style:x,children:"\u2022 Mental game assessment"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Performance profiling"}),(0,Fe.jsx)("li",{style:x,children:"\u2022 Goal-setting and training plan"})]}),(0,Fe.jsxs)("p",{style:y,children:[(0,Fe.jsx)("strong",{children:"\ud83d\udcac Important:"})," If you decide not to continue coaching, simply notify Coach Yannick within 3 business days after your intake. In that case, the $250 fee will be waived. If you choose to continue with coaching after those 3 days, the fee will be applied and follow-up sessions can be scheduled."]}),(0,Fe.jsx)(_e,{to:"/booking",style:N,children:"Book Intake Session - $250"})]}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("h4",{style:k,children:"Step 2: Choose a Follow-Up Option"}),(0,Fe.jsx)("p",{style:y,children:"Available only after completing the initial intake session. Discounted from the standard rate of $200/hour."}),(0,Fe.jsx)("div",{style:j,children:[{id:"starter",name:"Mental Game Starter",sessions:"2 x 1-hour sessions",price:370,avgRate:185,discount:"7.5%"},{id:"consistent",name:"Consistent Performer",sessions:"5 x 1-hour sessions",price:850,avgRate:170,discount:"15%"},{id:"peak",name:"Peak Performance Pathway",sessions:"9 x 1-hour sessions",price:1350,avgRate:150,discount:"25%"}].map(t=>(0,Fe.jsxs)("div",{style:(null===e||void 0===e?void 0:e.id)===t.id?_:E,onClick:()=>n(t),onMouseEnter:n=>{(null===e||void 0===e?void 0:e.id)!==t.id&&(n.target.style.borderColor=Oe.colors.primary,n.target.style.backgroundColor="rgba(0, 175, 81, 0.02)")},onMouseLeave:n=>{(null===e||void 0===e?void 0:e.id)!==t.id&&(n.target.style.borderColor=Oe.colors.border,n.target.style.backgroundColor=Oe.colors.background.primary)},children:[(0,Fe.jsx)("div",{style:T,children:t.name}),(0,Fe.jsx)("div",{style:I,children:t.sessions}),(0,Fe.jsxs)("div",{style:R,children:["$",t.price]}),(0,Fe.jsxs)("div",{style:A,children:["Avg: $",t.avgRate,"/hour (~",t.discount," discount)"]})]},t.id))}),e&&(0,Fe.jsxs)(_e,{to:"/booking",style:N,children:["Book ",e.name," - $",e.price]})]}),(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsx)("h4",{style:D,children:"Tournament Prep (Optional Add-On)"}),(0,Fe.jsx)("div",{style:F,children:"Tournament Prep: $400"}),(0,Fe.jsx)("p",{style:y,children:"Custom mental game planning for specific tournaments. Let Coach Yannick know about an upcoming tournament in advance, and he'll create a personalized mental game strategy tailored to the course, conditions, and your playing style."}),(0,Fe.jsx)("p",{style:y,children:(0,Fe.jsx)("strong",{children:"What's Included:"})}),(0,Fe.jsxs)("ul",{style:y,children:[(0,Fe.jsx)("li",{children:"Pre-tournament consultation to understand your goals and concerns"}),(0,Fe.jsx)("li",{children:"Custom mental game plan for the specific tournament"}),(0,Fe.jsx)("li",{children:"Course-specific strategy and mental approach"}),(0,Fe.jsx)("li",{children:"Pressure management techniques for tournament conditions"}),(0,Fe.jsx)("li",{children:"Post-tournament review and lessons learned"})]}),(0,Fe.jsx)("p",{style:y,children:(0,Fe.jsx)("em",{children:"Perfect for players preparing for important tournaments, championships, or competitive events."})}),(0,Fe.jsx)(_e,{to:"/booking",style:N,children:"Book Tournament Prep"})]})]}),(0,Fe.jsx)("div",{style:f,children:(0,Fe.jsxs)("div",{style:z,children:[(0,Fe.jsx)("h4",{style:M,children:"Still Unsure?"}),(0,Fe.jsx)("p",{style:O,children:"Schedule a free 30-min informational call with Coach Yannick!"}),(0,Fe.jsx)("p",{style:O,children:"Ask Yannick how personalized mental coaching can transform your game and any other questions you may have."}),(0,Fe.jsx)(_e,{to:"/booking",style:N,children:"Schedule Free Call"})]})})]})]})};var bt=n(173),wt=n(326);const St=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function kt(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=St.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:i}=e,o="string"===typeof t?t:"string"===typeof i&&i.length>0?i:`./${e.name}`;return"string"!==typeof r.path&&Ct(r,"path",o),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Ct(r,"relativePath",o),r}function Ct(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const jt=[".DS_Store","Thumbs.db"];function Et(e){return"object"===typeof e&&null!==e}function _t(e){return e.filter(e=>-1===jt.indexOf(e.name))}function Tt(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function It(e){if("function"!==typeof e.webkitGetAsEntry)return At(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Dt(t):At(e,t)}function Rt(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?Rt(t):[t]],[])}function At(e,t){return(0,wt.sH)(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error(`${e} is not a File`);if(void 0!==t){const e=yield t.getFile();return e.handle=t,kt(e)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return kt(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function Pt(e){return(0,wt.sH)(this,void 0,void 0,function*(){return e.isDirectory?Dt(e):function(e){return(0,wt.sH)(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const r=kt(n,e.fullPath);t(r)},e=>{n(e)})})})}(e)})}function Dt(e){const t=e.createReader();return new Promise((e,n)=>{const r=[];!function i(){t.readEntries(t=>(0,wt.sH)(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(Pt));r.push(e),i()}else try{const t=yield Promise.all(r);e(t)}catch(o){n(o)}}),e=>{n(e)})}()})}var Ft=n(628);function Nt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach(function(t){Ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||Bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){if(e){if("string"===typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t="function"===typeof Ft?Ft:Ft.default,Wt="file-invalid-type",Vt="file-too-large",Ht="file-too-small",qt="too-many-files",Gt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Wt,message:"File type must be ".concat(t)}},Kt=function(e){return{code:Vt,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Yt=function(e){return{code:Ht,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Qt={code:qt,message:"Too many files"};function Jt(e,t){var n="application/x-moz-file"===e.type||$t(e,t);return[n,n?null:Gt(t)]}function Xt(e,t,n){if(Zt(e.size))if(Zt(t)&&Zt(n)){if(e.size>n)return[!1,Kt(n)];if(e.size<t)return[!1,Yt(t)]}else{if(Zt(t)&&e.size<t)return[!1,Yt(t)];if(Zt(n)&&e.size>n)return[!1,Kt(n)]}return[!0,null]}function Zt(e){return void 0!==e&&null!==e}function en(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function tn(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function nn(e){e.preventDefault()}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some(function(t){return!en(e)&&t&&t.apply(void 0,[e].concat(r)),en(e)})}}function on(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function sn(e){return/^.*\.[\w]+$/.test(e)}var an=["children"],ln=["open"],cn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],dn=["refKey","onChange","onClick"];function un(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"===typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach(function(t){yn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xn=(0,t.forwardRef)(function(e,n){var r=e.children,i=Sn(vn(e,an)),o=i.open,s=vn(i,ln);return(0,t.useImperativeHandle)(n,function(){return{open:o}},[o]),t.createElement(t.Fragment,null,r(mn(mn({},s),{},{open:o})))});xn.displayName="Dropzone";var bn={disabled:!1,getFilesFromEvent:function(e){return(0,wt.sH)(this,void 0,void 0,function*(){return Et(e)&&Et(e.dataTransfer)?function(e,t){return(0,wt.sH)(this,void 0,void 0,function*(){if(e.items){const n=Tt(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return _t(Rt(yield Promise.all(n.map(It))))}return _t(Tt(e.files).map(e=>kt(e)))})}(e.dataTransfer,e.type):function(e){return Et(e)&&Et(e.target)}(e)?function(e){return Tt(e.target.files).map(e=>kt(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return(0,wt.sH)(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>kt(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};xn.defaultProps=bn,xn.propTypes={children:bt.func,accept:bt.objectOf(bt.arrayOf(bt.string)),multiple:bt.bool,preventDropOnDocument:bt.bool,noClick:bt.bool,noKeyboard:bt.bool,noDrag:bt.bool,noDragEventsBubbling:bt.bool,minSize:bt.number,maxSize:bt.number,maxFiles:bt.number,disabled:bt.bool,getFilesFromEvent:bt.func,onFileDialogCancel:bt.func,onFileDialogOpen:bt.func,useFsAccessApi:bt.bool,autoFocus:bt.bool,onDragEnter:bt.func,onDragLeave:bt.func,onDragOver:bt.func,onDrop:bt.func,onDropAccepted:bt.func,onDropRejected:bt.func,onError:bt.func,validator:bt.func};var wn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=mn(mn({},bn),e),r=n.accept,i=n.disabled,o=n.getFilesFromEvent,s=n.maxSize,a=n.minSize,l=n.multiple,c=n.maxFiles,d=n.onDragEnter,u=n.onDragLeave,h=n.onDragOver,p=n.onDrop,g=n.onDropAccepted,f=n.onDropRejected,m=n.onFileDialogCancel,y=n.onFileDialogOpen,v=n.useFsAccessApi,x=n.autoFocus,b=n.preventDropOnDocument,w=n.noClick,S=n.noKeyboard,k=n.noDrag,C=n.noDragEventsBubbling,j=n.onError,E=n.validator,_=(0,t.useMemo)(function(){return function(e){if(Zt(e))return Object.entries(e).reduce(function(e,t){var n=Lt(t,2),r=n[0],i=n[1];return[].concat(Nt(e),[r],Nt(i))},[]).filter(function(e){return on(e)||sn(e)}).join(",")}(r)},[r]),T=(0,t.useMemo)(function(){return function(e){return Zt(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=Lt(e,2),n=t[0],r=t[1],i=!0;return on(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(sn)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(e,t){var n=Lt(t,2),r=n[0],i=n[1];return Mt(Mt({},e),{},Ot({},r,i))},{})}]:e}(r)},[r]),I=(0,t.useMemo)(function(){return"function"===typeof y?y:Cn},[y]),R=(0,t.useMemo)(function(){return"function"===typeof m?m:Cn},[m]),A=(0,t.useRef)(null),P=(0,t.useRef)(null),D=hn((0,t.useReducer)(kn,wn),2),F=D[0],N=D[1],z=F.isFocused,M=F.isFileDialogActive,O=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&v&&"showOpenFilePicker"in window),L=function(){!O.current&&M&&setTimeout(function(){P.current&&(P.current.files.length||(N({type:"closeDialog"}),R()))},300)};(0,t.useEffect)(function(){return window.addEventListener("focus",L,!1),function(){window.removeEventListener("focus",L,!1)}},[P,M,R,O]);var B=(0,t.useRef)([]),U=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,t.useEffect)(function(){return b&&(document.addEventListener("dragover",nn,!1),document.addEventListener("drop",U,!1)),function(){b&&(document.removeEventListener("dragover",nn),document.removeEventListener("drop",U))}},[A,b]),(0,t.useEffect)(function(){return!i&&x&&A.current&&A.current.focus(),function(){}},[A,x,i]);var $=(0,t.useCallback)(function(e){j?j(e):console.error(e)},[j]),W=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[].concat(un(B.current),[e.target]),tn(e)&&Promise.resolve(o(e)).then(function(t){if(!en(e)||C){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every(function(e){var t=Lt(Jt(e,n),1)[0],o=Lt(Xt(e,r,i),1)[0],s=a?a(e):null;return t&&o&&!s})}({files:t,accept:_,minSize:a,maxSize:s,multiple:l,maxFiles:c,validator:E});N({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}}).catch(function(e){return $(e)})},[o,d,$,C,_,a,s,l,c,E]),V=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=tn(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1},[h,C]),H=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=B.current.filter(function(e){return A.current&&A.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),tn(e)&&u&&u(e))},[A,u,C]),q=(0,t.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=hn(Jt(e,_),2),i=t[0],o=t[1],l=hn(Xt(e,a,s),2),c=l[0],d=l[1],u=E?E(e):null;if(i&&c&&!u)n.push(e);else{var h=[o,d];u&&(h=h.concat(u)),r.push({file:e,errors:h.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){r.push({file:e,errors:[Qt]})}),n.splice(0)),N({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&f&&f(r,t),n.length>0&&g&&g(n,t)},[N,l,_,a,s,c,p,g,f,E]),G=(0,t.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[],tn(e)&&Promise.resolve(o(e)).then(function(t){en(e)&&!C||q(t,e)}).catch(function(e){return $(e)}),N({type:"reset"})},[o,q,$,C]),K=(0,t.useCallback)(function(){if(O.current){N({type:"openDialog"}),I();var e={multiple:l,types:T};window.showOpenFilePicker(e).then(function(e){return o(e)}).then(function(e){q(e,null),N({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(R(e),N({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?$(e):(O.current=!1,P.current?(P.current.value=null,P.current.click()):$(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else P.current&&(N({type:"openDialog"}),I(),P.current.value=null,P.current.click())},[N,I,R,v,q,$,T,l]),Y=(0,t.useCallback)(function(e){A.current&&A.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))},[A,K]),Q=(0,t.useCallback)(function(){N({type:"focus"})},[]),J=(0,t.useCallback)(function(){N({type:"blur"})},[]),X=(0,t.useCallback)(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?K():setTimeout(K,0))},[w,K]),Z=function(e){return i?null:e},ee=function(e){return S?null:Z(e)},te=function(e){return k?null:Z(e)},ne=function(e){C&&e.stopPropagation()},re=(0,t.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,h=e.onDrop,p=vn(e,cn);return mn(mn(yn({onKeyDown:ee(rn(o,Y)),onFocus:ee(rn(s,Q)),onBlur:ee(rn(a,J)),onClick:Z(rn(l,X)),onDragEnter:te(rn(c,W)),onDragOver:te(rn(d,V)),onDragLeave:te(rn(u,H)),onDrop:te(rn(h,G)),role:"string"===typeof r&&""!==r?r:"presentation"},n,A),i||S?{}:{tabIndex:0}),p)}},[A,Y,Q,J,X,W,V,H,G,S,k,i]),ie=(0,t.useCallback)(function(e){e.stopPropagation()},[]),oe=(0,t.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=vn(e,dn);return mn(mn({},yn({accept:_,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(rn(r,G)),onClick:Z(rn(i,ie)),tabIndex:-1},n,P)),o)}},[P,r,l,G,i]);return mn(mn({},F),{},{isFocused:z&&!i,getRootProps:re,getInputProps:oe,rootRef:A,inputRef:P,open:Z(K)})}function kn(e,t){switch(t.type){case"focus":return mn(mn({},e),{},{isFocused:!0});case"blur":return mn(mn({},e),{},{isFocused:!1});case"openDialog":return mn(mn({},wn),{},{isFileDialogActive:!0});case"closeDialog":return mn(mn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return mn(mn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return mn(mn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return mn({},wn);default:return e}}function Cn(){}var jn=n(766),En=n.n(jn);const _n=e=>{let{user:n,onUploadComplete:r}=e;const[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(0),[h,p]=(0,t.useState)([]),[g,f]=(0,t.useState)(!1),[m,y]=(0,t.useState)(""),[v,x]=(0,t.useState)(0),{getRootProps:b,getInputProps:w,isDragActive:S}=Sn({onDrop:e=>{if(!e||0===e.length)return void y("No file selected");const t=e[0];t&&i?En().parse(t,{header:!0,skipEmptyLines:!0,error:e=>{console.error("CSV parsing error:",e),y(`\u274c Error parsing CSV file: ${e.message}`)},complete:async e=>{const t=e.data;if(!t||0===t.length)return void y("\u274c CSV file appears to be empty or has no valid data.");if(!t[0]||0===Object.keys(t[0]).length)return void y("\u274c CSV file has no valid headers or data structure.");const o=Object.keys(t[0]),a=gt[i],c=Object.keys(a);if(0!==c.filter(e=>o.includes(e)).length){y(""),f(!0);try{const e=await(async(e,t,n,r,i,o)=>{const s=gt[t];if(!s)throw new Error(`Unsupported vendor: ${t}`);const a=`batch_${Date.now()}`,l=new Date,c=[];return e.forEach((e,d)=>{const u={};for(const[t,n]of Object.entries(s))void 0!==e[t]&&(u[n]=e[t]);let h=e.club||e.Club||e.CLUB||"";if(h=ft(h),["ball_speed","club_speed","vla","peak_height","descent_angle","spin_rate","carry_distance","side_total","total_distance"].forEach(e=>{void 0!==u[e]&&(u[e]=mt(u[e]))}),void 0!==u.peak_height&&"gspro"===t){const e=mt(u.peak_height);u.peak_height=3*e}void 0===u.spin_rate&&(void 0!==e.TotalSpin?u.spin_rate=mt(e.TotalSpin):void 0!==e.BackSpin?u.spin_rate=mt(e.BackSpin):void 0!==e.SpinRate?u.spin_rate=mt(e.SpinRate):void 0!==e.Spin&&(u.spin_rate=mt(e.Spin)));const p={...u,batchId:a,uploadedAt:l,sessionName:n,notes:r,elevation:i,club:h,uid:null===o||void 0===o?void 0:o.uid,vendor:t,rowIndex:d};c.push(p)}),c})(t,i,s,l,d,n);p(e),await(async(e,t)=>{if(!e||0===e.length)throw new Error("No data to upload");const n=(0,Pe.rJ)(Re.db,"userData"),r=["club","carry_distance"];if(e.some(e=>r.some(t=>!e[t]&&0!==e[t])))throw new Error("Some rows are missing required fields (club, carry_distance)");for(let i=0;i<e.length;i++)await(0,Pe.gS)(n,e[i]),t&&t((i+1)/e.length*100);return e.length})(e,x),r?r(e):alert(`Upload complete! ${e.length} rows saved.`)}catch(u){console.error("\u274c Upload failed:",u),y(`Upload failed: ${u.message}`),alert(`Upload failed: ${u.message}`)}finally{f(!1),x(0)}}else y(`\u274c Your CSV doesn't match the expected format for "${i}". \nMake sure the file uses column headers like: ${c.join(", ")}`)}}):alert("Please select a vendor and drop a CSV file.")},accept:".csv"}),k={display:"flex",flexDirection:"column",gap:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,color:Oe.colors.text.primary},C={textAlign:"center",marginBottom:Oe.spacing.xl},j={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.headline},E={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},_={display:"flex",flexDirection:"column",gap:Oe.spacing.lg},T={display:"flex",flexDirection:"column",gap:Oe.spacing.sm},I={fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.medium,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.body},R={width:"100%",padding:`${Oe.spacing.md} ${Oe.spacing.lg}`,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,outline:"none",transition:"all 0.2s ease",":focus":{borderColor:Oe.colors.primary,boxShadow:`0 0 0 2px ${Oe.colors.primary}20`}},A={...R,resize:"none",minHeight:"80px"},P={border:`2px dashed ${S?Oe.colors.primary:Oe.colors.border}`,textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,backgroundColor:S?`${Oe.colors.primary}10`:Oe.colors.background.secondary,":hover":{borderColor:Oe.colors.primary,backgroundColor:`${Oe.colors.primary}10`}},D={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,boxShadow:Oe.shadows.md,border:`1px solid ${Oe.colors.border}`},F={width:"100%",height:"8px",backgroundColor:Oe.colors.border,borderRadius:"4px",overflow:"hidden"},N={height:"100%",backgroundColor:Oe.colors.primary,borderRadius:"4px",transition:"width 0.3s ease-out",width:`${v}%`},z={backgroundColor:`${Oe.colors.error}20`,border:`1px solid ${Oe.colors.error}`,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md},M={color:Oe.colors.error,fontSize:Oe.typography.fontSizes.sm,whiteSpace:"pre-line"},O={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},L={color:Oe.colors.success,fontWeight:Oe.typography.fontWeights.bold,marginBottom:Oe.spacing.md},B={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,color:Oe.colors.success,overflowX:"auto",fontSize:Oe.typography.fontSizes.xs,border:`1px solid ${Oe.colors.border}`,fontFamily:"monospace"},U={color:Oe.colors.primary,marginLeft:Oe.spacing.xs},$={animation:"spin 1s linear infinite",border:`2px solid ${Oe.colors.border}`,borderTop:`2px solid ${Oe.colors.primary}`,borderRadius:"50%",width:"24px",height:"24px"};return(0,Fe.jsxs)("div",{style:k,children:[(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Upload Your CSV"}),(0,Fe.jsx)("p",{style:E,children:"Select your launch monitor and upload your session data"})]}),(0,Fe.jsxs)("div",{style:_,children:[(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsxs)("label",{style:I,children:["Select Launch Monitor: ",(0,Fe.jsx)("span",{style:U,children:"\u24d8"})]}),(0,Fe.jsxs)("select",{value:i,onChange:e=>o(e.target.value),style:R,children:[(0,Fe.jsx)("option",{value:"",children:"-- Choose Launch Monitor --"}),(0,Fe.jsx)("option",{value:"rapsodo",children:"Rapsodo"}),(0,Fe.jsx)("option",{value:"gspro",children:"GSPro"}),(0,Fe.jsx)("option",{value:"foresight",children:"Foresight"}),(0,Fe.jsx)("option",{value:"trackman",children:"Trackman"})]})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsxs)("label",{style:I,children:["Session Name: ",(0,Fe.jsx)("span",{style:U,children:"\u24d8"})]}),(0,Fe.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"e.g., Morning Range Session, Driver Testing, Course Practice...",style:R})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsxs)("label",{style:I,children:["Session Notes: ",(0,Fe.jsx)("span",{style:U,children:"\u24d8"})]}),(0,Fe.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"e.g., Outdoor session, testing new driver shaft, windy conditions...",style:A,rows:"3"})]}),(0,Fe.jsxs)("div",{style:T,children:[(0,Fe.jsxs)("label",{style:I,children:["Elevation (feet): ",(0,Fe.jsx)("span",{style:U,children:"\u24d8"})]}),(0,Fe.jsx)("input",{type:"number",value:d,onChange:e=>u(parseFloat(e.target.value)||0),placeholder:"0",style:R})]}),(0,Fe.jsxs)("div",{...b(),style:P,children:[(0,Fe.jsx)("input",{...w()}),(0,Fe.jsx)("div",{style:{fontSize:"48px",marginBottom:Oe.spacing.md},children:"\ud83d\udcc1"}),(0,Fe.jsx)("p",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.medium,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},children:S?"Drop the file here...":"Drag and drop a .csv file here"}),(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary},children:"or click to select a file"}),(0,Fe.jsx)("p",{style:{fontSize:Oe.typography.fontSizes.xs,color:Oe.colors.text.secondary,marginTop:Oe.spacing.sm},children:"\u24d8 Hover for more info"})]}),g&&(0,Fe.jsxs)("div",{style:D,children:[(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:Oe.spacing.md,marginBottom:Oe.spacing.md},children:[(0,Fe.jsx)("div",{style:$}),(0,Fe.jsx)("p",{style:{color:Oe.colors.primary,fontWeight:Oe.typography.fontWeights.medium},children:"Uploading to database..."})]}),(0,Fe.jsx)("div",{style:F,children:(0,Fe.jsx)("div",{style:N})}),(0,Fe.jsxs)("p",{style:{textAlign:"center",fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginTop:Oe.spacing.sm},children:[Math.round(v),"% complete"]})]}),m&&(0,Fe.jsx)("div",{style:z,children:(0,Fe.jsx)("p",{style:M,children:m})}),h.length>0&&(0,Fe.jsx)("div",{style:O,children:(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes.sm},children:[(0,Fe.jsx)("strong",{style:L,children:"Sample Output:"}),(0,Fe.jsxs)("pre",{style:B,children:[JSON.stringify(h.slice(0,3),null,2),"..."]})]})})]})]})},Tn=e=>{let{user:t}=e;const n={minHeight:"100vh",backgroundColor:Oe.colors.background.primary,padding:`${Oe.spacing.xl} 0`,fontFamily:Oe.typography.fontFamily.body,color:Oe.colors.text.primary},r={maxWidth:"1200px",margin:"0 auto",padding:`0 ${Oe.spacing.lg}`},i={backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,boxShadow:Oe.shadows.md,padding:Oe.spacing.xl,border:`1px solid ${Oe.colors.border}`};return(0,Fe.jsx)("div",{style:n,children:(0,Fe.jsx)("div",{style:r,children:(0,Fe.jsx)("div",{style:i,children:(0,Fe.jsx)(_n,{user:t,onUploadComplete:e=>{console.log("Upload completed:",e.length,"shots uploaded")}})})})})};const In=function(){const[e,n]=(0,t.useState)("+1 (555) 123-4567"),[r,i]=(0,t.useState)("YES"),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),c={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},d={textAlign:"center",marginBottom:Oe.spacing["2xl"]},u={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline,letterSpacing:"0.05em"},h={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body},p={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl},g={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,fontFamily:Oe.typography.fontFamily.headline},f={marginBottom:Oe.spacing.lg},m={display:"block",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm,fontFamily:Oe.typography.fontFamily.body},y={...{width:"100%",padding:Oe.spacing.md,backgroundColor:Oe.colors.background.primary,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,color:Oe.colors.text.primary,fontSize:Oe.typography.fontSizes.base,fontFamily:Oe.typography.fontFamily.body,transition:"border-color 0.2s ease",":focus":{outline:"none",borderColor:Oe.colors.primary}},cursor:"pointer"},v={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,fontFamily:Oe.typography.fontFamily.body,cursor:a?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:a?.7:1,":hover":{backgroundColor:a?Oe.colors.primary:"#009a47",boxShadow:a?"none":Oe.shadows.green,transform:a?"none":"translateY(-1px)"}},x={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},b={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.md},w={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.sm},S={fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,fontFamily:Oe.typography.fontFamily.headline},k={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body},C={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,fontFamily:Oe.typography.fontFamily.body,lineHeight:Oe.typography.lineHeights.normal},j={color:Oe.colors.success,fontWeight:Oe.typography.fontWeights.semibold},E={color:Oe.colors.error,fontWeight:Oe.typography.fontWeights.semibold},_={backgroundColor:"rgba(0, 175, 81, 0.1)",padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.primary}`,marginBottom:Oe.spacing.xl},T={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},I={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary,lineHeight:Oe.typography.lineHeights.normal,fontFamily:Oe.typography.fontFamily.body,marginBottom:Oe.spacing.sm};return(0,Fe.jsxs)("div",{style:c,children:[(0,Fe.jsxs)("div",{style:d,children:[(0,Fe.jsx)("h1",{style:u,children:"SMS Response Testing"}),(0,Fe.jsx)("p",{style:h,children:"Test the automated SMS response handling system for waitlist notifications"})]}),(0,Fe.jsxs)("div",{style:_,children:[(0,Fe.jsx)("h3",{style:T,children:"\ud83d\udcf1 SMS Response System"}),(0,Fe.jsxs)("p",{style:I,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Accept Responses:"})," YES, Y, ACCEPT, OK, SURE, CONFIRM"]}),(0,Fe.jsxs)("p",{style:I,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Decline Responses:"})," NO, N, DECLINE, REJECT, CANCEL, PASS"]}),(0,Fe.jsxs)("p",{style:I,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Invalid Responses:"})," Any other message will receive an error response"]}),(0,Fe.jsxs)("p",{style:I,children:["\u2022 ",(0,Fe.jsx)("strong",{children:"Confirmation:"})," Users receive confirmation SMS after responding"]})]}),(0,Fe.jsxs)("div",{style:p,children:[(0,Fe.jsx)("h3",{style:g,children:"Test SMS Response"}),(0,Fe.jsxs)("div",{style:f,children:[(0,Fe.jsx)("label",{style:m,children:"Phone Number"}),(0,Fe.jsx)("select",{value:e,onChange:e=>n(e.target.value),style:y,children:[{value:"+1 (555) 123-4567",label:"John Smith (user-1)"},{value:"+1 (555) 234-5678",label:"Sarah Johnson (user-2)"},{value:"+1 (555) 456-7890",label:"Lisa Chen (user-4)"},{value:"+1 (555) 999-9999",label:"Unknown User"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{style:f,children:[(0,Fe.jsx)("label",{style:m,children:"Response Message"}),(0,Fe.jsx)("select",{value:r,onChange:e=>i(e.target.value),style:y,children:[{value:"YES",label:"YES (Accept)"},{value:"Y",label:"Y (Accept)"},{value:"NO",label:"NO (Decline)"},{value:"N",label:"N (Decline)"},{value:"ACCEPT",label:"ACCEPT"},{value:"DECLINE",label:"DECLINE"},{value:"MAYBE",label:"MAYBE (Invalid)"},{value:"HELLO",label:"HELLO (Invalid)"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsx)("button",{style:v,onClick:async()=>{l(!0);try{const t=await st.testSMSResponse(e,r);s(n=>[{timestamp:(new Date).toISOString(),phone:e,message:r,result:t},...n])}catch(t){console.error("Test failed:",t),s(n=>[{timestamp:(new Date).toISOString(),phone:e,message:r,error:t.message},...n])}finally{l(!1)}},disabled:a,onMouseEnter:e=>{a||(e.target.style.backgroundColor="#009a47",e.target.style.boxShadow=Oe.shadows.green,e.target.style.transform="translateY(-1px)")},onMouseLeave:e=>{a||(e.target.style.backgroundColor=Oe.colors.primary,e.target.style.boxShadow="none",e.target.style.transform="translateY(0)")},children:a?"Processing...":"Test SMS Response"})]}),(0,Fe.jsxs)("div",{style:x,children:[(0,Fe.jsx)("h3",{style:g,children:"Test Results"}),0===o.length?(0,Fe.jsx)("p",{style:{color:Oe.colors.text.secondary,textAlign:"center"},children:"No tests run yet. Use the form above to test SMS responses."}):o.map((e,t)=>(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsxs)("div",{style:w,children:[(0,Fe.jsx)("div",{style:S,children:e.error?(0,Fe.jsx)("span",{style:E,children:"\u274c Test Failed"}):(0,Fe.jsx)("span",{style:j,children:"\u2705 Test Successful"})}),(0,Fe.jsx)("div",{style:k,children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Phone:"})," ",e.phone]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Message:"}),' "',e.message,'"']}),e.error?(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("strong",{children:"Error:"})," ",e.error]}):(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Response Type:"})," ",e.result.responseType]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"Session ID:"})," ",e.result.sessionId]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:"User ID:"})," ",e.result.userId]})]})]})]},t))]})]})};const Rn=function(){const{userRole:e}=ze(),t={maxWidth:"600px",margin:"0 auto",padding:Oe.spacing.xl,textAlign:"center",fontFamily:Oe.typography.fontFamily.body,minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},n={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing["2xl"],borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,boxShadow:Oe.shadows.lg},r={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.error,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},i={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.xl,lineHeight:Oe.typography.lineHeights.normal},o={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.xl},s={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},a={display:"inline-block",padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,textDecoration:"none",borderRadius:Oe.borderRadius.md,fontWeight:Oe.typography.fontWeights.semibold,transition:"all 0.2s ease",":hover":{backgroundColor:"#009a47",transform:"translateY(-1px)"}};return(0,Fe.jsx)("div",{style:t,children:(0,Fe.jsxs)("div",{style:n,children:[(0,Fe.jsx)("h1",{style:r,children:"Access Denied"}),(0,Fe.jsx)("p",{style:i,children:"You don't have permission to access this page. Please contact an administrator if you believe this is an error."}),(0,Fe.jsxs)("div",{style:o,children:[(0,Fe.jsxs)("p",{style:s,children:[(0,Fe.jsx)("strong",{children:"Current Role:"})," ",e||"Unknown"]}),(0,Fe.jsxs)("p",{style:s,children:[(0,Fe.jsx)("strong",{children:"Your Access:"})," ",(e=>{switch(e){case"student":return"You have access to book sessions, view your progress, and manage your training schedule.";case"coach":return"You have access to manage students, create sessions, and view coaching analytics.";case"admin":return"You have full system access including user management and system analytics.";default:return"You have basic access to the platform."}})(e)]})]}),(0,Fe.jsx)(_e,{to:"/dashboard",style:a,children:"Return to Dashboard"})]})})},An=e=>{let{isOpen:n,onComplete:r,onClose:i}=e;const[o,s]=(0,t.useState)(1),[a,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,g]=(0,t.useState)({badMissLeft:0,goodMissLeft:0,fairwayHit:0,goodMissRight:0,badMissRight:0}),[f,m]=(0,t.useState)(null),[y,v]=(0,t.useState)(!1),x={men:{310:5,305:4,300:3,295:2,290:1,285:0,280:1,275:2,270:3,265:4,260:5,255:6,250:7,245:8,240:9,235:10,230:11,225:12,222:13,220:14,218:15,210:20,200:25},women:{260:5,255:4,250:3,245:2,240:1,235:0,232:1,230:2,227:3,225:4,222:5,220:6,218:7,215:8,212:9,210:10,208:11,205:12,202:13,200:14,198:15,188:20,178:25}},b={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:n?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:Oe.spacing.lg},w={backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.lg,padding:Oe.spacing.xl,maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:Oe.shadows.xl,border:`1px solid ${Oe.colors.border}`},S={textAlign:"center",marginBottom:Oe.spacing.xl},k={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},C={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},j={marginBottom:Oe.spacing.xl},E={marginBottom:Oe.spacing.lg},_={display:"block",fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.sm},T={width:"100%",padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary},I={...T,cursor:"pointer"},R={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",marginRight:Oe.spacing.md,marginBottom:Oe.spacing.md},A={...R,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`},P={display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:Oe.spacing.md,marginBottom:Oe.spacing.xl},D={padding:Oe.spacing.md,border:`2px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:Oe.colors.background.secondary},F={...D,borderColor:Oe.colors.primary,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},N={...D,opacity:.5,cursor:"not-allowed",backgroundColor:Oe.colors.background.primary},z={textAlign:"center",padding:Oe.spacing.xl,backgroundColor:Oe.colors.background.secondary,borderRadius:Oe.borderRadius.lg,marginBottom:Oe.spacing.xl},M={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.md},O=e=>{Object.values(p).reduce((e,t)=>e+t,0)>=20||g(t=>({...t,[e]:t[e]+1}))},L=Object.values(p).reduce((e,t)=>e+t,0);return n?(0,Fe.jsx)("div",{style:b,children:(0,Fe.jsxs)("div",{style:w,children:[(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsx)("h1",{style:k,children:"RYP Driving Index\u2122 Test"}),(0,Fe.jsx)("p",{style:C,children:"Complete this 20-shot test to get your personalized driving index"})]}),1===o&&(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Step 1: Determine Your Baseline Handicap"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Gender:"}),(0,Fe.jsxs)("select",{style:I,value:u,onChange:e=>h(e.target.value),children:[(0,Fe.jsx)("option",{value:"",children:"Select gender"}),(0,Fe.jsx)("option",{value:"men",children:"Men"}),(0,Fe.jsx)("option",{value:"women",children:"Women"})]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Average Driving Distance (yards):"}),(0,Fe.jsx)("input",{type:"number",style:T,value:c,onChange:e=>d(e.target.value),placeholder:"Enter your average drive distance",min:"150",max:"350"})]}),(0,Fe.jsx)("button",{style:R,onClick:()=>{if(c&&u){const e=((e,t)=>{const n=x[t],r=Object.keys(n).map(Number).sort((e,t)=>t-e);for(let i of r)if(e>=i)return n[i];return 25})(parseInt(c),u);l(e),s(2)}},disabled:!c||!u,children:"Continue to Test Setup"})]}),2===o&&!y&&(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Step 2: Set Up Your Test Area"}),(0,Fe.jsxs)("div",{style:{marginBottom:Oe.spacing.lg},children:[(0,Fe.jsx)("p",{style:{marginBottom:Oe.spacing.md},children:(0,Fe.jsx)("strong",{children:"Setup Instructions:"})}),(0,Fe.jsxs)("ol",{style:{paddingLeft:Oe.spacing.lg},children:[(0,Fe.jsx)("li",{children:"Define your target fairway: Pick two landmarks downrange about 30 yards apart"}),(0,Fe.jsx)("li",{children:'Define your "Bad Miss" zones: Identify landmarks well outside your fairway (approx. 15 yards from the edge)'}),(0,Fe.jsx)("li",{children:"Hit 20 drives and categorize each shot using the grid below"})]})]}),(0,Fe.jsx)("div",{style:{marginBottom:Oe.spacing.lg},children:(0,Fe.jsxs)("p",{style:{textAlign:"center",fontWeight:"bold",marginBottom:Oe.spacing.md},children:["Shots Completed: ",L,"/20"]})}),(0,Fe.jsxs)("div",{style:P,children:[(0,Fe.jsxs)("div",{style:p.badMissLeft>0?F:L>=20?N:D,onClick:()=>O("badMissLeft"),children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.sm},children:"Bad Miss Left"}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.xl},children:p.badMissLeft}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Penalty Shot"})]}),(0,Fe.jsxs)("div",{style:p.goodMissLeft>0?F:L>=20?N:D,onClick:()=>O("goodMissLeft"),children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.sm},children:"Good Miss Left"}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.xl},children:p.goodMissLeft}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Playable"})]}),(0,Fe.jsxs)("div",{style:p.fairwayHit>0?F:L>=20?N:D,onClick:()=>O("fairwayHit"),children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.sm},children:"Fairway Hit"}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.xl},children:p.fairwayHit}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Success"})]}),(0,Fe.jsxs)("div",{style:p.goodMissRight>0?F:L>=20?N:D,onClick:()=>O("goodMissRight"),children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.sm},children:"Good Miss Right"}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.xl},children:p.goodMissRight}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Playable"})]}),(0,Fe.jsxs)("div",{style:p.badMissRight>0?F:L>=20?N:D,onClick:()=>O("badMissRight"),children:[(0,Fe.jsx)("div",{style:{fontWeight:"bold",marginBottom:Oe.spacing.sm},children:"Bad Miss Right"}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.xl},children:p.badMissRight}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:"Penalty Shot"})]})]}),(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("button",{style:A,onClick:()=>{if(Object.values(p).reduce((e,t)=>e+t,0)>0){const e=["badMissLeft","goodMissLeft","fairwayHit","goodMissRight","badMissRight"];for(let t=e.length-1;t>=0;t--){const n=e[t];if(p[n]>0){g(e=>({...e,[n]:e[n]-1}));break}}}},disabled:0===L,children:"Undo Last Shot"}),(0,Fe.jsx)("button",{style:R,onClick:()=>{if(20===Object.values(p).reduce((e,t)=>e+t,0)){const e=(()=>{const e=p.fairwayHit,t=p.badMissLeft+p.badMissRight,n=a+(a-(e-t));let r=n;return n<0&&(r=Math.abs(n)),r})();m(e),v(!0)}},disabled:20!==L,children:"Complete Test"})]})]}),y&&(0,Fe.jsxs)("div",{style:j,children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Your RYP Driving Index\u2122 Results"}),(0,Fe.jsxs)("div",{style:z,children:[(0,Fe.jsx)("div",{style:M,children:f}),(0,Fe.jsx)("p",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md},children:"Your RYP Driving Index\u2122 Score"}),(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary},children:["Baseline Handicap: ",a," | Fairway Hits: ",p.fairwayHit," | Bad Misses: ",p.badMissLeft+p.badMissRight]})]}),(0,Fe.jsx)("div",{style:{textAlign:"center"},children:(0,Fe.jsx)("button",{style:R,onClick:()=>{r({baselineHandicap:a,averageDrive:parseInt(c),gender:u,testResults:p,finalScore:f})},children:"Complete Setup & Go to Dashboard"})})]})]})}):null};const Pn=function(){const{user:e,loading:n,setupData:r}=ze(),i=ee(),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{n||e||i("/login")},[e,n,i]),(0,t.useEffect)(()=>{r&&r.rypTestResults&&d(r.rypTestResults)},[r]);const u={maxWidth:"1200px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},h={textAlign:"center",marginBottom:Oe.spacing["2xl"]},p={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},g={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},f={padding:`${Oe.spacing.md} ${Oe.spacing.xl}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",marginRight:Oe.spacing.md,marginBottom:Oe.spacing.md},m={...f,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.primary,border:`1px solid ${Oe.colors.border}`},y={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.lg,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.lg},v={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:Oe.spacing.lg,marginBottom:Oe.spacing.xl},x={backgroundColor:Oe.colors.background.primary,padding:Oe.spacing.md,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`,marginBottom:Oe.spacing.sm},b={fontSize:Oe.typography.fontSizes["2xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.primary,marginBottom:Oe.spacing.sm},w={fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.sm},S={fontSize:Oe.typography.fontSizes.base,color:Oe.colors.text.secondary};return n?(0,Fe.jsxs)("div",{style:u,children:[(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing["2xl"]},children:[(0,Fe.jsx)("div",{style:{width:"40px",height:"40px",border:`4px solid ${Oe.colors.border}`,borderTop:`4px solid ${Oe.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,Fe.jsx)("p",{children:"Loading..."})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):e?(0,Fe.jsxs)("div",{style:u,children:[(0,Fe.jsxs)("div",{style:h,children:[(0,Fe.jsx)("h1",{style:p,children:"RYP Driving Index\u2122 Test"}),(0,Fe.jsx)("p",{style:g,children:"Track your driving performance and see your improvement over time"})]}),!o&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{style:{textAlign:"center",marginBottom:Oe.spacing.xl},children:[(0,Fe.jsx)("button",{style:f,onClick:()=>s(!0),children:"Take New Test"}),(0,Fe.jsx)("button",{style:m,onClick:()=>i("/dashboard"),children:"Back to Dashboard"})]}),c&&(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Latest Test Results"}),(0,Fe.jsxs)("div",{style:v,children:[(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("div",{style:b,children:c.finalScore}),(0,Fe.jsx)("div",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.sm},children:"RYP Driving Index\u2122"}),(0,Fe.jsxs)("div",{style:S,children:["Baseline: ",c.baselineHandicap," | Distance: ",c.averageDrive," yards"]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{style:{fontSize:Oe.typography.fontSizes.lg,marginBottom:Oe.spacing.md},children:"Shot Breakdown"}),(0,Fe.jsxs)("div",{style:S,children:[(0,Fe.jsxs)("div",{children:["Fairway Hits: ",c.testResults.fairwayHit]}),(0,Fe.jsxs)("div",{children:["Good Miss Left: ",c.testResults.goodMissLeft]}),(0,Fe.jsxs)("div",{children:["Good Miss Right: ",c.testResults.goodMissRight]}),(0,Fe.jsxs)("div",{children:["Bad Miss Left: ",c.testResults.badMissLeft]}),(0,Fe.jsxs)("div",{children:["Bad Miss Right: ",c.testResults.badMissRight]})]})]})]})]}),a.length>0&&(0,Fe.jsxs)("div",{style:y,children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Test History"}),a.map((e,t)=>(0,Fe.jsxs)("div",{style:x,children:[(0,Fe.jsxs)("div",{style:w,children:[new Date(e.date).toLocaleDateString()," - ",new Date(e.date).toLocaleTimeString()]}),(0,Fe.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes.lg,fontWeight:"bold"},children:["Score: ",e.finalScore]}),(0,Fe.jsxs)("div",{style:S,children:["Distance: ",e.averageDrive," yards | Fairway Hits: ",e.testResults.fairwayHit," | Bad Misses: ",e.testResults.badMissLeft+e.testResults.badMissRight]})]}),(0,Fe.jsxs)("div",{style:{fontSize:Oe.typography.fontSizes.sm,color:Oe.colors.text.secondary},children:["#",t+1]})]})]},e.id))]})]}),o&&(0,Fe.jsx)(An,{isOpen:o,onComplete:e=>{d(e),s(!1);const t={...e,date:(new Date).toISOString(),id:Date.now()};l(e=>[t,...e.slice(0,9)])},onClose:()=>s(!1)})]}):null};const Dn=function(){const e=ee(),{user:r,loading:i}=ze(),[o,s]=(0,t.useState)(1),[a,l]=(0,t.useState)({email:"",phone:"",participantName:"",participantAge:"",acceptTerms:!1,mediaPermissions:!1,hasViewedTerms:!1,golfProgram:"",fitnessProgram:"",mentalProgram:"",preferredSessions:[],knowsPreferredTimes:!1,interestedInLaterSessions:!1,referredBy:"",role:"student",emergencyContact:{name:"",phone:"",relationship:""}}),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r&&!i&&y()},[r,i]);const y=async()=>{if(r)try{const t=await(0,Pe.x7)((0,Pe.H9)(Re.db,"users",r.uid));if(t.exists()){if(t.data().accountSetupComplete)return void e("/dashboard")}s(2)}catch(u){console.error("Error checking user profile:",u),s(2)}},v=async()=>{d(!0),h("");try{const t=new Ae.HF,r=await(0,Ae.df)(Re.j2,t),i=await(0,Pe.x7)((0,Pe.H9)(Re.db,"users",r.user.uid));if(i.exists()){i.data().accountSetupComplete?e("/dashboard"):s(2)}else{const{userService:e}=await Promise.resolve().then(n.bind(n,737)),t=await e.generateUniqueStudentId();await(0,Pe.BN)((0,Pe.H9)(Re.db,"users",r.user.uid),{uid:r.user.uid,email:r.user.email,displayName:r.user.displayName||"User",photoURL:r.user.photoURL,studentId:t,createdAt:new Date,lastUpdated:new Date}),s(2)}}catch(u){console.error("Google sign-in error:",u),h(u.message)}finally{d(!1)}},x={maxWidth:"800px",margin:"0 auto",padding:Oe.spacing.xl,fontFamily:Oe.typography.fontFamily.body,backgroundColor:Oe.colors.background.primary,minHeight:"100vh",color:Oe.colors.text.primary},b={textAlign:"center",marginBottom:Oe.spacing["2xl"]},w={fontSize:Oe.typography.fontSizes["3xl"],fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md,fontFamily:Oe.typography.fontFamily.headline},S={fontSize:Oe.typography.fontSizes.lg,color:Oe.colors.text.secondary,marginBottom:Oe.spacing.lg},k={backgroundColor:Oe.colors.background.secondary,padding:Oe.spacing.xl,borderRadius:Oe.borderRadius.lg,border:`1px solid ${Oe.colors.border}`},C={marginBottom:Oe.spacing.xl,padding:Oe.spacing.lg,backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.md,border:`1px solid ${Oe.colors.border}`},j={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg,borderBottom:`2px solid ${Oe.colors.primary}`,paddingBottom:Oe.spacing.sm},E={marginBottom:Oe.spacing.lg},_={display:"block",marginBottom:Oe.spacing.sm,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,color:Oe.colors.text.primary},T={width:"100%",padding:Oe.spacing.md,border:`1px solid ${Oe.colors.border}`,borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,backgroundColor:Oe.colors.background.primary,color:Oe.colors.text.primary},I={marginRight:Oe.spacing.sm},R={display:"flex",alignItems:"center",marginBottom:Oe.spacing.sm,cursor:"pointer"},A={display:"flex",flexDirection:"column",gap:Oe.spacing.sm},P={display:"flex",alignItems:"center",cursor:"pointer"},D={width:"100%",padding:Oe.spacing.md,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",marginTop:Oe.spacing.lg},F={width:"100%",padding:Oe.spacing.md,backgroundColor:"#4285f4",color:"white",border:"none",borderRadius:Oe.borderRadius.md,fontSize:Oe.typography.fontSizes.base,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:Oe.spacing.sm},N={...D,backgroundColor:"transparent",color:Oe.colors.primary,border:`1px solid ${Oe.colors.primary}`,marginTop:Oe.spacing.md},z={color:Oe.colors.error,fontSize:Oe.typography.fontSizes.sm,marginTop:Oe.spacing.sm},M={display:"flex",justifyContent:"space-between",marginBottom:Oe.spacing.xl,padding:`0 ${Oe.spacing.lg}`},O={width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.bold},L={...O,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark},B={...O,backgroundColor:Oe.colors.background.secondary,color:Oe.colors.text.secondary,border:`1px solid ${Oe.colors.border}`},U={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:Oe.spacing.lg},$={backgroundColor:Oe.colors.background.primary,borderRadius:Oe.borderRadius.lg,padding:Oe.spacing.xl,maxWidth:"800px",maxHeight:"80vh",overflow:"auto",border:`1px solid ${Oe.colors.border}`,boxShadow:Oe.shadows.xl},W={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:Oe.spacing.lg,paddingBottom:Oe.spacing.md,borderBottom:`1px solid ${Oe.colors.border}`},V={fontSize:Oe.typography.fontSizes.xl,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,margin:0},H={background:"none",border:"none",fontSize:Oe.typography.fontSizes.xl,cursor:"pointer",color:Oe.colors.text.secondary,padding:Oe.spacing.sm},q={fontSize:Oe.typography.fontSizes.base,lineHeight:Oe.typography.lineHeights.relaxed,color:Oe.colors.text.primary,marginBottom:Oe.spacing.lg},G={marginBottom:Oe.spacing.lg},K={fontSize:Oe.typography.fontSizes.lg,fontWeight:Oe.typography.fontWeights.bold,color:Oe.colors.text.primary,marginBottom:Oe.spacing.md},Y={marginBottom:Oe.spacing.md,textAlign:"justify"},Q={padding:`${Oe.spacing.sm} ${Oe.spacing.md}`,backgroundColor:Oe.colors.primary,color:Oe.colors.text.dark,border:"none",borderRadius:Oe.borderRadius.sm,fontSize:Oe.typography.fontSizes.sm,fontWeight:Oe.typography.fontWeights.semibold,cursor:"pointer",marginLeft:Oe.spacing.sm},J=[{value:"4x",label:"4x Golf sessions per month - $200/month (Includes 2 tournaments)"},{value:"8x",label:"8x Golf sessions per month - $380/month (Includes 3 tournaments)"},{value:"12x",label:"12x Golf sessions per month - $540/month (Includes 4 tournaments)"},{value:"16x",label:"16x Golf sessions per month - $680/month (Includes 4 tournaments)"}],X=[{value:"4x",label:"4x Fitness sessions per month - $120/month"},{value:"8x",label:"8x Fitness sessions per month - $200/month"},{value:"12x",label:"12x Fitness sessions per month - $240/month"}],Z=[{value:"2x",label:"2x Mental Performance sessions per month"},{value:"4x",label:"4x Mental Performance sessions per month"}],te=["Monday 4pm Golf","Monday 4pm Fitness","Monday 5pm Golf","Monday 5pm Fitness","Tuesday 4pm Golf (waitlist)","Tuesday 4pm Fitness","Tuesday 5pm Golf","Tuesday 5pm Fitness","Wednesday 4pm Golf","Wednesday 4pm Fitness","Wednesday 5pm Golf","Wednesday 5pm Fitness","Thursday 4pm Golf (waitlist)","Thursday 4pm Fitness","Thursday 5pm Golf","Thursday 5pm Fitness","Saturday 10am Golf (waitlist)","Saturday 10am Fitness","Saturday 1pm Golf"],ne=(e,t)=>{l(n=>({...n,[e]:t}))},re=(e,t)=>{l(n=>({...n,[e]:t}))},ie=(e,t)=>{l(n=>({...n,emergencyContact:{...n.emergencyContact,[e]:t}}))};return i?(0,Fe.jsxs)("div",{style:x,children:[(0,Fe.jsxs)("div",{style:{textAlign:"center",padding:Oe.spacing["2xl"]},children:[(0,Fe.jsx)("div",{style:{width:"40px",height:"40px",border:`4px solid ${Oe.colors.border}`,borderTop:`4px solid ${Oe.colors.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,Fe.jsx)("p",{children:"Loading..."})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):(0,Fe.jsxs)("div",{style:x,children:[(0,Fe.jsxs)("div",{style:b,children:[(0,Fe.jsx)("h1",{style:w,children:"2024 RYP Academy Registration"}),(0,Fe.jsx)("p",{style:S,children:"Join the premier facility for winter game improvement in the Minneapolis area"})]}),(0,Fe.jsxs)("div",{style:M,children:[(0,Fe.jsx)("div",{style:o>=1?L:B,children:"1"}),(0,Fe.jsx)("div",{style:o>=2?L:B,children:"2"})]}),(0,Fe.jsxs)("div",{style:k,children:[1===o&&(0,Fe.jsxs)("div",{style:{textAlign:"center"},children:[(0,Fe.jsx)("h2",{style:{fontSize:Oe.typography.fontSizes.xl,marginBottom:Oe.spacing.lg},children:"Sign in with Google to continue"}),(0,Fe.jsxs)("button",{style:F,onClick:v,disabled:c,children:[(0,Fe.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,Fe.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Fe.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Fe.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Fe.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c?"Signing in...":"Continue with Google"]}),(0,Fe.jsx)("div",{style:{marginTop:Oe.spacing.lg},children:(0,Fe.jsxs)("p",{style:{color:Oe.colors.text.secondary},children:["Already have an account?"," ",(0,Fe.jsx)("a",{href:"/login",style:{color:Oe.colors.primary,textDecoration:"none"},children:"Sign in here"})]})})]}),2===o&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Basic Information"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Email Address *"}),(0,Fe.jsx)("input",{type:"email",style:T,value:a.email,onChange:e=>ne("email",e.target.value),placeholder:"Enter your email address"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Phone Number *"}),(0,Fe.jsx)("input",{type:"tel",style:T,value:a.phone,onChange:e=>ne("phone",e.target.value),placeholder:"Enter your phone number"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Name of Participant *"}),(0,Fe.jsx)("input",{type:"text",style:T,value:a.participantName,onChange:e=>ne("participantName",e.target.value),placeholder:"Enter participant's full name"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Age of Participant *"}),(0,Fe.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",style:T,value:a.participantAge,onChange:e=>(e=>{const t=String(e||"").replace(/\D/g,"");l(e=>({...e,participantAge:t}))})(e.target.value),placeholder:"Enter participant's age",maxLength:2})]})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Terms and Permissions"}),(0,Fe.jsx)("div",{style:E,children:(0,Fe.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:Oe.spacing.md},children:[(0,Fe.jsxs)("label",{style:R,children:[(0,Fe.jsx)("input",{type:"checkbox",style:{...I,cursor:f?"pointer":"not-allowed"},checked:a.hasViewedTerms,disabled:!f,onChange:e=>f&&re("hasViewedTerms",e.target.checked)}),"I have viewed and read the Liability & Media Release Form *"]}),(0,Fe.jsx)("button",{style:Q,onClick:()=>{m(!0),g(!0)},children:"View Terms"})]})}),(0,Fe.jsx)("div",{style:E,children:(0,Fe.jsxs)("label",{style:R,children:[(0,Fe.jsx)("input",{type:"checkbox",style:I,checked:a.acceptTerms,onChange:e=>{return t=e.target.checked,void l(e=>({...e,acceptTerms:t,mediaPermissions:!t&&e.mediaPermissions}));var t}}),"I have read, understand, and agree to the terms and conditions of the Liability & Media Release Form *"]})}),(0,Fe.jsx)("div",{style:E,children:(0,Fe.jsxs)("label",{style:R,children:[(0,Fe.jsx)("input",{type:"checkbox",style:I,checked:a.mediaPermissions,onChange:e=>{return t=e.target.checked,void l(e=>({...e,mediaPermissions:t,acceptTerms:!t&&e.acceptTerms}));var t}}),"I DO NOT grant media permissions & ACCEPT terms"]})})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Program Selection"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Golf Coaching Program"}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"golfProgram",value:"",checked:""===a.golfProgram,onChange:e=>ne("golfProgram",e.target.value),style:I}),"None"]}),J.map(e=>(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"golfProgram",value:e.value,checked:a.golfProgram===e.value,onChange:e=>ne("golfProgram",e.target.value),style:I}),e.label]},e.value))]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Fitness Program"}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"fitnessProgram",value:"",checked:""===a.fitnessProgram,onChange:e=>ne("fitnessProgram",e.target.value),style:I}),"None"]}),X.map(e=>(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"fitnessProgram",value:e.value,checked:a.fitnessProgram===e.value,onChange:e=>ne("fitnessProgram",e.target.value),style:I}),e.label]},e.value))]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Mental Performance Program"}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"mentalProgram",value:"",checked:""===a.mentalProgram,onChange:e=>ne("mentalProgram",e.target.value),style:I}),"None"]}),Z.map(e=>(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"mentalProgram",value:e.value,checked:a.mentalProgram===e.value,onChange:e=>ne("mentalProgram",e.target.value),style:I}),e.label]},e.value))]})]})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Session Preferences"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Preferred Sessions (Check all that apply)"}),(0,Fe.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:Oe.spacing.sm},children:te.map(e=>(0,Fe.jsxs)("label",{style:R,children:[(0,Fe.jsx)("input",{type:"checkbox",checked:a.preferredSessions.includes(e),onChange:()=>(e=>{l(t=>({...t,preferredSessions:t.preferredSessions.includes(e)?t.preferredSessions.filter(t=>t!==e):[...t.preferredSessions,e]}))})(e),style:I}),e]},e))})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Do you know what days and times you'd prefer?"}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"knowsPreferredTimes",value:"true",checked:!0===a.knowsPreferredTimes,onChange:e=>ne("knowsPreferredTimes","true"===e.target.value),style:I}),"Yes"]}),(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"knowsPreferredTimes",value:"false",checked:!1===a.knowsPreferredTimes,onChange:e=>ne("knowsPreferredTimes","true"===e.target.value),style:I}),"No"]})]})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Would a later session on Mon-Thu interest you? (6-7pm)"}),(0,Fe.jsxs)("div",{style:A,children:[(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"interestedInLaterSessions",value:"true",checked:!0===a.interestedInLaterSessions,onChange:e=>ne("interestedInLaterSessions","true"===e.target.value),style:I}),"Yes"]}),(0,Fe.jsxs)("label",{style:P,children:[(0,Fe.jsx)("input",{type:"radio",name:"interestedInLaterSessions",value:"false",checked:!1===a.interestedInLaterSessions,onChange:e=>ne("interestedInLaterSessions","true"===e.target.value),style:I}),"No"]})]})]})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Referral Information"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Who referred you?"}),(0,Fe.jsx)("input",{type:"text",style:T,value:a.referredBy,onChange:e=>ne("referredBy",e.target.value),placeholder:"Enter the name of who referred you (optional)"})]})]}),(0,Fe.jsxs)("div",{style:C,children:[(0,Fe.jsx)("h3",{style:j,children:"Emergency Contact"}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Emergency Contact Name"}),(0,Fe.jsx)("input",{type:"text",style:T,value:a.emergencyContact.name,onChange:e=>ie("name",e.target.value),placeholder:"Emergency contact name"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Emergency Contact Phone"}),(0,Fe.jsx)("input",{type:"tel",style:T,value:a.emergencyContact.phone,onChange:e=>ie("phone",e.target.value),placeholder:"Emergency contact phone"})]}),(0,Fe.jsxs)("div",{style:E,children:[(0,Fe.jsx)("label",{style:_,children:"Relationship to Participant"}),(0,Fe.jsx)("input",{type:"text",style:T,value:a.emergencyContact.relationship,onChange:e=>ie("relationship",e.target.value),placeholder:"Relationship to participant"})]})]})]}),u&&(0,Fe.jsx)("div",{style:z,children:u}),2===o&&(0,Fe.jsxs)("div",{style:{display:"flex",gap:Oe.spacing.md},children:[(0,Fe.jsx)("button",{style:N,onClick:()=>s(1),children:"Back"}),(0,Fe.jsx)("button",{style:D,onClick:async()=>{if(a.participantName&&a.participantAge&&a.phone?a.hasViewedTerms?a.acceptTerms&&a.mediaPermissions||!a.acceptTerms&&!a.mediaPermissions?(h("Please select exactly one: either agree to the terms as-is, OR do not grant media permissions (while accepting terms)."),0):a.golfProgram||a.fitnessProgram||a.mentalProgram?(h(""),1):(h("Please select at least one program (Golf, Fitness, or Mental Performance)."),0):(h("You must view the Liability & Media Release Form and confirm you have read it."),0):(h("Please fill in all required fields"),0))try{await(0,Pe.BN)((0,Pe.H9)(Re.db,"users",r.uid),{...a,accountSetupComplete:!0,setupCompletedAt:new Date,lastUpdated:new Date},{merge:!0}),e("/dashboard")}catch(u){console.error("Error completing profile:",u),h("Failed to save profile. Please try again.")}},children:"Complete Registration"})]})]}),p&&(0,Fe.jsx)("div",{style:U,onClick:()=>g(!1),children:(0,Fe.jsxs)("div",{style:$,onClick:e=>e.stopPropagation(),children:[(0,Fe.jsxs)("div",{style:W,children:[(0,Fe.jsx)("h2",{style:V,children:"RYP Golf Academy Liability & Media Release Form"}),(0,Fe.jsx)("button",{style:H,onClick:()=>g(!1),children:"\xd7"})]}),(0,Fe.jsxs)("div",{style:q,children:[(0,Fe.jsxs)("div",{style:G,children:[(0,Fe.jsx)("h3",{style:K,children:"Liability Release"}),(0,Fe.jsx)("p",{style:Y,children:"I hereby acknowledge that participation in golf and fitness activities at RYP Golf Academy involves inherent risks, including potential for injury. As the parent or legal guardian of the above-named participant, I agree to hold harmless, indemnify, and release RYP Golf Academy, its coaches, staff members, facility owners, and affiliates from any liability, claim, or demand arising from any injury or loss sustained during participation in academy activities."}),(0,Fe.jsx)("p",{style:Y,children:"I affirm that my child is physically able to participate in these activities and will inform RYP Golf Academy staff of any pre-existing medical conditions or restrictions prior to participation."})]}),(0,Fe.jsxs)("div",{style:G,children:[(0,Fe.jsx)("h3",{style:K,children:"Media and Photography Release"}),(0,Fe.jsx)("p",{style:Y,children:"I grant RYP Golf Academy permission to photograph, videotape, and otherwise document my child's participation in academy activities. These images and videos may be used for promotional purposes on RYP Golf Academy's website, social media channels, marketing materials, and in other promotional contexts."})]}),(0,Fe.jsxs)("div",{style:G,children:[(0,Fe.jsx)("h3",{style:K,children:"Acknowledgment"}),(0,Fe.jsx)("p",{style:Y,children:"By checking, I confirm that I have read, understand, and agree to the terms and conditions of this Liability & Media Release Form."})]})]}),(0,Fe.jsx)("div",{style:{textAlign:"center"},children:(0,Fe.jsx)("button",{style:D,onClick:()=>{g(!1),re("hasViewedTerms",!0)},children:"I Have Read and Understood the Terms"})})]})})]})};const Fn=function(){return(0,Fe.jsx)($e,{children:(0,Fe.jsx)(Me,{children:(0,Fe.jsx)(Ce,{children:(0,Fe.jsxs)("div",{className:"App",children:[(0,Fe.jsx)(He,{}),(0,Fe.jsxs)(ve,{children:[(0,Fe.jsx)(me,{path:"/",element:(0,Fe.jsx)(fe,{to:"/login",replace:!0})}),(0,Fe.jsx)(me,{path:"/login",element:(0,Fe.jsx)(Ge,{})}),(0,Fe.jsx)(me,{path:"/register",element:(0,Fe.jsx)(Dn,{})}),(0,Fe.jsx)(me,{path:"/unauthorized",element:(0,Fe.jsx)(Rn,{})}),(0,Fe.jsx)(me,{path:"/dashboard",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(et,{})})}),(0,Fe.jsx)(me,{path:"/admin",element:(0,Fe.jsx)(Be,{requiredRole:"admin",children:(0,Fe.jsx)(Ze,{})})}),(0,Fe.jsx)(me,{path:"/coach",element:(0,Fe.jsx)(Be,{requiredRole:"coach",children:(0,Fe.jsx)(Je,{})})}),(0,Fe.jsx)(me,{path:"/parent",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(rt,{})})}),(0,Fe.jsx)(me,{path:"/programs",element:(0,Fe.jsx)(it,{})}),(0,Fe.jsx)(me,{path:"/programs/:id",element:(0,Fe.jsx)(ot,{})}),(0,Fe.jsx)(me,{path:"/booking",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(ct,{})})}),(0,Fe.jsx)(me,{path:"/profile",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(ut,{})})}),(0,Fe.jsx)(me,{path:"/videos",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(ht,{})})}),(0,Fe.jsx)(me,{path:"/my-bookings",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(pt,{})})}),(0,Fe.jsx)(me,{path:"/driving-test",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(Pn,{})})}),(0,Fe.jsx)(me,{path:"/sessions",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(vt,{})})}),(0,Fe.jsx)(me,{path:"/mental-performance",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(xt,{})})}),(0,Fe.jsx)(me,{path:"/data-upload",element:(0,Fe.jsx)(Be,{children:(0,Fe.jsx)(Tn,{})})}),(0,Fe.jsx)(me,{path:"/sms-test",element:(0,Fe.jsx)(Be,{requiredRole:"admin",children:(0,Fe.jsx)(In,{})})}),(0,Fe.jsx)(me,{path:"/admin/waitlist",element:(0,Fe.jsx)(Be,{requiredRole:"admin",children:(0,Fe.jsx)(dt,{})})})]})]})})})})};i.createRoot(document.getElementById("root")).render((0,Fe.jsx)(t.StrictMode,{children:(0,Fe.jsx)(Fn,{})}))})()})();
//# sourceMappingURL=main.3a0deffa.js.map